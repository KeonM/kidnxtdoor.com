var Px=Object.defineProperty,Fx=Object.defineProperties;var Lx=Object.getOwnPropertyDescriptors;var Vw=Object.getOwnPropertySymbols;var Vx=Object.prototype.hasOwnProperty,jx=Object.prototype.propertyIsEnumerable;var jw=(t,e,n)=>e in t?Px(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})Vx.call(e,n)&&jw(t,n,e[n]);if(Vw)for(var n of Vw(e))jx.call(e,n)&&jw(t,n,e[n]);return t},pe=(t,e)=>Fx(t,Lx(e));var et=null,zu=!1,Ep=1,Bx=null,jt=Symbol("SIGNAL");function ne(t){let e=et;return et=t,e}function qu(){return et}var Wu={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gu(t){if(zu)throw new Error("");if(et===null)return;et.consumerOnSignalRead(t);let e=et.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=et.recomputing;if(r&&(n=e!==void 0?e.nextProducer:et.producers,n!==void 0&&n.producer===t)){et.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===et&&(!r||$x(i,et)))return;let o=Io(et),s={producer:t,consumer:et,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};et.producersTail=s,e!==void 0?e.nextProducer=s:et.producers=s,o&&zw(t,s)}function Bw(){Ep++}function Uw(t){if(!(Io(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ep)){if(!t.producerMustRecompute(t)&&!Qu(t)){_p(t);return}t.producerRecomputeValue(t),_p(t)}}function Ip(t){if(t.consumers===void 0)return;let e=zu;zu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Ux(r)}}finally{zu=e}}function wp(){return et?.consumerAllowSignalWrites!==!1}function Ux(t){t.dirty=!0,Ip(t),t.consumerMarkedDirty?.(t)}function _p(t){t.dirty=!1,t.lastCleanEpoch=Ep}function Ku(t){return t&&$w(t),ne(t)}function $w(t){t.producersTail=void 0,t.recomputing=!0}function bp(t,e){ne(e),t&&Hw(t)}function Hw(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Io(t))do n=Dp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Qu(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Uw(n),r!==n.version))return!0}return!1}function pa(t){if(Io(t)){let e=t.producers;for(;e!==void 0;)e=Dp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function zw(t,e){let n=t.consumersTail,r=Io(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)zw(i.producer,i)}function Dp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Io(e)){let o=e.producers;for(;o!==void 0;)o=Dp(o)}return n}function Io(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function qw(t){Bx?.(t)}function $x(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ww(t,e){return Object.is(t,e)}function Hx(){throw new Error}var Gw=Hx;function Kw(t){Gw(t)}function Cp(t){Gw=t}var zx=null;function Tp(t,e){let n=Object.create(Yu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Qw(n);return r[jt]=n,qw(n),[r,s=>ga(n,s),s=>Yw(n,s)]}function Qw(t){return Gu(t),t.value}function ga(t,e){wp()||Kw(t),t.equal(t.value,e)||(t.value=e,qx(t))}function Yw(t,e){wp()||Kw(t),ga(t,e(t.value))}var Yu=pe(F({},Wu),{equal:Ww,value:void 0,kind:"signal"});function qx(t){t.version++,Bw(),Ip(t),zx?.(t)}function Sp(t){let e=ne(null);try{return t()}finally{ne(e)}}function Z(t){return typeof t=="function"}function wo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ju=wo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ri(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Jw(o)}catch(s){e=e??[],s instanceof Ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ju(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Jw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ri(n,e)}remove(e){let{_finalizers:n}=this;n&&ri(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Ap=ke.EMPTY;function Zu(t){return t instanceof ke||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function Jw(t){Z(t)?t():t.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bo={setTimeout(t,e,...n){let{delegate:r}=bo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=bo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xu(t){bo.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(t);else throw t})}function ma(){}var Zw=Mp("C",void 0,void 0);function Xw(t){return Mp("E",void 0,t)}function eb(t){return Mp("N",t,void 0)}function Mp(t,e,n){return{kind:t,value:e,error:n}}var ii=null;function Do(t){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!ii;if(e&&(ii={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ii;if(ii=null,n)throw r}}else t()}function tb(t){Jt.useDeprecatedSynchronousErrorHandling&&ii&&(ii.errorThrown=!0,ii.error=t)}var oi=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zu(e)&&e.add(this)):this.destination=Kx}static create(e,n,r){return new Co(e,n,r)}next(e){this.isStopped?Rp(eb(e),this):this._next(e)}error(e){this.isStopped?Rp(Xw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rp(Zw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Wx=Function.prototype.bind;function Np(t,e){return Wx.call(t,e)}var xp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){el(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){el(r)}else el(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){el(n)}}},Co=class extends oi{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Np(e.next,o),error:e.error&&Np(e.error,o),complete:e.complete&&Np(e.complete,o)}):i=e}this.destination=new xp(i)}};function el(t){Jt.useDeprecatedSynchronousErrorHandling?tb(t):Xu(t)}function Gx(t){throw t}function Rp(t,e){let{onStoppedNotification:n}=Jt;n&&bo.setTimeout(()=>n(t,e))}var Kx={closed:!0,next:ma,error:Gx,complete:ma};var To=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(t){return t}function Op(...t){return kp(t)}function kp(t){return t.length===0?Zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Yx(n)?n:new Co(n,r,i);return Do(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=nb(r),new r((i,o)=>{let s=new Co({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[To](){return this}pipe(...n){return kp(n)(this)}toPromise(n){return n=nb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function nb(t){var e;return(e=t??Jt.Promise)!==null&&e!==void 0?e:Promise}function Qx(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function Yx(t){return t&&t instanceof oi||Qx(t)&&Zu(t)}function Jx(t){return Z(t?.lift)}function me(t){return e=>{if(Jx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(t,e,n,r,i){return new Pp(t,e,n,r,i)}var Pp=class extends oi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var rb=wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rb}next(n){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ap:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,ri(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new tl(e,n),t})(),tl=class extends Ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ap}};var Ke=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fp={now(){return(Fp.delegate||Date).now()},delegate:void 0};var nl=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var ya={setInterval(t,e,...n){let{delegate:r}=ya;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ya;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var rl=class extends nl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ya.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ya.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ri(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var So=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};So.now=Fp.now;var il=class extends So{constructor(e,n=So.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Lp=new il(rl),ib=Lp;var Et=new le(t=>t.complete());function ol(t){return t&&Z(t.schedule)}function ob(t){return t[t.length-1]}function sb(t){return Z(ob(t))?t.pop():void 0}function gr(t){return ol(ob(t))?t.pop():void 0}function cb(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function ab(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function ub(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function c(v,S){r[v]&&(i[v]=function(N){return new Promise(function(R,U){o.push([v,N,R,U])>1||u(v,N)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(N){m(o[0][3],N)}}function l(v){v.value instanceof si?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function lb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ab=="function"?ab(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var sl=t=>t&&typeof t.length=="number"&&typeof t!="function";function al(t){return Z(t?.then)}function cl(t){return Z(t[To])}function ul(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function ll(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Zx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dl=Zx();function fl(t){return Z(t?.[dl])}function hl(t){return ub(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield si(n.read());if(i)return yield si(void 0);yield yield si(r)}}finally{n.releaseLock()}})}function pl(t){return Z(t?.getReader)}function Ve(t){if(t instanceof le)return t;if(t!=null){if(cl(t))return Xx(t);if(sl(t))return e1(t);if(al(t))return t1(t);if(ul(t))return db(t);if(fl(t))return n1(t);if(pl(t))return r1(t)}throw ll(t)}function Xx(t){return new le(e=>{let n=t[To]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function e1(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function t1(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xu)})}function n1(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function db(t){return new le(e=>{i1(t,e).catch(n=>e.error(n))})}function r1(t){return db(hl(t))}function i1(t,e){var n,r,i,o;return cb(this,void 0,void 0,function*(){try{for(n=lb(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function gl(t,e=0){return me((n,r)=>{n.subscribe(ve(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function ml(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fb(t,e){return Ve(t).pipe(ml(e),gl(e))}function hb(t,e){return Ve(t).pipe(ml(e),gl(e))}function pb(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gb(t,e){return new le(n=>{let r;return It(n,e,()=>{r=t[dl](),It(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function yl(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mb(t,e){return yl(hl(t),e)}function yb(t,e){if(t!=null){if(cl(t))return fb(t,e);if(sl(t))return pb(t,e);if(al(t))return hb(t,e);if(ul(t))return yl(t,e);if(fl(t))return gb(t,e);if(pl(t))return mb(t,e)}throw ll(t)}function je(t,e){return e?yb(t,e):Ve(t)}function ae(...t){let e=gr(t);return je(t,e)}function Vp(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function vl(t){return!!t&&(t instanceof le||Z(t.lift)&&Z(t.subscribe))}var ai=wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function vb(t){return t instanceof Date&&!isNaN(t)}function De(t,e){return me((n,r)=>{let i=0;n.subscribe(ve(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:o1}=Array;function s1(t,e){return o1(e)?t(...e):t(e)}function _b(t){return De(e=>s1(t,e))}var{isArray:a1}=Array,{getPrototypeOf:c1,prototype:u1,keys:l1}=Object;function Eb(t){if(t.length===1){let e=t[0];if(a1(e))return{args:e,keys:null};if(d1(e)){let n=l1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function d1(t){return t&&typeof t=="object"&&c1(t)===u1}function Ib(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function jp(...t){let e=gr(t),n=sb(t),{args:r,keys:i}=Eb(t);if(r.length===0)return je([],e);let o=new le(f1(r,e,i?s=>Ib(i,s):Zt));return n?o.pipe(_b(n)):o}function f1(t,e,n=Zt){return r=>{wb(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)wb(e,()=>{let l=je(t[u],e),h=!1;l.subscribe(ve(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wb(t,e,n){t?It(n,t,e):e()}function bb(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let R=!1;Ve(n(N,h++)).subscribe(ve(e,U=>{i?.(U),o?v(U):e.next(U)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let U=u.shift();s?It(e,s,()=>S(U)):S(U)}m()}catch(U){e.error(U)}}))};return t.subscribe(ve(e,v,()=>{p=!0,m()})),()=>{c?.()}}function pt(t,e,n=1/0){return Z(e)?pt((r,i)=>De((o,s)=>e(r,o,i,s))(Ve(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>bb(r,i,t,n)))}function Db(t=1/0){return pt(Zt,t)}function Cb(){return Db(1)}function Ao(...t){return Cb()(je(t,gr(t)))}function va(t){return new le(e=>{Ve(t()).subscribe(e)})}function Tb(t=0,e,n=ib){let r=-1;return e!=null&&(ol(e)?n=e:r=e),new le(i=>{let o=vb(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Bp(t=0,e=Lp){return t<0&&(t=0),Tb(t,t,e)}function _n(t,e){return me((n,r)=>{let i=0;n.subscribe(ve(r,o=>t.call(e,o,i++)&&r.next(o)))})}function _a(t){return me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ve(n,void 0,void 0,s=>{o=Ve(t(s,_a(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _l(t,e){return Z(e)?pt(t,e,1):pt(t,1)}function Up(t){return me((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function $n(t){return t<=0?()=>Et:me((e,n)=>{let r=0;e.subscribe(ve(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sb(t=h1){return me((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function h1(){return new ai}function $p(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?_n((i,o)=>t(i,o,r)):Zt,$n(1),n?Up(e):Sb(()=>new ai))}function El(t){return t<=0?()=>Et:me((e,n)=>{let r=[];e.subscribe(ve(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hp(...t){let e=gr(t);return me((n,r)=>{(e?Ao(t,n,e):Ao(t,n)).subscribe(r)})}function En(t,e){return me((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ve(r,u=>{i?.unsubscribe();let l=0,h=o++;Ve(t(u,h)).subscribe(i=ve(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Ea(t){return me((e,n)=>{Ve(t).subscribe(ve(n,()=>n.complete(),ma)),!n.closed&&e.subscribe(n)})}function gt(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ve(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Zt}var zp;function Il(){return zp}function In(t){let e=zp;return zp=t,e}var Ab=Symbol("NotFound");function Mo(t){return t===Ab||t?.name==="\u0275NotFound"}var Sl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,n){super(xo(e,n)),this.code=e}};function y1(t){return`NG0${Math.abs(t)}`}function xo(t,e){return`${y1(t)}${e?": "+e:""}`}var Ta=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("")}function mr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(mr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function og(t,e){return t?e?`${t} ${e}`:t:e||""}var v1=ye({__forward_ref__:ye});function Sa(t){return t.__forward_ref__=Sa,t.toString=function(){return mr(this())},t}function wt(t){return sg(t)?t():t}function sg(t){return typeof t=="function"&&t.hasOwnProperty(v1)&&t.__forward_ref__===Sa}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Aa(t){return _1(t,Al)}function ag(t){return Aa(t)!==null}function _1(t,e){return t.hasOwnProperty(e)&&t[e]||null}function E1(t){let e=t?.[Al]??null;return e||null}function Wp(t){return t&&t.hasOwnProperty(bl)?t[bl]:null}var Al=ye({\u0275prov:ye}),bl=ye({\u0275inj:ye}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cg(t){return t&&!!t.\u0275providers}var ug=ye({\u0275cmp:ye}),lg=ye({\u0275dir:ye}),dg=ye({\u0275pipe:ye}),fg=ye({\u0275mod:ye}),wa=ye({\u0275fac:ye}),fi=ye({__NG_ELEMENT_ID__:ye}),Mb=ye({__NG_ENV_ID__:ye});function hg(t){return typeof t=="string"?t:t==null?"":String(t)}function Ob(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hg(t)}var kb=ye({ngErrorCode:ye}),I1=ye({ngErrorMessage:ye}),w1=ye({ngTokenPath:ye});function pg(t,e){return Pb("",-200,e)}function Ml(t,e){throw new H(-201,!1)}function Pb(t,e,n){let r=new H(e,t);return r[kb]=e,r[I1]=t,n&&(r[w1]=n),r}function b1(t){return t[kb]}var Gp;function Fb(){return Gp}function Tt(t){let e=Gp;return Gp=t,e}function gg(t,e,n){let r=Aa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Ml(t,"Injector")}var D1={},ci=D1,C1="__NG_DI_FLAG__",Kp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ui(n)||0;try{return this.injector.get(e,r&8?null:ci,r)}catch(i){if(Mo(i))return i;throw i}}};function T1(t,e=0){let n=Il();if(n===void 0)throw new H(-203,!1);if(n===null)return gg(t,void 0,e);{let r=S1(e),i=n.retrieve(t,r);if(Mo(i)){if(r.optional)return null;throw i}return i}}function ee(t,e=0){return(Fb()||T1)(wt(t),e)}function O(t,e){return ee(t,ui(e))}function ui(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function S1(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Qp(t){let e=[];for(let n=0;n<t.length;n++){let r=wt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=A1(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ee(i,o))}else e.push(ee(r))}return e}function A1(t){return t[C1]}function li(t,e){let n=t.hasOwnProperty(wa);return n?t[wa]:null}function Lb(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Vb(t){return t.flat(Number.POSITIVE_INFINITY)}function Nl(t,e){t.forEach(n=>Array.isArray(n)?Nl(n,e):e(n))}function mg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ma(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var hi={},Xt=[],pi=new z(""),yg=new z("",-1),vg=new z(""),ba=class{get(e,n=ci){if(n===ci){let i=Pb("",-201);throw i.name="\u0275NotFound",i}return n}};function _g(t){return t[fg]||null}function vr(t){return t[ug]||null}function Eg(t){return t[lg]||null}function jb(t){return t[dg]||null}function gi(t){return{\u0275providers:t}}function Bb(t){return gi([{provide:pi,multi:!0,useValue:t}])}function Ub(...t){return{\u0275providers:Ig(!0,t),\u0275fromNgModule:!0}}function Ig(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Nl(e,s=>{let c=s;Dl(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&$b(i,o),n}function $b(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];wg(i,o=>{e(o,r)})}}function Dl(t,e,n,r){if(t=wt(t),!t)return!1;let i=null,o=Wp(t),s=!o&&vr(t);if(!o&&!s){let u=t.ngModule;if(o=Wp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Dl(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Nl(o.imports,h=>{Dl(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&$b(l,e)}if(!c){let l=li(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:vg,useValue:i,multi:!0},i),e({provide:pi,useValue:()=>ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;wg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function wg(t,e){for(let n of t)cg(n)&&(n=n.\u0275providers),Array.isArray(n)?wg(n,e):e(n)}var M1=ye({provide:String,useValue:ye});function Hb(t){return t!==null&&typeof t=="object"&&M1 in t}function N1(t){return!!(t&&t.useExisting)}function R1(t){return!!(t&&t.useFactory)}function Cl(t){return typeof t=="function"}var Na=new z(""),wl={},Nb={},qp;function Ra(){return qp===void 0&&(qp=new ba),qp}var nt=class{},di=class extends nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Jp(e,s=>this.processProvider(s)),this.records.set(yg,No(void 0,this)),i.has("environment")&&this.records.set(nt,No(void 0,this));let o=this.records.get(Na);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vg,Xt,{self:!0}))}retrieve(e,n){let r=ui(n)||0;try{return this.get(e,ci,r)}catch(i){if(Mo(i))return i;throw i}}destroy(){Ia(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return Ia(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ia(this);let n=In(this),r=Tt(void 0),i;try{return e()}finally{In(n),Tt(r)}}get(e,n=ci,r){if(Ia(this),e.hasOwnProperty(Mb))return e[Mb](this);let i=ui(r),o,s=In(this),c=Tt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=F1(e)&&Aa(e);h&&this.injectableDefInScope(h)?l=No(Yp(e),wl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ra():this.parent;return n=i&8&&n===ci?null:n,u.get(e,n)}catch(u){let l=b1(u);throw l===-200||l===-201?new H(l,null):u}finally{Tt(c),In(s)}}resolveInjectorInitializers(){let e=ne(null),n=In(this),r=Tt(void 0),i;try{let o=this.get(pi,Xt,{self:!0});for(let s of o)s()}finally{In(n),Tt(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=wt(e);let n=Cl(e)?e:wt(e&&e.provide),r=O1(e);if(!Cl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=No(void 0,wl,!0),i.factory=()=>Qp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ne(null);try{if(n.value===Nb)throw pg(mr(e));return n.value===wl&&(n.value=Nb,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&P1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yp(t){let e=Aa(t),n=e!==null?e.factory:li(t);if(n!==null)return n;if(t instanceof z)throw new H(204,!1);if(t instanceof Function)return x1(t);throw new H(204,!1)}function x1(t){if(t.length>0)throw new H(204,!1);let n=E1(t);return n!==null?()=>n.factory(t):()=>new t}function O1(t){if(Hb(t))return No(void 0,t.useValue);{let e=zb(t);return No(e,wl)}}function zb(t,e,n){let r;if(Cl(t)){let i=wt(t);return li(i)||Yp(i)}else if(Hb(t))r=()=>wt(t.useValue);else if(R1(t))r=()=>t.useFactory(...Qp(t.deps||[]));else if(N1(t))r=(i,o)=>ee(wt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=wt(t&&(t.useClass||t.provide));if(k1(t))r=()=>new i(...Qp(t.deps));else return li(i)||Yp(i)}return r}function Ia(t){if(t.destroyed)throw new H(205,!1)}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function k1(t){return!!t.deps}function P1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function F1(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Jp(t,e){for(let n of t)Array.isArray(n)?Jp(n,e):n&&cg(n)?Jp(n.\u0275providers,e):e(n)}function mt(t,e){let n;t instanceof di?(Ia(t),n=t):n=new Kp(t);let r,i=In(n),o=Tt(void 0);try{return e()}finally{In(i),Tt(o)}}function qb(){return Fb()!==void 0||Il()!=null}var tn=0,G=1,Q=2,Be=3,Bt=4,Ut=5,xa=6,Oo=7,rt=8,_r=9,wn=10,Ue=11,ko=12,bg=13,mi=14,$t=15,Er=16,yi=17,bn=18,Oa=19,Dg=20,zn=21,Rl=22,ka=23,At=24,xl=25,Pa=26,it=27,Wb=1;var Ir=7,Fa=8,vi=9,yt=10;function Gn(t){return Array.isArray(t)&&typeof t[Wb]=="object"}function nn(t){return Array.isArray(t)&&t[Wb]===!0}function Cg(t){return(t.flags&4)!==0}function wr(t){return t.componentOffset>-1}function Po(t){return(t.flags&1)===1}function _i(t){return!!t.template}function Fo(t){return(t[Q]&512)!==0}function Ei(t){return(t[Q]&256)===256}var Gb="svg",Kb="math";function rn(t){for(;Array.isArray(t);)t=t[tn];return t}function Dn(t,e){return rn(e[t.index])}function Ol(t,e){return t.data[e]}function Qb(t,e){return t[e]}function on(t,e){let n=e[t];return Gn(n)?n:n[tn]}function Yb(t){return(t[Q]&4)===4}function kl(t){return(t[Q]&128)===128}function Jb(t){return nn(t[Be])}function Ii(t,e){return e==null?null:t[e]}function Tg(t){t[yi]=0}function Sg(t){t[Q]&1024||(t[Q]|=1024,kl(t)&&Va(t))}function Zb(t,e){for(;t>0;)e=e[mi],t--;return e}function La(t){return!!(t[Q]&9216||t[At]?.dirty)}function Pl(t){t[wn].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),La(t)&&Va(t)}function Va(t){t[wn].changeDetectionScheduler?.notify(0);let e=yr(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!kl(e)));)e=yr(e)}function Ag(t,e){if(Ei(t))throw new H(911,!1);t[zn]===null&&(t[zn]=[]),t[zn].push(e)}function Xb(t,e){if(t[zn]===null)return;let n=t[zn].indexOf(e);n!==-1&&t[zn].splice(n,1)}function yr(t){let e=t[Be];return nn(e)?e[Be]:e}function Mg(t){return t[Oo]??=[]}function Ng(t){return t.cleanup??=[]}function eD(t,e,n,r){let i=Mg(e);i.push(n),t.firstCreatePass&&Ng(t).push(r,i.length-1)}var se={lFrame:hD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zp=!1;function tD(){return se.lFrame.elementDepthCount}function nD(){se.lFrame.elementDepthCount++}function Rg(){se.lFrame.elementDepthCount--}function Fl(){return se.bindingsEnabled}function rD(){return se.skipHydrationRootTNode!==null}function xg(t){return se.skipHydrationRootTNode===t}function Og(){se.skipHydrationRootTNode=null}function be(){return se.lFrame.lView}function sn(){return se.lFrame.tView}function k(t){return se.lFrame.contextLView=t,t[rt]}function P(t){return se.lFrame.contextLView=null,t}function Mt(){let t=kg();for(;t!==null&&t.type===64;)t=t.parent;return t}function kg(){return se.lFrame.currentTNode}function iD(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Lo(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function Pg(){return se.lFrame.isParent}function oD(){se.lFrame.isParent=!1}function sD(){return se.lFrame.contextLView}function Fg(){return Zp}function Lg(t){let e=Zp;return Zp=t,e}function aD(t){return se.lFrame.bindingIndex=t}function cD(){return se.lFrame.bindingIndex++}function uD(){return se.lFrame.inI18n}function lD(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ll(e)}function dD(){return se.lFrame.currentDirectiveIndex}function Ll(t){se.lFrame.currentDirectiveIndex=t}function Vg(){return se.lFrame.currentQueryIndex}function Vl(t){se.lFrame.currentQueryIndex=t}function L1(t){let e=t[G];return e.type===2?e.declTNode:e.type===1?t[Ut]:null}function jg(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=L1(o),i===null||(o=o[mi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=fD();return r.currentTNode=e,r.lView=t,!0}function jl(t){let e=fD(),n=t[G];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fD(){let t=se.lFrame,e=t===null?null:t.child;return e===null?hD(t):e}function hD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pD(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bg=pD;function Bl(){let t=pD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gD(t){return(se.lFrame.contextLView=Zb(t,se.lFrame.contextLView))[rt]}function Ug(){return se.lFrame.selectedIndex}function br(t){se.lFrame.selectedIndex=t}function mD(){let t=se.lFrame;return Ol(t.tView,t.selectedIndex)}function yD(){return se.lFrame.currentNamespace}var vD=!0;function Ul(){return vD}function ja(t){vD=t}function Xp(t,e=null,n=null,r){let i=$g(t,e,n,r);return i.resolveInjectorInitializers(),i}function $g(t,e=null,n=null,r,i=new Set){let o=[n||Xt,Ub(t)];return r=r||(typeof t=="object"?void 0:mr(t)),new di(o,e||Ra(),r||null,i)}var en=class t{static THROW_IF_NOT_FOUND=ci;static NULL=new ba;static create(e,n){if(Array.isArray(e))return Xp({name:""},n,e,"");{let r=e.name??"";return Xp({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:t,providedIn:"any",factory:()=>ee(yg)});static __NG_ELEMENT_ID__=-1},ot=new z(""),Dr=(()=>{class t{static __NG_ELEMENT_ID__=V1;static __NG_ENV_ID__=n=>n}return t})(),eg=class extends Dr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ei(this._lView)}onDestroy(e){let n=this._lView;return Ag(n,e),()=>Xb(n,e)}};function V1(){return new eg(be())}var _D=!1,Cr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new le(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),tg=class extends Ge{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,qb()&&(this.destroyRef=O(Dr,{optional:!0})??void 0,this.pendingTasks=O(Cr,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},tt=tg;function Tl(...t){}function Hg(t){let e,n;function r(){t=Tl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zg(t){return queueMicrotask(()=>t()),()=>{t=Tl}}var qg="isAngularZone",Da=qg+"_ID",j1=0,St=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tt(!1);onMicrotaskEmpty=new tt(!1);onStable=new tt(!1);onError=new tt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_D}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,$1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,B1,Tl,Tl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},B1={};function Wg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function U1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Hg(()=>{t.callbackScheduled=!1,ng(t),t.isCheckStableRunning=!0,Wg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ng(t)}function $1(t){let e=()=>{U1(t)},n=j1++;t._inner=t._inner.fork({name:"angular",properties:{[qg]:!0,[Da]:n,[Da+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(H1(u))return r.invokeTask(o,s,c,u);try{return Rb(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xb(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Rb(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!z1(u)&&e(),xb(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ng(t),Wg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ng(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xb(t){t._nesting--,Wg(t)}var Ca=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tt;onMicrotaskEmpty=new tt;onStable=new tt;onError=new tt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function H1(t){return ED(t,"__ignore_ng_zone__")}function z1(t){return ED(t,"__scheduler_tick__")}function ED(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},an=new z("",{factory:()=>{let t=O(St),e=O(nt),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(qn),n.handleError(r))})}}}),ID={provide:pi,useValue:()=>{let t=O(qn,{optional:!0})},multi:!0},q1=new z("",{factory:()=>{let t=O(ot).defaultView;if(!t)return;let e=O(an),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),O(Dr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Gg(){return gi([Bb(()=>void O(q1))])}function Kn(t,e){let[n,r,i]=Tp(t,e?.equal),o=n,s=o[jt];return o.set=r,o.update=i,o.asReadonly=wD.bind(o),o}function wD(){let t=this[jt];if(t.readonlyFn===void 0){let e=()=>this();e[jt]=t,t.readonlyFn=e}return t.readonlyFn}var Ro=class{},Ba=new z("",{factory:()=>!0});var Kg=new z("");var Qg=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>new rg})}return t})(),rg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},ig=class{[jt];constructor(e){this[jt]=e}destroy(){this[jt].destroy()}};function cn(t){return Sp(t)}function Wa(t){return{toString:t}.toString()}function nO(t){return typeof t=="function"}function KD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Kl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Ga=(()=>{let t=()=>QD;return t.ngInherit=!0,t})();function QD(t){return t.type.prototype.ngOnChanges&&(t.setInput=iO),rO}function rO(){let t=JD(this),e=t?.current;if(e){let n=t.previous;if(n===hi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function iO(t,e,n,r,i){let o=this.declaredInputs[r],s=JD(t)||oO(t,{previous:hi,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Kl(l&&l.currentValue,n,u===hi),KD(t,e,i,n)}var YD="__ngSimpleChanges__";function JD(t){return t[YD]||null}function oO(t,e){return t[YD]=e}var bD=[];var Ee=function(t,e=null,n){for(let r=0;r<bD.length;r++){let i=bD[r];i(t,e,n)}};function sO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=QD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ZD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Hl(t,e,n){XD(t,e,3,n)}function zl(t,e,n,r){(t[Q]&3)===n&&XD(t,e,n,r)}function Yg(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function XD(t,e,n,r){let i=r!==void 0?t[yi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[yi]+=65536),(c<o||o==-1)&&(aO(t,n,e,u),t[yi]=(t[yi]&4294901760)+u+2),u++}function DD(t,e){Ee(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),Ee(5,t,e)}}function aO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[Q]>>14<t[yi]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,DD(c,o)):DD(c,o)}var jo=-1,Ha=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function cO(t){return(t.flags&8)!==0}function uO(t){return(t.flags&16)!==0}function lO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];fO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function dO(t){return t===3||t===4||t===6}function fO(t){return t.charCodeAt(0)===64}function ad(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?CD(t,n,i,null,e[++r]):CD(t,n,i,null,null))}}return t}function CD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function eC(t){return t!==jo}function Ql(t){return t&32767}function hO(t){return t>>16}function Yl(t,e){let n=hO(t),r=e;for(;n>0;)r=r[mi],n--;return r}var em=!0;function TD(t){let e=em;return em=t,e}var pO=256,tC=pO-1,nC=5,gO=0,Cn={};function mO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(fi)&&(r=n[fi]),r==null&&(r=n[fi]=gO++);let i=r&tC,o=1<<i;e.data[t+(i>>nC)]|=o}function rC(t,e){let n=iC(t,e);if(n!==-1)return n;let r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,Jg(r.data,t),Jg(e,null),Jg(r.blueprint,null));let i=vm(t,e),o=t.injectorIndex;if(eC(i)){let s=Ql(i),c=Yl(i,e),u=c[G].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Jg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function vm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uC(i),r===null)return jo;if(n++,i=i[mi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return jo}function yO(t,e,n){mO(t,e,n)}function oC(t,e,n){if(n&8||t!==void 0)return t;Ml(e,"NodeInjector")}function sC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[_r],o=Tt(void 0);try{return i?i.get(e,r,n&8):gg(e,r,n&8)}finally{Tt(o)}}return oC(r,e,n)}function aC(t,e,n,r=0,i){if(t!==null){if(e[Q]&2048&&!(r&2)){let s=IO(t,e,n,r,Cn);if(s!==Cn)return s}let o=cC(t,e,n,r,Cn);if(o!==Cn)return o}return sC(e,n,r,i)}function cC(t,e,n,r,i){let o=_O(n);if(typeof o=="function"){if(!jg(e,t,r))return r&1?oC(i,n,r):sC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ml(n);else return s}finally{Bg()}}else if(typeof o=="number"){let s=null,c=iC(t,e),u=jo,l=r&1?e[$t][Ut]:null;for((c===-1||r&4)&&(u=c===-1?vm(t,e):e[c+8],u===jo||!AD(r,!1)?c=-1:(s=e[G],c=Ql(u),e=Yl(u,e)));c!==-1;){let h=e[G];if(SD(o,c,h.data)){let p=vO(c,e,n,s,r,l);if(p!==Cn)return p}u=e[c+8],u!==jo&&AD(r,e[G].data[c+8]===l)&&SD(o,c,e)?(s=h,c=Ql(u),e=Yl(u,e)):c=-1}}return i}function vO(t,e,n,r,i,o){let s=e[G],c=s.data[t+8],u=r==null?wr(c)&&em:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=ql(c,s,n,u,l);return h!==null?Jl(e,s,h,c,i):Cn}function ql(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=s[u];if(v&&_i(v)&&v.type===n)return u}return null}function Jl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ha){let c=o;if(c.resolving){let v=Ob(s[n]);throw pg(v)}let u=TD(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],h,p=c.injectImpl?Tt(c.injectImpl):null,m=jg(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&sO(n,s[n],e)}finally{p!==null&&Tt(p),TD(u),c.resolving=!1,Bg()}}return o}function _O(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fi)?t[fi]:void 0;return typeof e=="number"?e>=0?e&tC:EO:e}function SD(t,e,n){let r=1<<t;return!!(n[e+(t>>nC)]&r)}function AD(t,e){return!(t&2)&&!(t&1&&e)}var wi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aC(this._tNode,this._lView,e,ui(r),n)}};function EO(){return new wi(Mt(),be())}function Ka(t){return Wa(()=>{let e=t.prototype.constructor,n=e[wa]||tm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[wa]||tm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tm(t){return sg(t)?()=>{let e=tm(wt(t));return e&&e()}:li(t)}function IO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!Fo(s);){let c=cC(o,s,n,r|2,Cn);if(c!==Cn)return c;let u=o.parent;if(!u){let l=s[Dg];if(l){let h=l.get(n,Cn,r);if(h!==Cn)return h}u=uC(s),s=s[mi]}o=u}return i}function uC(t){let e=t[G],n=e.type;return n===2?e.declTNode:n===1?t[Ut]:null}function wO(){return Ho(Mt(),be())}function Ho(t,e){return new Ti(Dn(t,e))}var Ti=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=wO}return t})();function bO(t){return t instanceof Ti?t.nativeElement:t}function DO(){return this._results[Symbol.iterator]()}var Zl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ge}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Vb(e);(this._changesDetected=!Lb(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=DO};function lC(t){return(t.flags&128)===128}var _m=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(_m||{}),dC=new Map,CO=0;function TO(){return CO++}function SO(t){dC.set(t[Oa],t)}function nm(t){dC.delete(t[Oa])}var MD="__ngContext__";function Bo(t,e){Gn(e)?(t[MD]=e[Oa],SO(e)):t[MD]=e}function fC(t){return pC(t[ko])}function hC(t){return pC(t[Bt])}function pC(t){for(;t!==null&&!nn(t);)t=t[Bt];return t}var rm;function Em(t){rm=t}function gC(){if(rm!==void 0)return rm;if(typeof document<"u")return document;throw new H(210,!1)}var cd=new z("",{factory:()=>AO}),AO="ng";var ud=new z(""),Qa=new z("",{providedIn:"platform",factory:()=>"unknown"});var ld=new z("",{factory:()=>gC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mC=!1,yC=new z("",{factory:()=>mC});var MO=(t,e,n,r)=>{};function NO(t,e,n,r){MO(t,e,n,r)}function Im(t){return(t.flags&32)===32}var RO=()=>null;function vC(t,e,n=!1){return RO(t,e,n)}function _C(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Vl(o),c.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function im(t,e,n){Vl(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function wm(t,e,n){if(Cg(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ne(r)}}}var ln=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(ln||{}),$l;function xO(){if($l===void 0&&($l=null,Ta.trustedTypes))try{$l=Ta.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $l}function OO(t){return xO()?.createScriptURL(t)||t}var Xl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sl})`}};function EC(t){return t instanceof Xl?t.changingThisBreaksApplicationSecurity:t}function IC(t,e){let n=wC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Sl})`)}return n===e}function wC(t){return t instanceof Xl&&t.getTypeName()||null}var kO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bC(t){return t=String(t),t.match(kO)?t:"unsafe:"+t}var bm=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(bm||{});function Ya(t){let e=PO();return e?e.sanitize(bm.URL,t)||"":IC(t,"URL")?EC(t):bC(hg(t))}function zo(t){return OO(t[0])}function PO(){let t=be();return t&&t[wn].sanitizer}var FO=/^>|^->|<!--|-->|--!>|<!-$/g,LO=/(<|>)/g,VO="\u200B$1\u200B";function jO(t){return t.replace(FO,e=>e.replace(LO,VO))}function DC(t){return t instanceof Function?t():t}function BO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var CC="ng-template";function UO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&BO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Dm(t){return t.type===4&&t.value!==CC}function $O(t,e,n){let r=t.type===4&&!n?CC:t.value;return e===r}function HO(t,e,n){let r=4,i=t.attrs,o=i!==null?WO(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$O(t,u,n)||u===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!UO(t,i,u,n)){if(un(r))return!1;s=!0}}else{let l=e[++c],h=zO(u,i,Dm(t),n);if(h===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(t){return(t&1)===0}function zO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return GO(e,t)}function qO(t,e,n=!1){for(let r=0;r<e.length;r++)if(HO(t,e[r],n))return!0;return!1}function WO(t){for(let e=0;e<t.length;e++){let n=t[e];if(dO(n))return e}return t.length}function GO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ND(t,e){return t?":not("+e.trim()+")":e}function KO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=ND(o,i),i=""),r=s,o=o||!un(r);n++}return i!==""&&(e+=ND(o,i)),e}function QO(t){return t.map(KO).join(",")}function YO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!un(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var dd={};function JO(t,e){return t.createText(e)}function ZO(t,e){return t.createComment(jO(e))}function TC(t,e,n){return t.createElement(e,n)}function ed(t,e,n,r,i){t.insertBefore(e,n,r,i)}function SC(t,e,n){t.appendChild(e,n)}function RD(t,e,n,r,i){r!==null?ed(t,e,n,r,i):SC(t,e,n)}function XO(t,e,n,r){t.removeChild(null,e,n,r)}function ek(t,e,n){t.setAttribute(e,"style",n)}function tk(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function AC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&lO(t,e,r),i!==null&&tk(t,e,i),o!==null&&ek(t,e,o)}function Cm(t,e,n,r,i,o,s,c,u,l,h){let p=it+r,m=p+i,v=nk(p,m),S=typeof l=="function"?l():l;return v[G]={type:t,blueprint:v,template:n,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function nk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dd);return n}function rk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Cm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tm(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[tn]=i,p[Q]=r|4|128|8|64|1024,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),Tg(p),p[Be]=p[mi]=t,p[rt]=n,p[wn]=s||t&&t[wn],p[Ue]=c||t&&t[Ue],p[_r]=u||t&&t[_r]||null,p[Ut]=o,p[Oa]=TO(),p[xa]=h,p[Dg]=l,p[$t]=e.type==2?t[$t]:p,p}function ik(t,e,n){let r=Dn(e,t),i=rk(n),o=t[wn].rendererFactory,s=Sm(t,Tm(t,i,null,MC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function MC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function NC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Sm(t,e){return t[ko]?t[bg][Bt]=e:t[ko]=e,t[bg]=e,e}function Ht(t=1){RC(sn(),be(),Ug()+t,!1)}function RC(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Hl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zl(e,o,0,n)}br(n)}var fd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(fd||{});function om(t,e,n,r){let i=ne(null);try{let[o,s,c]=t.inputs[n],u=null;(s&fd.SignalBased)!==0&&(u=e[o][jt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):KD(e,u,o,r)}finally{ne(i)}}var Sr=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Sr||{}),ok;function Am(t,e){return ok(t,e)}var Uo=new Set,Mm=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Mm||{}),Ja=new z(""),xD=new Set;function Nm(t){xD.has(t)||(xD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var xC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})();var sk=new z("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function OC(t,e,n){let r=t.get(sk);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function ak(t,e){for(let[n,r]of e)OC(t,r.animateFns)}function OD(t,e,n,r){let i=t?.[Pa]?.enter;e!==null&&i&&i.has(n.index)&&ak(r,i)}function Vo(t,e,n,r,i,o,s,c){if(i!=null){let u,l=!1;nn(i)?u=i:Gn(i)&&(l=!0,i=i[tn]);let h=rn(i);t===0&&r!==null?(OD(c,r,o,n),s==null?SC(e,r,h):ed(e,r,h,s||null,!0)):t===1&&r!==null?(OD(c,r,o,n),ed(e,r,h,s||null,!0)):t===2?kD(c,o,n,p=>{XO(e,h,l,p)}):t===3&&kD(c,o,n,()=>{e.destroyNode(h)}),u!=null&&Ek(e,t,n,u,o,r,s)}}function ck(t,e){kC(t,e),e[tn]=null,e[Ut]=null}function uk(t,e,n,r,i,o){r[tn]=i,r[Ut]=e,hd(t,r,n,1,i,o)}function kC(t,e){e[wn].changeDetectionScheduler?.notify(9),hd(t,e,e[Ue],2,null,null)}function lk(t){let e=t[ko];if(!e)return Zg(t[G],t);for(;e;){let n=null;if(Gn(e))n=e[ko];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[Bt]&&e!==t;)Gn(e)&&Zg(e[G],e),e=e[Be];e===null&&(e=t),Gn(e)&&Zg(e[G],e),n=e&&e[Bt]}e=n}}function Rm(t,e){let n=t[vi],r=n.indexOf(e);n.splice(r,1)}function PC(t,e){if(Ei(e))return;let n=e[Ue];n.destroyNode&&hd(t,e,n,3,null,null),lk(e)}function Zg(t,e){if(Ei(e))return;let n=ne(null);try{e[Q]&=-129,e[Q]|=256,e[At]&&pa(e[At]),hk(t,e),fk(t,e),e[G].type===1&&e[Ue].destroy();let r=e[Er];if(r!==null&&nn(e[Be])){r!==e[Be]&&Rm(r,e);let i=e[bn];i!==null&&i.detachView(t)}nm(e)}finally{ne(n)}}function kD(t,e,n,r){let i=t?.[Pa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Uo.add(t),OC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();c.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(c),dk(t,r)}else t&&Uo.delete(t),r(!1)},i)}function dk(t,e){let n=t[Pa]?.running;if(n){n.then(()=>{t[Pa].running=void 0,Uo.delete(t),e(!0)});return}e(!1)}function fk(t,e){let n=t.cleanup,r=e[Oo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Oo]=null);let i=e[zn];if(i!==null){e[zn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[ka];if(o!==null){e[ka]=null;for(let s of o)s.destroy()}}function hk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ha)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ee(4,c,u);try{u.call(c)}finally{Ee(5,c,u)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function pk(t,e,n){return gk(t,e.parent,n)}function gk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[tn];if(wr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ln.None||i===ln.Emulated)return null}return Dn(r,n)}function mk(t,e,n){return vk(t,e,n)}function yk(t,e,n){return t.type&40?Dn(t,n):null}var vk=yk,PD;function xm(t,e,n,r){let i=pk(t,r,e),o=e[Ue],s=r.parent||e[Ut],c=mk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)RD(o,i,n[u],c,!1);else RD(o,i,n,c,!1);PD!==void 0&&PD(o,r,e,n,i)}function Ua(t,e){if(e!==null){let n=e.type;if(n&3)return Dn(e,t);if(n&4)return sm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ua(t,r);{let i=t[e.index];return nn(i)?sm(-1,i):rn(i)}}else{if(n&128)return Ua(t,e.next);if(n&32)return Am(e,t)()||rn(t[e.index]);{let r=FC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=yr(t[$t]);return Ua(i,r)}else return Ua(t,e.next)}}}return null}function FC(t,e){if(e!==null){let r=t[$t][Ut],i=e.projection;return r.projection[i]}return null}function sm(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[G].firstChild;if(i!==null)return Ua(r,i)}return e[Ir]}function Om(t,e,n,r,i,o,s){for(;n!=null;){let c=r[_r];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Bo(rn(u),r),n.flags|=2),!Im(n))if(l&8)Om(t,e,n.child,r,i,o,!1),Vo(e,t,c,i,u,n,o,r);else if(l&32){let h=Am(n,r),p;for(;p=h();)Vo(e,t,c,i,p,n,o,r);Vo(e,t,c,i,u,n,o,r)}else l&16?_k(t,e,r,n,i,o):Vo(e,t,c,i,u,n,o,r);n=s?n.projectionNext:n.next}}function hd(t,e,n,r,i,o){Om(n,r,t.firstChild,e,i,o,!1)}function _k(t,e,n,r,i,o){let s=n[$t],u=s[Ut].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Vo(e,t,n[_r],i,h,r,o,n)}else{let l=u,h=s[Be];lC(r)&&(l.flags|=128),Om(t,e,l,h,i,o,!0)}}function Ek(t,e,n,r,i,o,s){let c=r[Ir],u=rn(r);c!==u&&Vo(e,t,n,o,c,i,s);for(let l=yt;l<r.length;l++){let h=r[l];hd(h[G],h,t,e,o,c)}}function LC(t,e,n,r,i){let o=Ug(),s=r&2;try{br(-1),s&&e.length>it&&RC(t,e,it,!1),Ee(s?2:0,i,n),n(r,i)}finally{br(o),Ee(s?3:1,i,n)}}function pd(t,e,n){Ak(t,e,n),(n.flags&64)===64&&Mk(t,e,n)}function gd(t,e,n=Dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function Ik(t,e,n,r){let o=r.get(yC,mC)||n===ln.ShadowDom||n===ln.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return wk(s),s}function wk(t){bk(t)}var bk=()=>null;function Dk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ck(t,e,n,r,i,o){let s=e[G];if(Lm(t,s,e,n,r)){wr(t)&&Sk(e,t.index);return}t.type&3&&(n=Dk(n)),Tk(t,e,n,r,i,o)}function Tk(t,e,n,r,i,o){if(t.type&3){let s=Dn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function Sk(t,e){let n=on(e,t);n[Q]&16||(n[Q]|=64)}function Ak(t,e,n){let r=n.directiveStart,i=n.directiveEnd;wr(n)&&ik(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||rC(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Jl(e,t,s,n);if(Bo(u,e),o!==null&&Rk(e,s-r,u,c,n,o),_i(c)){let l=on(n.index,e);l[rt]=Jl(e,t,s,n)}}}function Mk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=dD();try{br(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Ll(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Nk(u,l)}}finally{br(-1),Ll(s)}}function Nk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function km(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];qO(e,o.selectors,!1)&&(r??=[],_i(o)?r.unshift(o):r.push(o))}return r}function Rk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];om(r,n,u,l)}}function Pm(t,e,n,r,i){let o=it+n,s=e[G],c=i(s,e,t,r,n);e[o]=c,Lo(t,!0);let u=t.type===2;return u?(AC(e[Ue],c,t),(tD()===0||Po(t))&&Bo(c,e),nD()):Bo(c,e),Ul()&&(!u||!Im(t))&&xm(s,e,c,t),t}function Fm(t){let e=t;return Pg()?oD():(e=e.parent,Lo(e,!1)),e}function xk(t,e){let n=t[_r];if(!n)return;let r;try{r=n.get(an,null)}catch{r=null}r?.(e)}function Lm(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];om(p,n[l],h,i),c=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];om(h,l,r,i),c=!0}return c}function Ok(t,e){let n=on(e,t),r=n[G];kk(r,n);let i=n[tn];i!==null&&n[xa]===null&&(n[xa]=vC(i,n[_r])),Ee(18),Vm(r,n,n[rt]),Ee(19,n[rt])}function kk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vm(t,e,n){jl(e);try{let r=t.viewQuery;r!==null&&im(1,r,n);let i=t.template;i!==null&&LC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[bn]?.finishViewCreation(t),t.staticContentQueries&&_C(t,e),t.staticViewQueries&&im(2,t.viewQuery,n);let o=t.components;o!==null&&Pk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Bl()}}function Pk(t,e){for(let n=0;n<e.length;n++)Ok(t,e[n])}function Fk(t,e,n,r){let i=ne(null);try{let o=e.tView,c=t[Q]&4096?4096:16,u=Tm(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Er]=l;let h=t[bn];return h!==null&&(u[bn]=h.createEmbeddedView(o)),Vm(o,u,n),u}finally{ne(i)}}function FD(t,e){return!e||e.firstChild===null||lC(t)}function za(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(rn(o)),nn(o)&&VC(o,r);let s=n.type;if(s&8)za(t,e,n.child,r);else if(s&32){let c=Am(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=FC(e,n);if(Array.isArray(c))r.push(...c);else{let u=yr(e[$t]);za(u[G],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function VC(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[G].firstChild;i!==null&&za(r[G],r,i,e)}t[Ir]!==t[tn]&&e.push(t[Ir])}function jC(t){if(t[xl]!==null){for(let e of t[xl])e.impl.addSequence(e);t[xl].length=0}}var BC=[];function Lk(t){return t[At]??Vk(t)}function Vk(t){let e=BC.pop()??Object.create(Bk);return e.lView=t,e}function jk(t){t.lView[At]!==t&&(t.lView=null,BC.push(t))}var Bk=pe(F({},Wu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Va(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function Uk(t){let e=t[At]??Object.create($k);return e.lView=t,e}var $k=pe(F({},Wu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=yr(t.lView);for(;e&&!UC(e[G]);)e=yr(e);e&&Sg(e)},consumerOnSignalRead(){this.lView[At]=this}});function UC(t){return t.type!==2}function $C(t){if(t[ka]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ka])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Q]&8192)}}var Hk=100;function HC(t,e=0){let r=t[wn].rendererFactory,i=!1;i||r.begin?.();try{zk(t,e)}finally{i||r.end?.()}}function zk(t,e){let n=Fg();try{Lg(!0),am(t,e);let r=0;for(;La(t);){if(r===Hk)throw new H(103,!1);r++,am(t,1)}}finally{Lg(n)}}function qk(t,e,n,r){if(Ei(e))return;let i=e[Q],o=!1,s=!1;jl(e);let c=!0,u=null,l=null;o||(UC(t)?(l=Lk(e),u=Ku(l)):qu()===null?(c=!1,l=Uk(e),u=Ku(l)):e[At]&&(pa(e[At]),e[At]=null));try{Tg(e),aD(t.bindingStartIndex),n!==null&&LC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&Hl(e,v,null)}else{let v=t.preOrderHooks;v!==null&&zl(e,v,0,null),Yg(e,0)}if(s||Wk(e),$C(e),zC(e,0),t.contentQueries!==null&&_C(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&Hl(e,v)}else{let v=t.contentHooks;v!==null&&zl(e,v,1),Yg(e,1)}Kk(t,e);let p=t.components;p!==null&&WC(e,p,0);let m=t.viewQuery;if(m!==null&&im(2,m,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&Hl(e,v)}else{let v=t.viewHooks;v!==null&&zl(e,v,2),Yg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rl]){for(let v of e[Rl])v();e[Rl]=null}o||(jC(e),e[Q]&=-73)}catch(h){throw o||Va(e),h}finally{l!==null&&(bp(l,u),c&&jk(l)),Bl()}}function zC(t,e){for(let n=fC(t);n!==null;n=hC(n))for(let r=yt;r<n.length;r++){let i=n[r];qC(i,e)}}function Wk(t){for(let e=fC(t);e!==null;e=hC(e)){if(!(e[Q]&2))continue;let n=e[vi];for(let r=0;r<n.length;r++){let i=n[r];Sg(i)}}}function Gk(t,e,n){Ee(18);let r=on(e,t);qC(r,n),Ee(19,r[rt])}function qC(t,e){kl(t)&&am(t,e)}function am(t,e){let r=t[G],i=t[Q],o=t[At],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qu(o)),s||=!1,o&&(o.dirty=!1),t[Q]&=-9217,s)qk(r,t,r.template,t[rt]);else if(i&8192){let c=ne(null);try{$C(t),zC(t,1);let u=r.components;u!==null&&WC(t,u,1),jC(t)}finally{ne(c)}}}function WC(t,e,n){for(let r=0;r<e.length;r++)Gk(t,e[r],n)}function Kk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)br(~i);else{let o=i,s=n[++r],c=n[++r];lD(s,o);let u=e[o];Ee(24,u),c(2,u),Ee(25,u)}}}finally{br(-1)}}function jm(t,e){let n=Fg()?64:1088;for(t[wn].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=yr(t);if(Fo(t)&&!r)return t;t=r}return null}function GC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Qk(t,e,n,r=!0){let i=e[G];if(Yk(i,e,t,n),r){let s=sm(n,t),c=e[Ue],u=c.parentNode(t[Ir]);u!==null&&uk(i,t[Ut],c,e,u,s)}let o=e[xa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cm(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[Er];i!==null&&i!==t&&Rm(i,r),e>0&&(t[n-1][Bt]=r[Bt]);let o=Ma(t,yt+e);ck(r[G],r);let s=o[bn];s!==null&&s.detachView(o[G]),r[Be]=null,r[Bt]=null,r[Q]&=-129}return r}function Yk(t,e,n,r){let i=yt+r,o=n.length;r>0&&(n[i-1][Bt]=e),r<o-yt?(e[Bt]=n[i],mg(n,yt+r,e)):(n.push(e),e[Bt]=null),e[Be]=n;let s=e[Er];s!==null&&n!==s&&KC(s,e);let c=e[bn];c!==null&&c.insertView(t),Pl(e),e[Q]|=128}function KC(t,e){let n=t[vi],r=e[Be];if(Gn(r))t[Q]|=2;else{let i=r[Be][$t];e[$t]!==i&&(t[Q]|=2)}n===null?t[vi]=[e]:n.push(e)}var Tr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[G];return za(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return Ei(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Be];if(nn(e)){let n=e[Fa],r=n?n.indexOf(this):-1;r>-1&&(cm(e,r),Ma(n,r))}this._attachedToViewContainer=!1}PC(this._lView[G],this._lView)}onDestroy(e){Ag(this._lView,e)}markForCheck(){jm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Pl(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,HC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fo(this._lView),n=this._lView[Er];n!==null&&!e&&Rm(n,this._lView),kC(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=Fo(this._lView),r=this._lView[Er];r!==null&&!n&&KC(r,this._lView),Pl(this._lView)}};var bi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Jk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Fk(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Tr(o)}}return t})();function Jk(){return Bm(Mt(),be())}function Bm(t,e){return t.type&4?new bi(e,t,Ho(t,e)):null}function md(t,e,n,r,i){let o=t.data[e];if(o===null)o=Zk(t,e,n,r,i),uD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=iD();o.injectorIndex=s===null?-1:s.injectorIndex}return Lo(o,!0),o}function Zk(t,e,n,r,i){let o=kg(),s=Pg(),c=s?o:o&&o.parent,u=t.data[e]=eP(t,c,n,e,r,i);return Xk(t,u,o,s),u}function Xk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function eP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return rD()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var tP=()=>null;function LD(t,e){return tP(t,e)}var QC=class{},yd=class{},um=class{resolveComponentFactory(e){throw new H(917,!1)}},Za=class{static NULL=new um},Di=class{};var YC=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>null})}return t})();var Wl={},lm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Wl,r);return i!==Wl||n===Wl?i:this.parentInjector.get(e,n,r)}};function td(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=og(i,c);else if(o==2){let u=c,l=e[++s];r=og(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Qe(t,e=0){let n=be();if(n===null)return ee(t,e);let r=Mt();return aC(r,n,wt(t),e)}function JC(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}iP(t,e,n,c,o,u,l)}o!==null&&r!==null&&nP(n,r,o)}function nP(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function rP(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iP(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let v=r[m];!u&&_i(v)&&(u=!0,rP(t,n,m)),yO(rC(n,e),t,v.type)}lP(n,t.data.length,c);for(let m=0;m<c;m++){let v=r[m];v.providersResolver&&v.providersResolver(v)}let l=!1,h=!1,p=NC(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let v=r[m];if(n.mergedAttrs=ad(n.mergedAttrs,v.hostAttrs),sP(t,n,e,p,v),uP(p,v,i),s!==null&&s.has(v)){let[N,R]=s.get(v);n.directiveToIndex.set(v.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(v))&&n.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(n.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(n.flags|=64);let S=v.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}oP(t,n,o)}function oP(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))VD(0,e,i,r),VD(1,e,i,r),BD(e,r,!1);else{let o=n.get(i);jD(0,e,o,r),jD(1,e,o,r),BD(e,r,!0)}}}function VD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ZC(e,o)}}function jD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),ZC(e,s)}}function ZC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function BD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Dm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function sP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=li(i.type,!0)),s=new Ha(o,_i(i),Qe,null);t.blueprint[r]=s,n[r]=s,aP(t,e,r,NC(t,n,i.hostVars,dd),i)}function aP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;cP(s)!=c&&s.push(c),s.push(n,r,o)}}function cP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function uP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_i(e)&&(n[""]=t)}}function lP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Um(t,e,n,r,i,o,s,c){let u=e[G],l=u.consts,h=Ii(l,s),p=md(u,t,n,r,h);return o&&JC(u,e,p,Ii(l,c),i),p.mergedAttrs=ad(p.mergedAttrs,p.attrs),p.attrs!==null&&td(p,p.attrs,!1),p.mergedAttrs!==null&&td(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function $m(t,e){ZD(t,e),Cg(e)&&t.queries.elementEnd(e)}function dP(t,e,n,r,i,o){let s=e.consts,c=Ii(s,i),u=md(e,t,n,r,c);if(u.mergedAttrs=ad(u.mergedAttrs,u.attrs),o!=null){let l=Ii(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&td(u,u.attrs,!1),u.mergedAttrs!==null&&td(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function fP(t,e,n){if(n===dd)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Gl(t,e,n){return function r(i){let o=wr(t)?on(t.index,e):e;jm(o,5);let s=e[rt],c=UD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=UD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function UD(t,e,n,r){let i=ne(null);try{return Ee(6,e,n),n(r)!==!1}catch(o){return xk(t,o),!1}finally{Ee(7,e,n),ne(i)}}function XC(t,e,n,r,i,o,s,c){let u=Po(t),l=!1,h=null;if(!r&&u&&(h=pP(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Dn(t,n),m=r?r(p):p;NO(n,m,o,c);let v=i.listen(m,o,c);if(!hP(o)){let S=r?N=>r(rn(N[t.index])):t.index;eT(S,e,n,o,c,v,!1)}}return l}function hP(t){return t.startsWith("animation")||t.startsWith("transition")}function pP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Oo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function eT(t,e,n,r,i,o,s){let c=e.firstCreatePass?Ng(e):null,u=Mg(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function $D(t,e,n,r,i,o){let s=e[n],c=e[G],l=c.data[n].outputs[r],p=s[l].subscribe(o);eT(t.index,c,e,i,o,p,!0)}var dm=Symbol("BINDING");var nd=class extends Za{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vr(e);return new $o(n,this.ngModule)}};function gP(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&fd.SignalBased)!==0};return i&&(o.transform=i),o})}function mP(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function yP(t,e,n){let r=e instanceof nt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new lm(n,r):n}function vP(t){let e=t.get(Di,null);if(e===null)throw new H(407,!1);let n=t.get(YC,null),r=t.get(Ro,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function _P(t,e){let n=tT(t);return TC(e,n,n==="svg"?Gb:n==="math"?Kb:null)}function tT(t){return(t.selectors[0][0]||"div").toLowerCase()}var $o=class extends yd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mP(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=QO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Ee(22);let c=ne(null);try{let u=this.componentDef,l=EP(r,u,s,o),h=yP(u,i||this.ngModule,e),p=vP(h),m=p.rendererFactory.createRenderer(null,u),v=r?Ik(m,r,u.encapsulation,h):_P(u,m),S=s?.some(HD)||o?.some(U=>typeof U!="function"&&U.bindings.some(HD)),N=Tm(null,l,null,512|MC(u),null,null,p,m,h,null,vC(v,h,!0));N[it]=v,jl(N);let R=null;try{let U=Um(it,N,2,"#host",()=>l.directiveRegistry,!0,0);AC(m,v,U),Bo(v,N),pd(l,N,U),wm(l,U,N),$m(l,U),n!==void 0&&wP(U,this.ngContentSelectors,n),R=on(U.index,N),N[rt]=R[rt],Vm(l,N,null)}catch(U){throw R!==null&&nm(R),nm(N),U}finally{Ee(23),Bl()}return new rd(this.componentType,N,!!S)}finally{ne(c)}}};function EP(t,e,n,r){let i=t?["ng-version","21.0.0"]:YO(e.selectors[0]),o=null,s=null,c=0;if(n)for(let h of n)c+=h[dm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[dm].requiredVars;let v=h+1;m.create&&(m.targetIdx=v,(o??=[]).push(m)),m.update&&(m.targetIdx=v,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Eg(p);u.push(m)}return Cm(0,null,IP(o,s),1,c,u,null,null,null,[i],null)}function IP(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function HD(t){let e=t[dm].kind;return e==="input"||e==="twoWay"}var rd=class extends QC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ol(n[G],it),this.location=Ho(this._tNode,n),this.instance=on(this._tNode.index,n)[rt],this.hostView=this.changeDetectorRef=new Tr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Lm(r,i[G],i,e,n);this.previousInputValues.set(e,n);let s=on(r.index,i);jm(s,1)}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ar=(()=>{class t{static __NG_ELEMENT_ID__=bP}return t})();function bP(){let t=Mt();return rT(t,be())}var DP=Ar,nT=class extends DP{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=vm(this._hostTNode,this._hostLView);if(eC(e)){let n=Yl(e,this._hostLView),r=Ql(e),i=n[G].data[r+8];return new wi(i,n)}else return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=zD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=LD(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,FD(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!nO(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let h=u?e:new $o(vr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let U=(u?p:this.parentInjector).get(nt,null);U&&(o=U)}let m=vr(h.componentType??{}),v=LD(this._lContainer,m?.id??null),S=v?.firstChild??null,N=h.create(p,i,S,o,s,c);return this.insertImpl(N.hostView,l,FD(this._hostTNode,v)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Jb(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Be],l=new nT(u,u[Ut],u[Be]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Qk(s,i,o,r),e.attachToViewContainerRef(),mg(Xg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=zD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=cm(this._lContainer,n);r&&(Ma(Xg(this._lContainer),n),PC(r[G],r))}detach(e){let n=this._adjustIndex(e,-1),r=cm(this._lContainer,n);return r&&Ma(Xg(this._lContainer),n)!=null?new Tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zD(t){return t[Fa]}function Xg(t){return t[Fa]||(t[Fa]=[])}function rT(t,e){let n,r=e[t.index];return nn(r)?n=r:(n=GC(r,e,null,t),e[t.index]=n,Sm(e,n)),TP(n,e,t,r),new nT(n,t,e)}function CP(t,e){let n=t[Ue],r=n.createComment(""),i=Dn(e,t),o=n.parentNode(i);return ed(n,o,r,n.nextSibling(i),!1),r}var TP=MP,SP=()=>!1;function AP(t,e,n){return SP(t,e,n)}function MP(t,e,n,r){if(t[Ir])return;let i;n.type&8?i=rn(r):i=CP(e,n),t[Ir]=i}var fm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},hm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Hm(e,n).matches!==null&&this.queries[n].setDirty()}},pm=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=LP(e):this.predicate=e}},gm=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,NP(n,o)),this.matchTNodeWithReadOption(e,n,ql(n,e,o,!1,!1))}else r===bi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ql(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ti||i===Ar||i===bi&&n.type&4)this.addMatch(n.index,-2);else{let o=ql(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function NP(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function RP(t,e){return t.type&11?Ho(t,e):t.type&4?Bm(t,e):null}function xP(t,e,n,r){return n===-1?RP(e,t):n===-2?OP(t,e,r):Jl(t,t[G],n,e)}function OP(t,e,n){if(n===Ti)return Ho(e,t);if(n===bi)return Bm(e,t);if(n===Ar)return rT(e,t)}function iT(t,e,n,r){let i=e[bn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let h=o[l];c.push(xP(e,h,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function ym(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=iT(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],h=e[-u];for(let p=yt;p<h.length;p++){let m=h[p];m[Er]===m[Be]&&ym(m[G],m,l,r)}if(h[vi]!==null){let p=h[vi];for(let m=0;m<p.length;m++){let v=p[m];ym(v[G],v,l,r)}}}}}return r}function kP(t,e){return t[bn].queries[e].queryList}function PP(t,e,n){let r=new Zl((n&4)===4);return eD(t,e,r,r.destroy),(e[bn]??=new hm).queries.push(new fm(r))-1}function FP(t,e,n){let r=sn();return r.firstCreatePass&&(VP(r,new pm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),PP(r,be(),e)}function LP(t){return t.split(",").map(e=>e.trim())}function VP(t,e,n){t.queries===null&&(t.queries=new gm),t.queries.track(new mm(e,n))}function Hm(t,e){return t.queries.getByIndex(e)}function jP(t,e){let n=t[G],r=Hm(n,e);return r.crossesNgTemplate?ym(n,t,e,[]):iT(n,t,r,e)}var Ci=class{},vd=class{};var id=class extends Ci{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new nd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=_g(e);this._bootstrapComponents=DC(o.bootstrap),this._r3Injector=$g(e,n,[{provide:Ci,useValue:this},{provide:Za,useValue:this.componentFactoryResolver},...r],mr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},od=class extends vd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new id(this.moduleType,e,[])}};var qa=class extends Ci{injector;componentFactoryResolver=new nd(this);instance=null;constructor(e){super();let n=new di([...e.providers,{provide:Ci,useValue:this},{provide:Za,useValue:this.componentFactoryResolver}],e.parent||Ra(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xa(t,e,n=null){return new qa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var BP=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ig(!1,n.type),i=r.length>0?Xa([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(ee(nt))})}return t})();function Nt(t){return Wa(()=>{let e=oT(t),n=pe(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_m.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(BP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||Xt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Nm("NgStandalone"),sT(n);let r=t.dependencies;return n.directiveDefs=qD(r,UP),n.pipeDefs=qD(r,jb),n.id=zP(n),n})}function UP(t){return vr(t)||Eg(t)}function Mr(t){return Wa(()=>({type:t.type,bootstrap:t.bootstrap||Xt,declarations:t.declarations||Xt,imports:t.imports||Xt,exports:t.exports||Xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $P(t,e){if(t==null)return hi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=fd.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function HP(t){if(t==null)return hi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function qo(t){return Wa(()=>{let e=oT(t);return sT(e),e})}function oT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||hi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Xt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$P(t.inputs,e),outputs:HP(t.outputs),debugInfo:null}}function sT(t){t.features?.forEach(e=>e(t))}function qD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function zP(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qP(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=ad(t.mergedAttrs,t.attrs);let h=t.tView=Cm(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),Lo(t,!1);let u=GP(n,e,t,r);Ul()&&xm(n,e,u,t),Bo(u,e);let l=GC(u,e,u,t);e[r+it]=l,Sm(e,l),AP(l,t,e)}function WP(t,e,n,r,i,o,s,c,u,l,h){let p=n+it,m;return e.firstCreatePass?(m=md(e,p,4,s||null,c||null),Fl()&&JC(e,t,m,Ii(e.consts,l),km),ZD(e,m)):m=e.data[p],qP(m,t,e,n,r,i,o,u),Po(m)&&pd(e,t,m),l!=null&&gd(t,m,h),m}function Nr(t,e,n,r,i,o,s,c){let u=be(),l=sn(),h=Ii(l.consts,o);return WP(u,l,t,e,n,r,i,h,void 0,s,c),Nr}var GP=KP;function KP(t,e,n,r){return ja(!0),e[Ue].createComment("")}var zm=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var qm=new z("");function Si(t){return!!t&&typeof t.then=="function"}function Wm(t){return!!t&&typeof t.subscribe=="function"}var aT=new z("");var Gm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(aT,{optional:!0})??[];injector=O(en);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=mt(this.injector,i);if(Si(o))n.push(o);else if(Wm(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_d=new z("");function cT(){Cp(()=>{let t="";throw new H(600,t)})}function uT(t){return t.isBoundToModule}var QP=10;var Ai=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(an);afterRenderManager=O(xC);zonelessEnabled=O(Ba);rootEffectScheduler=O(Qg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ge;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Cr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(De(n=>!n))}constructor(){O(Ja,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=en.NULL){return this._injector.get(St).run(()=>{Ee(10);let s=n instanceof yd;if(!this._injector.get(Gm).done){let S="";throw new H(405,S)}let u;s?u=n:u=this._injector.get(Za).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=uT(u)?void 0:this._injector.get(Ci),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,v=p.injector.get(qm,null);return v?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),$a(this.components,p),v?.unregisterApplication(m)}),this._loadComponent(p),Ee(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Mm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let n=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(n),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Di,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<QP;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!La(i))continue;let o=r&&!this.zonelessEnabled?0:1;HC(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>La(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$a(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(_d,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$a(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $a(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var F7=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Rt(t,e,n){let r=be(),i=cD();if(fP(r,i,e)){let o=sn(),s=mD();Ck(s,r,t,e,r[Ue],n)}return Rt}function WD(t,e,n,r,i){Lm(e,t,n,i?"class":"style",r)}function L(t,e,n,r){let i=be(),o=i[G],s=t+it,c=o.firstCreatePass?Um(s,i,2,e,km,Fl(),n,r):o.data[s];if(Pm(c,i,t,e,lT),Po(c)){let u=i[G];pd(u,i,c),wm(u,c,i)}return r!=null&&gd(i,c),L}function j(){let t=sn(),e=Mt(),n=Fm(e);return t.firstCreatePass&&$m(t,n),xg(n)&&Og(),Rg(),n.classesWithoutHost!=null&&cO(n)&&WD(t,n,be(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&uO(n)&&WD(t,n,be(),n.stylesWithoutHost,!1),j}function ce(t,e,n,r){return L(t,e,n,r),j(),ce}function Tn(t,e,n,r){let i=be(),o=i[G],s=t+it,c=o.firstCreatePass?dP(s,o,2,e,n,r):o.data[s];return Pm(c,i,t,e,lT),r!=null&&gd(i,c),Tn}function Sn(){let t=Mt(),e=Fm(t);return xg(e)&&Og(),Rg(),Sn}var lT=(t,e,n,r,i)=>(ja(!0),TC(e[Ue],r,yD()));function ec(t,e,n){let r=be(),i=r[G],o=t+it,s=i.firstCreatePass?Um(o,r,8,"ng-container",km,Fl(),e,n):i.data[o];if(Pm(s,r,t,"ng-container",YP),Po(s)){let c=r[G];pd(c,r,s),wm(c,s,r)}return n!=null&&gd(r,s),ec}function tc(){let t=sn(),e=Mt(),n=Fm(e);return t.firstCreatePass&&$m(t,n),tc}var YP=(t,e,n,r,i)=>(ja(!0),ZO(e[Ue],""));function Wo(){return be()}var nc="en-US";var JP=nc;function dT(t){typeof t=="string"&&(JP=t.toLowerCase().replace(/_/g,"-"))}function de(t,e,n){let r=be(),i=sn(),o=Mt();return ZP(i,r,r[Ue],o,t,e,n),de}function Mi(t,e,n){let r=be(),i=sn(),o=Mt();return(o.type&3||n)&&XC(o,i,r,n,r[Ue],t,e,Gl(o,r,e)),Mi}function ZP(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Gl(r,e,o),XC(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],v=h[p+1];u??=Gl(r,e,o),$D(r,e,m,v,i,u)}if(l&&l.length)for(let p of l)u??=Gl(r,e,o),$D(r,e,p,i,i,u)}}function V(t=1){return gD(t)}function Km(t,e,n){FP(t,e,n)}function Qm(t){let e=be(),n=sn(),r=Vg();Vl(r+1);let i=Hm(n,r);if(t.dirty&&Yb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=jP(e,r);t.reset(o,bO),t.notifyOnChanges()}return!0}return!1}function Ym(){return kP(be(),Vg())}function Y(t){let e=sD();return Qb(e,it+t)}function q(t,e=""){let n=be(),r=sn(),i=t+it,o=r.firstCreatePass?md(r,i,1,e,null):r.data[i],s=XP(r,n,o,e,t);n[i]=s,Ul()&&xm(r,n,s,o),Lo(o,!1)}var XP=(t,e,n,r,i)=>(ja(!0),JO(e[Ue],r));var sd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Jm=(()=>{class t{compileModuleSync(n){return new od(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=_g(n),o=DC(i.declarations).reduce((s,c)=>{let u=vr(c);return u&&s.push(new $o(u)),s},[]);return new sd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fT=(()=>{class t{applicationErrorHandler=O(an);appRef=O(Ai);taskService=O(Cr);ngZone=O(St);zonelessEnabled=O(Ba);tracing=O(Ja,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Da):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Kg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zg:Hg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Da+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hT(){return[{provide:Ro,useExisting:fT},{provide:St,useClass:Ca},{provide:Ba,useValue:!0}]}function eF(){return typeof $localize<"u"&&$localize.locale||nc}var Ed=new z("",{factory:()=>O(Ed,{optional:!0,skipSelf:!0})||eF()});var yT=Symbol("InputSignalNode#UNSET"),IF=pe(F({},Yu),{transformFn:void 0,applyValueToInputSignal(t,e){ga(t,e)}});function vT(t,e){let n=Object.create(IF);n.value=t,n.transformFn=e?.transform;function r(){if(Gu(n),n.value===yT){let i=null;throw new H(-950,i)}return n.value}return r[jt]=n,r}function pT(t,e){return vT(t,e)}function wF(t){return vT(yT,t)}var _T=(pT.required=wF,pT);var Zm=new z(""),bF=new z("");function rc(t){return!t.moduleRef}function DF(t){let e=rc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(St);return n.run(()=>{rc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(an),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),rc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Zm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Zm);s.add(o),t.moduleRef.onDestroy(()=>{$a(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return TF(r,n,()=>{let o=e.get(Cr),s=o.add(),c=e.get(Gm);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Ed,nc);if(dT(u||nc),!e.get(bF,!0))return rc(t)?e.get(Ai):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(rc(t)){let h=e.get(Ai);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return CF?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var CF;function TF(t,e,n){try{let r=n();return Si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Id=null;function SF(t=[],e){return en.create({name:e,providers:[{provide:Na,useValue:"platform"},{provide:Zm,useValue:new Set([()=>Id=null])},...t]})}function AF(t=[]){if(Id)return Id;let e=SF(t);return Id=e,cT(),MF(e),e}function MF(t){let e=t.get(ud,null);mt(t,()=>{e?.forEach(n=>n())})}var Rr=(()=>{class t{static __NG_ELEMENT_ID__=NF}return t})();function NF(t){return RF(Mt(),be(),(t&16)===16)}function RF(t,e,n){if(wr(t)&&!n){let r=on(t.index,e);return new Tr(r,r)}else if(t.type&175){let r=e[$t];return new Tr(r,e)}return null}function ET(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ee(8);try{let o=i?.injector??AF(r),s=[hT(),ID,...n||[]],c=new qa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return DF({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ee(9)}}var bT=null;function Qn(){return bT}function Xm(t){bT??=t}var oc=class{},ey=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>O(DT),providedIn:"platform"})}return t})();var DT=(()=>{class t extends ey{_location;_history;_doc=O(ot);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qn().getBaseHref(this._doc)}onPopState(n){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function CT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function IT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function xr(t){return t&&t[0]!=="?"?`?${t}`:t}var wd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>O(ST),providedIn:"root"})}return t})(),TT=new z(""),ST=(()=>{class t extends wd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return CT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+xr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+xr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ee(ey),ee(TT,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Go=(()=>{class t{_subject=new Ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=kF(IT(wT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xr(r))}normalize(n){return t.stripTrailingSlash(OF(this._basePath,wT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=xr;static joinWithSlash=CT;static stripTrailingSlash=IT;static \u0275fac=function(r){return new(r||t)(ee(wd))};static \u0275prov=W({token:t,factory:()=>xF(),providedIn:"root"})}return t})();function xF(){return new Go(ee(wd))}function OF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function wT(t){return t.replace(/\/index.html$/,"")}function kF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var sc=(()=>{class t{_viewContainer;_context=new bd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){AT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){AT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Qe(Ar),Qe(bi))};static \u0275dir=qo({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),bd=class{$implicit=null;ngIf=null};function AT(t,e){if(t&&!t.createEmbeddedView)throw new H(2020,!1)}var Or=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mr({type:t});static \u0275inj=Wn({})}return t})();function ty(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ac=class{};var MT="browser";var cc=class{_doc;constructor(e){this._doc=e}manager},Dd=(()=>{class t extends cc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ee(ot))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Sd=new z(""),oy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Dd));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Dd);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ee(Sd),ee(St))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),ny="ng-app-id";function RT(t){for(let e of t)e.remove()}function xT(t,e){let n=e.createElement("style");return n.textContent=t,n}function FF(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ny}="${e}"],link[${ny}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ny),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function iy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var sy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,FF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,xT);r?.forEach(i=>this.addUsage(i,this.external,iy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(RT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])RT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,xT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,iy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ee(ot),ee(cd),ee(ld,8),ee(Qa))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),ry={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ay=/%COMP%/g;var kT="%COMP%",LF=`_nghost-${kT}`,VF=`_ngcontent-${kT}`,jF=!0,BF=new z("",{factory:()=>jF});function UF(t){return VF.replace(ay,t)}function $F(t){return LF.replace(ay,t)}function PT(t,e){return e.map(n=>n.replace(ay,t))}var cy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new uc(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Td?i.applyToHost(n):i instanceof lc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ln.Emulated:o=new Td(u,l,r,this.appId,h,s,c,p,m);break;case ln.ShadowDom:return new Cd(u,n,r,s,c,this.nonce,p,m,l);case ln.ExperimentalIsolatedShadowDom:return new Cd(u,n,r,s,c,this.nonce,p,m);default:o=new lc(u,l,r,h,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ee(oy),ee(sy),ee(cd),ee(BF),ee(ot),ee(St),ee(ld),ee(Ja,8))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),uc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(ry[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(OT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(OT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ry[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ry[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sr.DashCase|Sr.Important)?e.style.setProperty(n,r,i&Sr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Qn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function OT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Cd=class extends uc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,c,u,l){super(e,i,o,c,u),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=PT(r.id,h);for(let m of h){let v=document.createElement("style");s&&v.setAttribute("nonce",s),v.textContent=m,this.shadowRoot.appendChild(v)}let p=r.getExternalStyles?.();if(p)for(let m of p){let v=iy(m,i);s&&v.setAttribute("nonce",s),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},lc=class extends uc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?PT(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Uo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Td=class extends lc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,c,u,l,h),this.contentAttr=UF(h),this.hostAttr=$F(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ad=class t extends oc{supportsDOMEvents=!0;static makeCurrent(){Xm(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=HF();return n==null?null:zF(n)}resetBaseElement(){dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ty(document.cookie,e)}},dc=null;function HF(){return dc=dc||document.head.querySelector("base"),dc?dc.getAttribute("href"):null}function zF(t){return new URL(t,document.baseURI).pathname}var qF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),FT=["alt","control","meta","shift"],WF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},LT=(()=>{class t extends cc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qn().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),FT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=WF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FT.forEach(s=>{if(s!==i){let c=GF[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ee(ot))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function uy(t,e,n){let r=F({rootComponent:t,platformRef:n?.platformRef},KF(e));return ET(r)}function KF(t){return{appProviders:[...XF,...t?.providers??[]],platformProviders:ZF}}function QF(){Ad.makeCurrent()}function YF(){return new qn}function JF(){return Em(document),document}var ZF=[{provide:Qa,useValue:MT},{provide:ud,useValue:QF,multi:!0},{provide:ot,useFactory:JF}];var XF=[{provide:Na,useValue:"root"},{provide:qn,useFactory:YF},{provide:Sd,useClass:Dd,multi:!0},{provide:Sd,useClass:LT,multi:!0},cy,sy,oy,{provide:Di,useExisting:cy},{provide:ac,useClass:qF},[]];var VT=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ee(ot))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var J="primary",Dc=Symbol("RouteTitle"),py=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oi(t){return new py(t)}function GT(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kd(t){return new Promise((e,n)=>{t.pipe(Hn()).subscribe({next:r=>e(r),error:r=>n(r)})})}function tL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!An(t[n],e[n]))return!1;return!0}function An(t,e){let n=t?gy(t):void 0,r=e?gy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!KT(t[i],e[i]))return!1;return!0}function gy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function KT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function QT(t){return t.length>0?t[t.length-1]:null}function Pi(t){return vl(t)?t:Si(t)?je(Promise.resolve(t)):ae(t)}function YT(t){return vl(t)?kd(t):Promise.resolve(t)}var nL={exact:ZT,subset:XT},JT={exact:rL,subset:iL,ignored:()=>!0};function jT(t,e,n){return nL[n.paths](t.root,e.root,n.matrixParams)&&JT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function rL(t,e){return An(t,e)}function ZT(t,e,n){if(!Ri(t.segments,e.segments)||!Rd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ZT(t.children[r],e.children[r],n))return!1;return!0}function iL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>KT(t[n],e[n]))}function XT(t,e,n){return eS(t,e,e.segments,n)}function eS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ri(i,n)||e.hasChildren()||!Rd(i,n,r))}else if(t.segments.length===n.length){if(!Ri(t.segments,n)||!Rd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!XT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ri(t.segments,i)||!Rd(t.segments,i,r)||!t.children[J]?!1:eS(t.children[J],e,o,r)}}function Rd(t,e,n){return e.every((r,i)=>JT[n](t[i].parameters,r.parameters))}var fn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){return aL.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xd(this)}},kr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oi(this.parameters),this._parameterMap}toString(){return nS(this)}};function oL(t,e){return Ri(t,e)&&t.every((n,r)=>An(n.parameters,e[r].parameters))}function Ri(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function sL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var Cc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>new Pr,providedIn:"root"})}return t})(),Pr=class{parse(e){let n=new yy(e);return new fn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fc(e.root,!0)}`,r=lL(e.queryParams),i=typeof e.fragment=="string"?`#${cL(e.fragment)}`:"";return`${n}${r}${i}`}},aL=new Pr;function xd(t){return t.segments.map(e=>nS(e)).join("/")}function fc(t,e){if(!t.hasChildren())return xd(t);if(e){let n=t.children[J]?fc(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${fc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=sL(t,(r,i)=>i===J?[fc(t.children[J],!1)]:[`${i}:${fc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${xd(t)}/${n[0]}`:`${xd(t)}/(${n.join("//")})`}}function tS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Md(t){return tS(t).replace(/%3B/gi,";")}function cL(t){return encodeURI(t)}function my(t){return tS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Od(t){return decodeURIComponent(t)}function BT(t){return Od(t.replace(/\+/g,"%20"))}function nS(t){return`${my(t.path)}${uL(t.parameters)}`}function uL(t){return Object.entries(t).map(([e,n])=>`;${my(e)}=${my(n)}`).join("")}function lL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Md(n)}=${Md(i)}`).join("&"):`${Md(n)}=${Md(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var dL=/^[^\/()?;#]+/;function ly(t){let e=t.match(dL);return e?e[0]:""}var fL=/^[^\/()?;=#]+/;function hL(t){let e=t.match(fL);return e?e[0]:""}var pL=/^[^=?&#]+/;function gL(t){let e=t.match(pL);return e?e[0]:""}var mL=/^[^&#]+/;function yL(t){let e=t.match(mL);return e?e[0]:""}var yy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new ge(e,n)),r}parseSegment(){let e=ly(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new kr(Od(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=hL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ly(this.remaining);i&&(r=i,this.capture(r))}e[Od(n)]=Od(r)}parseQueryParam(e){let n=gL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=yL(this.remaining);s&&(r=s,this.capture(r))}let i=BT(n),o=BT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ly(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();n[o??J]=Object.keys(s).length===1&&s[J]?s[J]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function rS(t){return t.segments.length>0?new ge([],{[J]:t}):t}function iS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=iS(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ge(t.segments,e);return vL(n)}function vL(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new ge(t.segments.concat(e.segments),e.children)}return t}function Jo(t){return t instanceof fn}function oS(t,e,n=null,r=null,i=new Pr){let o=sS(t);return aS(o,e,n,r,i)}function sS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new ge(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=rS(r);return e??i}function aS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return dy(o,o,o,n,r,i);let s=_L(e);if(s.toRoot())return dy(o,o,new ge([],{}),n,r,i);let c=EL(s,o,t),u=c.processChildren?pc(c.segmentGroup,c.index,s.commands):uS(c.segmentGroup,c.index,s.commands);return dy(o,c.segmentGroup,u,n,r,i)}function Pd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yc(t){return typeof t=="object"&&t!=null&&t.outlets}function UT(t,e,n){t||="\u0275";let r=new fn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function dy(t,e,n,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>UT(l,p,o)):UT(l,h,o);let c;t===e?c=n:c=cS(t,e,n);let u=rS(iS(c));return new fn(u,s,i)}function cS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=cS(o,e,n)}),new ge(t.segments,r)}var Fd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pd(r[0]))throw new H(4003,!1);let i=r.find(yc);if(i&&i!==QT(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _L(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Fd(n,e,r)}var Qo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function EL(t,e,n){if(t.isAbsolute)return new Qo(e,!0,0);if(!n)return new Qo(e,!1,NaN);if(n.parent===null)return new Qo(n,!0,0);let r=Pd(t.commands[0])?0:1,i=n.segments.length-1+r;return IL(n,i,t.numberOfDoubleDots)}function IL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Qo(r,!1,i-o)}function wL(t){return yc(t[0])?t[0].outlets:{[J]:t}}function uS(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return pc(t,e,n);let r=bL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ge(t.segments.slice(0,r.pathIndex),{});return o.children[J]=new ge(t.segments.slice(r.pathIndex),t.children),pc(o,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?vy(t,e,n):r.match?pc(t,0,i):vy(t,e,n)}function pc(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=wL(n),i={};if(Object.keys(r).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=pc(t.children[J],e,n);return new ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=uS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(t.segments,i)}}function bL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(yc(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!HT(u,l,s))return o;r+=2}else{if(!HT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(yc(o)){let u=DL(o.outlets);return new ge(r,u)}if(i===0&&Pd(n[0])){let u=t.segments[e];r.push(new kr(u.path,$T(n[0]))),i++;continue}let s=yc(o)?o.outlets[J]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Pd(c)?(r.push(new kr(s,$T(c))),i+=2):(r.push(new kr(s,{})),i++)}return new ge(r,{})}function DL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=vy(new ge([],{}),0,r))}),e}function $T(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function HT(t,e,n){return t==n.path&&An(e,n.parameters)}var gc="imperative",$e=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})($e||{}),kt=class{id;url;constructor(e,n){this.id=e,this.url=n}},ki=class extends kt{type=$e.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yn=class extends kt{urlAfterRedirects;type=$e.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(vt||{}),vc=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(vc||{}),Mn=class extends kt{reason;code;type=$e.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jn=class extends kt{reason;code;type=$e.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Zo=class extends kt{error;target;type=$e.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_c=class extends kt{urlAfterRedirects;state;type=$e.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ld=class extends kt{urlAfterRedirects;state;type=$e.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class extends kt{urlAfterRedirects;state;shouldActivate;type=$e.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jd=class extends kt{urlAfterRedirects;state;type=$e.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends kt{urlAfterRedirects;state;type=$e.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ud=class{route;type=$e.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$d=class{route;type=$e.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hd=class{snapshot;type=$e.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=$e.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=$e.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{snapshot;type=$e.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ec=class{},Xo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function CL(t){return!(t instanceof Ec)&&!(t instanceof Xo)}function TL(t,e){return t.providers&&!t._injector&&(t._injector=Xa(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dn(t){return t.outlet||J}function SL(t,e){let n=t.filter(r=>dn(r)===e);return n.push(...t.filter(r=>dn(r)!==e)),n}function ns(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Gd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ns(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new rs(this.rootInjector)}},rs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Gd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ee(nt))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=_y(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=_y(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ey(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ey(e,this._root).map(n=>n.value)}};function _y(t,e){if(t===e.value)return e;for(let n of e.children){let r=_y(t,n);if(r)return r}return null}function Ey(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ey(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ko(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ic=class extends Kd{snapshot;constructor(e,n){super(e),this.snapshot=n,Ty(this,e)}toString(){return this.snapshot.toString()}};function lS(t){let e=AL(t),n=new Ke([new kr("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),c=new Fr(n,r,o,s,i,J,t,e.root);return c.snapshot=e.root,new Ic(new Ot(c,[]),e)}function AL(t){let e={},n={},r={},o=new xi([],e,r,"",n,J,t,null,{});return new wc("",new Ot(o,[]))}var Fr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(De(l=>l[Dc]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(e=>Oi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(e=>Oi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&fS(i)&&(r.resolve[Dc]=i.title),r}var xi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Dc]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},wc=class extends Kd{url;constructor(e,n){super(n),this.url=e,Ty(this,n)}toString(){return dS(this._root)}};function Ty(t,e){e.value._routerState=t,e.children.forEach(n=>Ty(t,n))}function dS(t){let e=t.children.length>0?` { ${t.children.map(dS).join(", ")} } `:"";return`${t.value}${e}`}function fy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,An(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),An(e.params,n.params)||t.paramsSubject.next(n.params),tL(e.url,n.url)||t.urlSubject.next(n.url),An(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Iy(t,e){let n=An(t.params,e.params)&&oL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Iy(t.parent,e.parent))}function fS(t){return typeof t.title=="string"||t.title===null}var hS=new z(""),Tc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new tt;deactivateEvents=new tt;attachEvents=new tt;detachEvents=new tt;routerOutletData=_T();parentContexts=O(rs);location=O(Ar);changeDetector=O(Rr);inputBinder=O(Xd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new wy(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=qo({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ga]})}return t})(),wy=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Fr?this.route:e===rs?this.childContexts:e===hS?this.outletData:this.parent.get(e,n)}},Xd=new z("");var Sy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Nt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ce(0,"router-outlet")},dependencies:[Tc],encapsulation:2})}return t})();function Ay(t){let e=t.children&&t.children.map(Ay),n=e?pe(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=Sy),n}function ML(t,e,n){let r=bc(t,e._root,n?n._root:void 0);return new Ic(r,e)}function bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=NL(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>bc(t,c)),s}}let r=RL(e.value),i=e.children.map(o=>bc(t,o));return new Ot(r,i)}}function NL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bc(t,r,i);return bc(t,r)})}function RL(t){return new Fr(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var es=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},pS="ngNavigationCancelingError";function Yd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gS(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function gS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pS]=!0,n.cancellationCode=e,n}function xL(t){return mS(t)&&Jo(t.url)}function mS(t){return!!t&&t[pS]}var OL=(t,e,n,r)=>De(i=>(new by(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),by=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),fy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ko(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ko(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new zd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(fy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),fy(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function kL(t,e,n){let r=t._root,i=e?e._root:null;return hc(r,i,n,[r.value])}function PL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ag(t)?t:e.get(t):r}function hc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ko(e);return t.children.forEach(s=>{FL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>mc(c,n.getContext(s),i)),i}function FL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=LL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hc(t,e,c?c.children:null,r,i):hc(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Yo(c.outlet.component,s))}else s&&mc(e,c,i),i.canActivateChecks.push(new Jd(r)),o.component?hc(t,null,c?c.children:null,r,i):hc(t,null,n,r,i);return i}function LL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ri(t.url,e.url)||!An(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iy(t,e)||!An(t.queryParams,e.queryParams);case"paramsChange":default:return!Iy(t,e)}}function mc(t,e,n){let r=Ko(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?mc(s,e.children.getContext(o),n):mc(s,null,n):mc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Yo(e.outlet.component,i)):n.canDeactivateChecks.push(new Yo(null,i)):n.canDeactivateChecks.push(new Yo(null,i))}function Sc(t){return typeof t=="function"}function VL(t){return typeof t=="boolean"}function jL(t){return t&&Sc(t.canLoad)}function BL(t){return t&&Sc(t.canActivate)}function UL(t){return t&&Sc(t.canActivateChild)}function $L(t){return t&&Sc(t.canDeactivate)}function HL(t){return t&&Sc(t.canMatch)}function yS(t){return t instanceof ai||t?.name==="EmptyError"}var Nd=Symbol("INITIAL_VALUE");function ts(){return En(t=>jp(t.map(e=>e.pipe($n(1),Hp(Nd)))).pipe(De(e=>{for(let n of e)if(n!==!0){if(n===Nd)return Nd;if(n===!1||zL(n))return n}return!0}),_n(e=>e!==Nd),$n(1)))}function zL(t){return Jo(t)||t instanceof es}function vS(t){return t.aborted?ae(void 0).pipe($n(1)):new le(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function _S(t){return Ea(vS(t))}function qL(t,e){return pt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ae(pe(F({},n),{guardsResult:!0})):WL(s,r,i,t).pipe(pt(c=>c&&VL(c)?GL(r,o,t,e):ae(c)),De(c=>pe(F({},n),{guardsResult:c})))})}function WL(t,e,n,r){return je(t).pipe(pt(i=>ZL(i.component,i.route,n,e,r)),Hn(i=>i!==!0,!0))}function GL(t,e,n,r){return je(e).pipe(_l(i=>Ao(QL(i.route.parent,r),KL(i.route,r),JL(t,i.path,n),YL(t,i.route,n))),Hn(i=>i!==!0,!0))}function KL(t,e){return t!==null&&e&&e(new qd(t)),ae(!0)}function QL(t,e){return t!==null&&e&&e(new Hd(t)),ae(!0)}function YL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>va(()=>{let s=ns(e)??n,c=is(o,s),u=BL(c)?c.canActivate(e,t):mt(s,()=>c(e,t));return Pi(u).pipe(Hn())}));return ae(i).pipe(ts())}function JL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>PL(s)).filter(s=>s!==null).map(s=>va(()=>{let c=s.guards.map(u=>{let l=ns(s.node)??n,h=is(u,l),p=UL(h)?h.canActivateChild(r,t):mt(l,()=>h(r,t));return Pi(p).pipe(Hn())});return ae(c).pipe(ts())}));return ae(o).pipe(ts())}function ZL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(c=>{let u=ns(e)??i,l=is(c,u),h=$L(l)?l.canDeactivate(t,e,n,r):mt(u,()=>l(t,e,n,r));return Pi(h).pipe(Hn())});return ae(s).pipe(ts())}function XL(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return ae(!0);let s=o.map(c=>{let u=is(c,t),l=jL(u)?u.canLoad(e,n):mt(t,()=>u(e,n)),h=Pi(l);return i?h.pipe(_S(i)):h});return ae(s).pipe(ts(),ES(r))}function ES(t){return Op(gt(e=>{if(typeof e!="boolean")throw Yd(t,e)}),De(e=>e===!0))}function eV(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return ae(!0);let s=o.map(c=>{let u=is(c,t),l=HL(u)?u.canMatch(e,n):mt(t,()=>u(e,n)),h=Pi(l);return i?h.pipe(_S(i)):h});return ae(s).pipe(ts(),ES(r))}var Ni=class IS extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,IS.prototype)}},Dy=class wS extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,wS.prototype)}};function tV(t){throw new H(4e3,!1)}function nV(t){throw gS(!1,vt.GuardRejected)}var rV=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[J])throw tV(`${e.redirectTo}`);i=i.children[J]}}async applyRedirectCommands(e,n,r,i,o){let s=await iV(n,i,o);if(s instanceof fn)throw new Dy(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Dy(c);return c}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new fn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function iV(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:h,title:p}=e;return kd(Pi(mt(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p}))))}var Cy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oV(t,e,n,r,i,o){let s=bS(t,e,n);return s.matched?(r=TL(e,r),eV(r,e,n,i,o).pipe(De(c=>c===!0?s:F({},Cy)))):ae(s)}function bS(t,e,n){if(e.path==="**")return sV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Cy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||GT)(n,t,e);if(!i)return F({},Cy);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sV(t){return{matched:!0,parameters:t.length>0?QT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zT(t,e,n,r){return n.length>0&&uV(t,n,r)?{segmentGroup:new ge(e,cV(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&lV(t,n,r)?{segmentGroup:new ge(t.segments,aV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function aV(t,e,n,r){let i={};for(let o of n)if(ef(t,e,o)&&!r[dn(o)]){let s=new ge([],{});i[dn(o)]=s}return F(F({},r),i)}function cV(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&dn(r)!==J){let i=new ge([],{});n[dn(r)]=i}return n}function uV(t,e,n){return n.some(r=>ef(t,e,r)&&dn(r)!==J)}function lV(t,e,n){return n.some(r=>ef(t,e,r))}function ef(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dV(t,e,n){return e.length===0&&!t.children[n]}var fV=class{};async function hV(t,e,n,r,i,o,s="emptyOnly",c){return new gV(t,e,n,r,i,s,o,c).recognize()}var pV=31,gV=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.abortSignal=u,this.applyRedirects=new rV(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}async recognize(){let e=zT(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Ot(r,n),o=new wc("",i),s=oS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new xi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,J,n),rootSnapshot:n}}catch(r){if(r instanceof Dy)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ni?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Ot?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=SL(n,u),p=await this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let c=DS(s);return mV(c),c}async processSegment(e,n,r,i,o,s,c){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c)}catch(l){if(l instanceof Ni||yS(l))continue;throw l}if(dV(r,i,o))return new fV;throw new Ni(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,c,u){if(dn(r)!==s&&(s===J||!ef(i,o,r)))throw new Ni(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&c)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new Ni(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=bS(n,i,o);if(!u)throw new Ni(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pV&&(this.allowRedirects=!1));let v=new xi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,qT(i),dn(i),i.component??i._loadedComponent??null,i,WT(i)),S=Qd(v,c,this.paramsInheritanceStrategy);if(v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let N=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e),R=await this.applyRedirects.lineralizeSegments(i,N);return this.processSegment(e,r,n,R.concat(m),s,!1,c)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let c=await kd(oV(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!c?.matched)throw new Ni(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:m}=c,v=new xi(p,h,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,qT(r),dn(r),r.component??r._loadedComponent??null,r,WT(r)),S=Qd(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let{segmentGroup:N,slicedSegments:R}=zT(n,p,m,u);if(R.length===0&&N.hasChildren()){let oe=await this.processChildren(l,u,N,v);return new Ot(v,oe)}if(u.length===0&&R.length===0)return new Ot(v,[]);let U=dn(r)===o,X=await this.processSegment(l,u,N,R,U?J:o,!0,v);return new Ot(v,X instanceof Ot?[X]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await kd(XL(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw nV(n)}return{routes:[],injector:e}}};function mV(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function yV(t){let e=t.value.routeConfig;return e&&e.path===""}function DS(t){let e=[],n=new Set;for(let r of t){if(!yV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=DS(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function qT(t){return t.data||{}}function WT(t){return t.resolve||{}}var vV=new z("",{factory:()=>hV});function _V(t,e,n,r,i,o,s){let c=t.get(vV);return pt(u=>ae(u).pipe(En(l=>c(t,e,n,r,l.extractedUrl,i,o,s)),De(({state:l,tree:h})=>pe(F({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function EV(t,e){return pt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of CS(u))s.add(l);let c=0;return je(s).pipe(_l(u=>o.has(u)?IV(u,r,t,e):(u.data=Qd(u,u.parent,t).resolve,ae(void 0))),gt(()=>c++),El(1),pt(u=>c===s.size?ae(n):Et))})}function CS(t){let e=t.children.map(n=>CS(n)).flat();return[t,...e]}function IV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!fS(i)&&(o[Dc]=i.title),va(()=>(t.data=Qd(t,t.parent,n).resolve,wV(o,t,e,r).pipe(De(s=>(t._resolvedData=s,t.data=F(F({},t.data),s),null)))))}function wV(t,e,n,r){let i=gy(t);if(i.length===0)return ae({});let o={};return je(i).pipe(pt(s=>bV(t[s],e,n,r).pipe(Hn(),gt(c=>{if(c instanceof es)throw Yd(new Pr,c);o[s]=c}))),El(1),De(()=>o),_a(s=>yS(s)?Et:Vp(s)))}function bV(t,e,n,r){let i=ns(e)??r,o=is(t,i),s=o.resolve?o.resolve(e,n):mt(i,()=>o(e,n));return Pi(s)}function hy(t){return En(e=>{let n=t(e);return n?je(n).pipe(De(()=>e)):ae(e)})}var My=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[Dc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>O(TS),providedIn:"root"})}return t})(),TS=(()=>{class t extends My{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ee(VT))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ac=new z("",{factory:()=>({})}),Mc=new z(""),SS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(Jm);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await YT(mt(n,()=>r.loadComponent())),s=await NS(MS(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await AS(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function AS(t,e,n,r){let i=await YT(mt(n,()=>t.loadChildren())),o=await NS(MS(i)),s;o instanceof vd||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let c,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(c=s.create(n).injector,u=c.get(Mc,[],{optional:!0,self:!0}).flat()),{routes:u.map(Ay),injector:c}}function DV(t){return t&&typeof t=="object"&&"default"in t}function MS(t){return DV(t)?t.default:t}async function NS(t){return t}var tf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>O(CV),providedIn:"root"})}return t})(),CV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RS=new z("");var TV=()=>{},xS=new z(""),OS=(()=>{class t{currentNavigation=Kn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Kn(null);events=new Ge;transitionAbortWithErrorSubject=new Ge;configLoader=O(SS);environmentInjector=O(nt);destroyRef=O(Dr);urlSerializer=O(Cc);rootContexts=O(rs);location=O(Go);inputBindingEnabled=O(Xd,{optional:!0})!==null;titleStrategy=O(My);options=O(Ac,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(tf);createViewTransition=O(RS,{optional:!0});navigationErrorHandler=O(xS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ae(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Ud(i)),r=i=>this.events.next(new $d(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;cn(()=>{this.transitions?.next(pe(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Ke(null),this.transitions.pipe(_n(r=>r!==null),En(r=>{let i=!1,o=new AbortController;return ae(r).pipe(En(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),Et;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:c?pe(F({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new Jn(s.id,this.urlSerializer.serialize(s.rawUrl),"",vc.IgnoredSameUrlNavigation)),s.resolve(!1),Et;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ae(s).pipe(En(h=>(this.events.next(new ki(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Et:Promise.resolve(h))),_V(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),gt(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=h.urlAfterRedirects,m));let p=new _c(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:v,extras:S}=s,N=new ki(h,this.urlSerializer.serialize(p),m,v);this.events.next(N);let R=lS(this.rootComponentType).snapshot;return this.currentTransition=r=pe(F({},s),{targetSnapshot:R,urlAfterRedirects:p,extras:pe(F({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(U=>(U.finalUrl=p,U)),ae(r)}else return this.events.next(new Jn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",vc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Et}),gt(s=>{let c=new Ld(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),De(s=>(this.currentTransition=r=pe(F({},s),{guards:kL(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),qL(this.environmentInjector,s=>this.events.next(s)),gt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Yd(this.urlSerializer,s.guardsResult);let c=new Vd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),_n(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",vt.GuardRejected),!1)),hy(s=>{if(s.guards.canActivateChecks.length!==0)return ae(s).pipe(gt(c=>{let u=new jd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),En(c=>{let u=!1;return ae(c).pipe(EV(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",vt.NoDataFromResolver)}}))}),gt(c=>{let u=new Bd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),hy(s=>{let c=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=ns(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)h.push(...c(p));return h},u=c(s.targetSnapshot.root);return u.length===0?ae(s):je(Promise.all(u).then(()=>s))}),hy(()=>this.afterPreactivation()),En(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?je(u).pipe(De(()=>r)):ae(r)}),De(s=>{let c=ML(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=pe(F({},s),{targetRouterState:c}),this.currentNavigation.update(u=>(u.targetRouterState=c,u)),r}),gt(()=>{this.events.next(new Ec)}),OL(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),$n(1),Ea(vS(o.signal).pipe(_n(()=>!i&&!r.targetRouterState),gt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",vt.Aborted)}))),gt({next:s=>{i=!0,this.currentNavigation.update(c=>(c.abort=TV,c)),this.lastSuccessfulNavigation.set(cn(this.currentNavigation)),this.events.next(new Yn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ea(this.transitionAbortWithErrorSubject.pipe(gt(s=>{throw s}))),$p(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),_a(s=>{if(this.destroyed)return r.resolve(!1),Et;if(i=!0,mS(s))this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),xL(s)?this.events.next(new Xo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Zo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof es){let{message:l,cancellationCode:h}=Yd(this.urlSerializer,u);this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Xo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Et}))}))}cancelNavigationTransition(n,r,i){let o=new Mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=cn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SV(t){return t!==gc}var kS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>O(AV),providedIn:"root"})}return t})(),Zd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AV=(()=>{class t extends Zd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ka(t)))(i||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ny=(()=>{class t{urlSerializer=O(Cc);options=O(Ac,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Go);urlHandlingStrategy=O(tf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof fn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=lS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:()=>O(PS),providedIn:"root"})}return t})(),PS=(()=>{class t extends Ny{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ki?this.updateStateMemento():n instanceof Jn?this.commitTransition(r):n instanceof _c?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ec?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mn&&n.code!==vt.SupersededByNewNavigation&&n.code!==vt.Redirect?this.restoreHistory(r):n instanceof Zo?this.restoreHistory(r,!0):n instanceof Yn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ka(t)))(i||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ry(t,e){t.events.pipe(_n(n=>n instanceof Yn||n instanceof Mn||n instanceof Zo||n instanceof Jn),De(n=>n instanceof Yn||n instanceof Jn?0:(n instanceof Mn?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?2:1),_n(n=>n!==2),$n(1)).subscribe(()=>{e()})}var MV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(zm);stateManager=O(Ny);options=O(Ac,{optional:!0})||{};pendingTasks=O(Cr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(OS);urlSerializer=O(Cc);location=O(Go);urlHandlingStrategy=O(tf);injector=O(nt);_events=new Ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(kS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Mc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Xd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=cn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yn)this.navigated=!0;else if(r instanceof Xo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SV(i.source)},s);this.scheduleNavigation(c,gc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(an)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return cn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ay),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=sS(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return aS(p,n,h,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Jo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,gc,null,r)}navigate(n,r={skipLocationChange:!1}){return RV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(xo(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},MV):r===!1?i=F({},NV):i=r,Jo(n))return jT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return jT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return Ry(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}var kV=new z("");function xy(t,...e){return gi([{provide:Mc,multi:!0,useValue:t},[],{provide:Fr,useFactory:PV},{provide:_d,multi:!0,useFactory:FV},e.map(n=>n.\u0275providers)])}function PV(){return O(zt).routerState.root}function FV(){let t=O(en);return e=>{let n=t.get(Ai);if(e!==n.components[0])return;let r=t.get(zt),i=t.get(LV);t.get(VV)===1&&r.initialNavigation(),t.get(jV,null,{optional:!0})?.setUpPreloading(),t.get(kV,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LV=new z("",{factory:()=>new Ge}),VV=new z("",{factory:()=>1});var jV=new z("");var FS=()=>{};var VS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Oy;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Oy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$V=function(t){let e=VS(t);return jS.encodeByteArray(e,!0)},ky=function(t){return $V(t).replace(/\./g,"")},BS=function(t){try{return jS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zV=()=>HV().__FIREBASE_DEFAULTS__,qV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&BS(t[1]);return e&&JSON.parse(e)},GV=()=>{try{return FS()||zV()||qV()||WV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var Py=()=>{var t;return(t=GV())===null||t===void 0?void 0:t.config};var rf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function US(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var KV="FirebaseError",Fi=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}},Nc=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?QV(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Fi(i,c,r)}};function QV(t,e){return t.replace(YV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YV=/\{\$([^}]+)}/g;function of(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(LS(o)&&LS(s)){if(!of(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function LS(t){return t!==null&&typeof t=="object"}var Sre=14400*1e3;var Vi=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Li="[DEFAULT]";var Fy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZV(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JV(t){return t===Li?void 0:t}function ZV(t){return t.instantiationMode==="EAGER"}var sf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var XV=[],ie=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ie||{}),e2={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},t2=ie.INFO,n2={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},r2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=n2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qt=class{constructor(e){this.name=e,this._logLevel=t2,this._logHandler=r2,this._userLogHandler=null,XV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var i2=(t,e)=>e.some(n=>t instanceof n),HS,zS;function o2(){return HS||(HS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qS=new WeakMap,Vy=new WeakMap,WS=new WeakMap,Ly=new WeakMap,By=new WeakMap;function a2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),By.set(e,t),e}function c2(t){if(Vy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vy.set(t,e)}var jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GS(t){jy=t(jy)}function u2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(af(this),e,...n);return WS.set(r,e.sort?e.sort():[e]),Nn(r)}:s2().includes(t)?function(...e){return t.apply(af(this),e),Nn(qS.get(this))}:function(...e){return Nn(t.apply(af(this),e))}}function l2(t){return typeof t=="function"?u2(t):(t instanceof IDBTransaction&&c2(t),i2(t,o2())?new Proxy(t,jy):t)}function Nn(t){if(t instanceof IDBRequest)return a2(t);if(Ly.has(t))return Ly.get(t);let e=l2(t);return e!==t&&(Ly.set(t,e),By.set(e,t)),e}var af=t=>By.get(t);function cf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var d2=["get","getKey","getAll","getAllKeys","count"],f2=["put","add","delete","clear"],Uy=new Map;function KS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uy.get(e))return Uy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=f2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||d2.includes(n)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[n](...c),i&&u.done]))[0]};return Uy.set(e,o),o}GS(t=>pe(F({},t),{get:(e,n,r)=>KS(e,n)||t.get(e,n,r),has:(e,n)=>!!KS(e,n)||t.has(e,n)}));var Hy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function g2(t){let e=t.getComponent();return e?.type==="VERSION"}var zy="@firebase/app",QS="0.13.2";var Zn=new qt("@firebase/app"),m2="@firebase/app-compat",y2="@firebase/analytics-compat",v2="@firebase/analytics",_2="@firebase/app-check-compat",E2="@firebase/app-check",I2="@firebase/auth",w2="@firebase/auth-compat",b2="@firebase/database",D2="@firebase/data-connect",C2="@firebase/database-compat",T2="@firebase/functions",S2="@firebase/functions-compat",A2="@firebase/installations",M2="@firebase/installations-compat",N2="@firebase/messaging",R2="@firebase/messaging-compat",x2="@firebase/performance",O2="@firebase/performance-compat",k2="@firebase/remote-config",P2="@firebase/remote-config-compat",F2="@firebase/storage",L2="@firebase/storage-compat",V2="@firebase/firestore",j2="@firebase/ai",B2="@firebase/firestore-compat",U2="firebase";var qy="[DEFAULT]",$2={[zy]:"fire-core",[m2]:"fire-core-compat",[v2]:"fire-analytics",[y2]:"fire-analytics-compat",[E2]:"fire-app-check",[_2]:"fire-app-check-compat",[I2]:"fire-auth",[w2]:"fire-auth-compat",[b2]:"fire-rtdb",[D2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[T2]:"fire-fn",[S2]:"fire-fn-compat",[A2]:"fire-iid",[M2]:"fire-iid-compat",[N2]:"fire-fcm",[R2]:"fire-fcm-compat",[x2]:"fire-perf",[O2]:"fire-perf-compat",[k2]:"fire-rc",[P2]:"fire-rc-compat",[F2]:"fire-gcs",[L2]:"fire-gcs-compat",[V2]:"fire-fst",[B2]:"fire-fst-compat",[j2]:"fire-vertex","fire-js":"fire-js",[U2]:"fire-js-all"};var Rc=new Map,H2=new Map,Wy=new Map;function YS(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gy(t){let e=t.name;if(Wy.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Wy.set(e,t);for(let n of Rc.values())YS(n,t);for(let n of H2.values())YS(n,t);return!0}var z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Nc("app","Firebase",z2);var Ky=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};function Jy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=Py()),!n)throw Lr.create("no-options");let o=Rc.get(i);if(o){if(of(n,o.options)&&of(r,o.config))return o;throw Lr.create("duplicate-app",{appName:i})}let s=new sf(i);for(let u of Wy.values())s.addComponent(u);let c=new Ky(n,r,s);return Rc.set(i,c),c}function e0(t=qy){let e=Rc.get(t);if(!e&&t===qy&&Py())return Jy();if(!e)throw Lr.create("no-app",{appName:t});return e}function uf(){return Array.from(Rc.values())}function bt(t,e,n){var r;let i=(r=$2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(c.join(" "));return}Gy(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var q2="firebase-heartbeat-database",W2=1,xc="firebase-heartbeat-store",$y=null;function t0(){return $y||($y=cf(q2,W2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),$y}async function G2(t){try{let n=(await t0()).transaction(xc),r=await n.objectStore(xc).get(n0(t));return await n.done,r}catch(e){if(e instanceof Fi)Zn.warn(e.message);else{let n=Lr.create("idb-get",{originalErrorMessage:e?.message});Zn.warn(n.message)}}}async function JS(t,e){try{let r=(await t0()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,n0(t)),await r.done}catch(n){if(n instanceof Fi)Zn.warn(n.message);else{let r=Lr.create("idb-set",{originalErrorMessage:n?.message});Zn.warn(r.message)}}}function n0(t){return`${t.name}!${t.options.appId}`}var K2=1024,Q2=30,Qy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Yy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Q2){let s=J2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ZS(),{heartbeatsToSend:r,unsentEntries:i}=Y2(this._heartbeatsCache.heartbeats),o=ky(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zn.warn(n),""}}};function ZS(){return new Date().toISOString().substring(0,10)}function Y2(t,e=K2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),XS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Yy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await G2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return JS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return JS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function XS(t){return ky(JSON.stringify({version:2,heartbeats:t})).length}function J2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Z2(t){Gy(new Vi("platform-logger",e=>new Hy(e),"PRIVATE")),Gy(new Vi("heartbeat",e=>new Qy(e),"PRIVATE")),bt(zy,QS,t),bt(zy,QS,"esm2017"),bt("fire-js","")}Z2("");var X2="firebase",ej="11.10.0";bt(X2,ej,"app");function Dt(t){return typeof t=="function"}function lf(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var df=lf(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ji(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _t=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Dt(r))try{r()}catch(o){e=o instanceof df?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{r0(o)}catch(s){e=e??[],s instanceof df?e=[...e,...s.errors]:e.push(s)}}if(e)throw new df(e)}}add(e){var n;if(e&&e!==this)if(this.closed)r0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ji(n,e)}remove(e){let{_finalizers:n}=this;n&&ji(n,e),e instanceof t&&e._removeParent(this)}};_t.EMPTY=(()=>{let t=new _t;return t.closed=!0,t})();var Zy=_t.EMPTY;function ff(t){return t instanceof _t||t&&"closed"in t&&Dt(t.remove)&&Dt(t.add)&&Dt(t.unsubscribe)}function r0(t){Dt(t)?t():t.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var os={setTimeout(t,e,...n){let{delegate:r}=os;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=os;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function i0(t){os.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(t);else throw t})}function Xy(){}var o0=ev("C",void 0,void 0);function s0(t){return ev("E",void 0,t)}function a0(t){return ev("N",t,void 0)}function ev(t,e,n){return{kind:t,value:e,error:n}}var Bi=null;function ss(t){if(hn.useDeprecatedSynchronousErrorHandling){let e=!Bi;if(e&&(Bi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Bi;if(Bi=null,n)throw r}}else t()}function c0(t){hn.useDeprecatedSynchronousErrorHandling&&Bi&&(Bi.errorThrown=!0,Bi.error=t)}var Ui=class extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ff(e)&&e.add(this)):this.destination=rj}static create(e,n,r){return new as(e,n,r)}next(e){this.isStopped?nv(a0(e),this):this._next(e)}error(e){this.isStopped?nv(s0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?nv(o0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tj=Function.prototype.bind;function tv(t,e){return tj.call(t,e)}var rv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hf(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hf(r)}else hf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hf(n)}}},as=class extends Ui{constructor(e,n,r){super();let i;if(Dt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&tv(e.next,o),error:e.error&&tv(e.error,o),complete:e.complete&&tv(e.complete,o)}):i=e}this.destination=new rv(i)}};function hf(t){hn.useDeprecatedSynchronousErrorHandling?c0(t):i0(t)}function nj(t){throw t}function nv(t,e){let{onStoppedNotification:n}=hn;n&&os.setTimeout(()=>n(t,e))}var rj={closed:!0,next:Xy,error:nj,complete:Xy};var u0=typeof Symbol=="function"&&Symbol.observable||"@@observable";function l0(t){return t}function d0(t){return t.length===0?l0:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Xn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=oj(n)?n:new as(n,r,i);return ss(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=f0(r),new r((i,o)=>{let s=new as({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[u0](){return this}pipe(...n){return d0(n)(this)}toPromise(n){return n=f0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function f0(t){var e;return(e=t??hn.Promise)!==null&&e!==void 0?e:Promise}function ij(t){return t&&Dt(t.next)&&Dt(t.error)&&Dt(t.complete)}function oj(t){return t&&t instanceof Ui||ij(t)&&ff(t)}function sj(t){return Dt(t?.lift)}function pf(t){return e=>{if(sj(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function h0(t,e,n,r,i){return new iv(t,e,n,r,i)}var iv=class extends Ui{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var p0=lf(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var cs=(()=>{class t extends Xn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gf(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new p0}next(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zy:(this.currentObservers=null,o.push(n),new _t(()=>{this.currentObservers=null,ji(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Xn;return n.source=this,n}}return t.create=(e,n)=>new gf(e,n),t})(),gf=class extends cs{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Zy}};var Oc=class extends cs{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ov={now(){return(ov.delegate||Date).now()},delegate:void 0};var mf=class extends _t{constructor(e,n){super()}schedule(e,n=0){return this}};var kc={setInterval(t,e,...n){let{delegate:r}=kc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=kc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var us=class extends mf{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return kc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&kc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ji(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ls=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ls.now=ov.now;var ds=class extends ls{constructor(e,n=ls.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var sv=new ds(us);var yf=class extends us{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vf=class extends ds{};var av=new vf(yf);function cv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _f(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ef(t,e=0){return pf((n,r)=>{n.subscribe(h0(r,i=>_f(r,t,()=>r.next(i),e),()=>_f(r,t,()=>r.complete(),e),i=>_f(r,t,()=>r.error(i),e)))})}function If(t,e=0){return pf((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}var g0=null;var wf=Symbol("SIGNAL");function pn(t){let e=g0;return g0=t,e}var uv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};var lv;function Pc(){return lv}function er(t){let e=lv;return lv=t,e}var bf=Symbol("NotFound");var He=class extends Error{code;constructor(e,n){super(Ej(e,n)),this.code=e}};function _j(t){return`NG0${Math.abs(t)}`}function Ej(t,e){return`${_j(t)}${e?": "+e:""}`}function Ij(t){return{toString:t}.toString()}var Df="__parameters__";function wj(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function bj(t,e,n){return Ij(()=>{let r=wj(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Df)?u[Df]:Object.defineProperty(u,Df,{value:[]})[Df];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function xn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(xn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}var Dj=Pe({__forward_ref__:Pe});function M0(t){return t.__forward_ref__=M0,t.toString=function(){return xn(this())},t}function Rn(t){return Cj(t)?t():t}function Cj(t){return typeof t=="function"&&t.hasOwnProperty(Dj)&&t.__forward_ref__===M0}function ys(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dv(t){return m0(t,N0)||m0(t,R0)}function m0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Tj(t){let e=t&&(t[N0]||t[R0]);return e||null}function y0(t){return t&&(t.hasOwnProperty(v0)||t.hasOwnProperty(Sj))?t[v0]:null}var N0=Pe({\u0275prov:Pe}),v0=Pe({\u0275inj:Pe}),R0=Pe({ngInjectableDef:Pe}),Sj=Pe({ngInjectorDef:Pe}),at=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ys({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function x0(t){return t&&!!t.\u0275providers}var Aj=Pe({\u0275cmp:Pe});var _0=Pe({\u0275fac:Pe});var E0=Pe({__NG_ENV_ID__:Pe});function Mj(t,e){throw new He(-200,t)}function Nj(t,e){throw new He(-201,!1)}var st=(function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t})(st||{}),fv;function O0(){return fv}function Vr(t){let e=fv;return fv=t,e}function Rj(t,e,n){let r=Dv(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&st.Optional)return null;if(e!==void 0)return e;Nj(t,"Injector")}var xj={},$i=xj,hv="__NG_DI_FLAG__",Sf=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?bf:$i,r)}},Af="ngTempTokenPath",Oj="ngTokenPath",kj=/\n/gm,Pj="\u0275",I0="__source";function Fj(t,e=st.Default){if(Pc()===void 0)throw new He(-203,!1);if(Pc()===null)return Rj(t,void 0,e);{let n=Pc(),r;return n instanceof Sf?r=n.injector:r=n,r.get(t,e&st.Optional?null:void 0,e)}}function ps(t,e=st.Default){return(O0()||Fj)(Rn(t),e)}function Pt(t,e=st.Default){return ps(t,k0(e))}function k0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pv(t){let e=[];for(let n=0;n<t.length;n++){let r=Rn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new He(900,!1);let i,o=st.Default;for(let s=0;s<r.length;s++){let c=r[s],u=Vj(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ps(i,o))}else e.push(ps(r))}return e}function Lj(t,e){return t[hv]=e,t.prototype[hv]=e,t}function Vj(t){return t[hv]}function jj(t,e,n,r){let i=t[Af];throw e[I0]&&i.unshift(e[I0]),t.message=Bj(`
`+t.message,i,n,r),t[Oj]=i,t[Af]=null,t}function Bj(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Pj?t.slice(2):t;let i=xn(e);if(Array.isArray(e))i=e.map(xn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):xn(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(kj,`
  `)}`}var Gt=Lj(bj("Optional"),8);function Mf(t,e){let n=t.hasOwnProperty(_0);return n?t[_0]:null}function Cv(t,e){t.forEach(n=>Array.isArray(n)?Cv(n,e):e(n))}var Nf=[],P0=new at(""),F0=new at("",-1),L0=new at(""),Rf=class{get(e,n=$i){if(n===$i){let r=new Error(`NullInjectorError: No provider for ${xn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Uj(t){return t[Aj]||null}function vs(t){return{\u0275providers:t}}function $j(...t){return{\u0275providers:Hj(!0,t),\u0275fromNgModule:!0}}function Hj(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cv(e,s=>{let c=s;gv(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&V0(i,o),n}function V0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Tv(i,o=>{e(o,r)})}}function gv(t,e,n,r){if(t=Rn(t),!t)return!1;let i=null,o=y0(t),s=!o&&Uj(t);if(!o&&!s){let u=t.ngModule;if(o=y0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)gv(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Cv(o.imports,h=>{gv(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&V0(l,e)}if(!c){let l=Mf(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nf},i),e({provide:L0,useValue:i,multi:!0},i),e({provide:P0,useValue:()=>ps(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Tv(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Tv(t,e){for(let n of t)x0(n)&&(n=n.\u0275providers),Array.isArray(n)?Tv(n,e):e(n)}var zj=Pe({provide:String,useValue:Pe});function j0(t){return t!==null&&typeof t=="object"&&zj in t}function qj(t){return!!(t&&t.useExisting)}function Wj(t){return!!(t&&t.useFactory)}function mv(t){return typeof t=="function"}var Gj=new at(""),Tf={},w0={},dv;function B0(){return dv===void 0&&(dv=new Rf),dv}var gs=class{},xf=class extends gs{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,vv(e,s=>this.processProvider(s)),this.records.set(F0,fs(void 0,this)),i.has("environment")&&this.records.set(gs,fs(void 0,this));let o=this.records.get(Gj);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(L0,Nf,st.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?bf:$i,r)}destroy(){Fc(this),this._destroyed=!0;let e=pn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pn(e)}}onDestroy(e){return Fc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fc(this);let n=er(this),r=Vr(void 0),i;try{return e()}finally{er(n),Vr(r)}}get(e,n=$i,r=st.Default){if(Fc(this),e.hasOwnProperty(E0))return e[E0](this);r=k0(r);let i,o=er(this),s=Vr(void 0);try{if(!(r&st.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Xj(e)&&Dv(e);l&&this.injectableDefInScope(l)?u=fs(yv(e),Tf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let c=r&st.Self?B0():this.parent;return n=r&st.Optional&&n===$i?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Af]=c[Af]||[]).unshift(xn(e)),o)throw c;return jj(c,e,"R3InjectorError",this.source)}else throw c}finally{Vr(s),er(o)}}resolveInjectorInitializers(){let e=pn(null),n=er(this),r=Vr(void 0),i;try{let o=this.get(P0,Nf,st.Self);for(let s of o)s()}finally{er(n),Vr(r),pn(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(xn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Rn(e);let n=mv(e)?e:Rn(e&&e.provide),r=Qj(e);if(!mv(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fs(void 0,Tf,!0),i.factory=()=>pv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=pn(null);try{return n.value===w0?Mj(xn(e)):n.value===Tf&&(n.value=w0,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Zj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pn(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Rn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yv(t){let e=Dv(t),n=e!==null?e.factory:Mf(t);if(n!==null)return n;if(t instanceof at)throw new He(204,!1);if(t instanceof Function)return Kj(t);throw new He(204,!1)}function Kj(t){if(t.length>0)throw new He(204,!1);let n=Tj(t);return n!==null?()=>n.factory(t):()=>new t}function Qj(t){if(j0(t))return fs(void 0,t.useValue);{let e=Yj(t);return fs(e,Tf)}}function Yj(t,e,n){let r;if(mv(t)){let i=Rn(t);return Mf(i)||yv(i)}else if(j0(t))r=()=>Rn(t.useValue);else if(Wj(t))r=()=>t.useFactory(...pv(t.deps||[]));else if(qj(t))r=(i,o)=>ps(Rn(t.useExisting),o!==void 0&&o&st.Optional?st.Optional:void 0);else{let i=Rn(t&&(t.useClass||t.provide));if(Jj(t))r=()=>new i(...pv(t.deps));else return Mf(i)||yv(i)}return r}function Fc(t){if(t.destroyed)throw new He(205,!1)}function fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jj(t){return!!t.deps}function Zj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Xj(t){return typeof t=="function"||typeof t=="object"&&t instanceof at}function vv(t,e){for(let n of t)Array.isArray(n)?vv(n,e):n&&x0(n)?vv(n.\u0275providers,e):e(n)}function kf(t,e){let n;t instanceof xf?(Fc(t),n=t):n=new Sf(t);let r,i=er(n),o=Vr(void 0);try{return e()}finally{er(i),Vr(o)}}function U0(){return O0()!==void 0||Pc()!=null}function $0(t){if(!U0())throw new He(-203,!1)}var eB=1,ms=2,b0=3;var tB=10;var hs=21;var H0=24;var nB=1;function rB(t){return Array.isArray(t)&&t[nB]===!0}function z0(t){return(t[ms]&256)===256}function q0(t){return(t[ms]&128)===128}function iB(t){t[ms]&1024||(t[ms]|=1024,q0(t)&&W0(t))}function W0(t){t[tB].changeDetectionScheduler?.notify(0);let e=Of(t);for(;e!==null&&!(e[ms]&8192||(e[ms]|=8192,!q0(e)));)e=Of(e)}function oB(t,e){if(z0(t))throw new He(911,!1);t[hs]===null&&(t[hs]=[]),t[hs].push(e)}function sB(t,e){if(t[hs]===null)return;let n=t[hs].indexOf(e);n!==-1&&t[hs].splice(n,1)}function Of(t){let e=t[b0];return rB(e)?e[b0]:e}var G0={lFrame:lB(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aB(){return G0.lFrame.lView}function cB(){let t=uB();for(;t!==null&&t.type===64;)t=t.parent;return t}function uB(){return G0.lFrame.currentTNode}function lB(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}var dB=256,use=dB-1;function D0(t,e=null,n=null,r){let i=fB(t,e,n,r);return i.resolveInjectorInitializers(),i}function fB(t,e=null,n=null,r,i=new Set){let o=[n||Nf,$j(t)];return r=r||(typeof t=="object"?void 0:xn(t)),new xf(o,e||B0(),r||null,i)}var On=class t{static THROW_IF_NOT_FOUND=$i;static NULL=new Rf;static create(e,n){if(Array.isArray(e))return D0({name:""},n,e,"");{let r=e.name??"";return D0({name:r},e.parent,e.providers,r)}}static \u0275prov=ys({token:t,providedIn:"any",factory:()=>ps(F0)});static __NG_ELEMENT_ID__=-1};var hB=new at("");hB.__NG_ELEMENT_ID__=t=>{let e=cB();if(e===null)throw new He(204,!1);if(e.type&2)return e.value;if(t&st.Optional)return null;throw new He(204,!1)};var pB=!1,Sv=(()=>{class t{static __NG_ELEMENT_ID__=gB;static __NG_ENV_ID__=n=>n}return t})(),_v=class extends Sv{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return z0(n)?(e(),()=>{}):(oB(n,e),()=>sB(n,e))}};function gB(){return new _v(aB())}var Ev=class{};var K0=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Oc(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ys({token:t,providedIn:"root",factory:()=>new t})}return t})(),Pf=(()=>{class t{internalPendingTasks=Pt(K0);scheduler=Pt(Ev);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}async run(n){let r=this.add();try{return await n()}finally{r()}}static \u0275prov=ys({token:t,providedIn:"root",factory:()=>new t})}return t})(),Iv=class extends cs{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,U0()&&(this.destroyRef=Pt(Sv,{optional:!0})??void 0,this.pendingTasks=Pt(K0,{optional:!0})??void 0)}emit(e){let n=pn(null);try{super.next(e)}finally{pn(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof _t&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Cf=Iv;function wv(...t){}function mB(t){let e,n;function r(){t=wv;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}var Av="isAngularZone",C0=Av+"_ID",yB=0,Wt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Cf(!1);onMicrotaskEmpty=new Cf(!1);onStable=new Cf(!1);onError=new Cf(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pB}=e;if(typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,EB(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Av)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new He(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,vB,wv,wv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},vB={};function Mv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _B(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mB(()=>{t.callbackScheduled=!1,bv(t),t.isCheckStableRunning=!0,Mv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bv(t)}function EB(t){let e=()=>{_B(t)},n=yB++;t._inner=t._inner.fork({name:"angular",properties:{[Av]:!0,[C0]:n,[C0+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(IB(u))return r.invokeTask(o,s,c,u);try{return T0(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),S0(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return T0(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!wB(u)&&e(),S0(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bv(t),Mv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function T0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function S0(t){t._nesting--,Mv(t)}function IB(t){return Q0(t,"__ignore_ng_zone__")}function wB(t){return Q0(t,"__scheduler_tick__")}function Q0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Y0=new at("",{providedIn:"platform",factory:()=>"unknown"});var bB="h",DB="b";var lse=pe(F({},uv),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{W0(t.lView)},consumerOnSignalRead(){this.lView[H0]=this}});var dse=pe(F({},uv),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Of(t.lView);for(;e&&!CB(e[eB]);)e=Of(e);e&&iB(e)},consumerOnSignalRead(){this.lView[H0]=this}});function CB(t){return t.type!==2}var fse=new RegExp(`^(\\d+)*(${DB}|${bB})*(.*)`);var Lc=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},J0=new Lc("19.2.17");function Nv(){return!1}var A0=class{[wf];constructor(e){this[wf]=e}destroy(){this[wf].destroy()}};function Rv(t){t===void 0&&($0(Rv),t=Pt(On));let e=t.get(Pf);return n=>new Xn(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var jr=new Lc("ANGULARFIRE2_VERSION");function Vc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Es=(t,e)=>{let n=e?[e]:uf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},_s=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(_s||{}),Z0=Nv()&&typeof Zone<"u"?_s.WARN:_s.SILENT;var Ff=class{zone;delegate;constructor(e,n=av){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Br=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=Pt(Wt);this.outsideAngular=n.runOutsideAngular(()=>new Ff(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ff(typeof Zone>"u"?void 0:Zone.current,sv))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ys({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),X0=!1;function SB(t,e){!X0&&(Z0>_s.SILENT||Nv())&&(X0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Z0>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function AB(t){let e=Pt(Wt,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Hi(t){let e=Pt(Wt,{optional:!0});return e?e.run(()=>t()):t()}var MB=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),kf(n,()=>Hi(()=>t.apply(void 0,r)))),tr=(t,e,n)=>(n||=e?_s.WARN:_s.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=Pt(Br),s=Pt(Pf),c=Pt(gs)}catch{return SB(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Hi(()=>s.add())),i[l]=MB(i[l],r,c));let u=AB(()=>t.apply(this,i));return e?u instanceof Xn?u.pipe(If(o.outsideAngular),Ef(o.insideAngular),Rv(c)):u instanceof Promise?Hi(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>kf(c,()=>Hi(()=>l(p))),p=>kf(c,()=>Hi(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Hi(()=>u):u instanceof Xn?u.pipe(If(o.outsideAngular),Ef(o.insideAngular)):Hi(()=>u)});var nr=class{constructor(e){return e}},zi=class{constructor(){return uf()}};function NB(t){return t&&t.length===1?t[0]:new nr(e0())}var xv=new at("angularfire2._apps"),RB={provide:nr,useFactory:NB,deps:[[new Gt,xv]]},xB={provide:zi,deps:[[new Gt,xv]]};function OB(t){return(e,n)=>{let r=n.get(Y0);bt("angularfire",jr.full,"core"),bt("angularfire",jr.full,"app"),bt("angular",J0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new nr(i)}}function eA(t,...e){return vs([RB,xB,{provide:xv,useFactory:OB(t),multi:!0,deps:[Wt,On,Br,...e]}])}var Ov=tr(Jy,!0);var kv={production:!1,firebase:{apiKey:"AIzaSyAj_zlEebN7FFfTRxo8D7-tZNOd2mo9kA8",authDomain:"kidnxtdoor-dotcom.firebaseapp.com",projectId:"kidnxtdoor-dotcom",storageBucket:"kidnxtdoor-dotcom.firebasestorage.app",messagingSenderId:"406808938722",appId:"1:406808938722:web:f901a0d4af3dcadb5cf6bb",measurementId:"G-77XJKW4V2K"}};var kB=["audioRef"];function PB(t,e){t&1&&(L(0,"span",12),q(1,"do"),L(2,"span",13),q(3," door_front "),j(),q(4,"r"),j())}function FB(t,e){t&1&&(L(0,"span",12),q(1,"do"),L(2,"span",13),q(3," door_open "),j(),q(4," r"),j())}function LB(t,e){t&1&&(L(0,"span",13),q(1," play_circle "),j())}function VB(t,e){t&1&&(L(0,"span",13),q(1," pause_circle "),j())}var Lf=class t{constructor(e,n){this.cdr=e;this.router=n}audioRef;images=["../../assets/images/dashboard/white/knd1.png","../../assets/images/dashboard/white/knd2.png","../../assets/images/dashboard/white/knd3.png","../../assets/images/dashboard/white/knd4.png","../../assets/images/dashboard/white/knd5.png","../../assets/images/dashboard/white/knd6.png","../../assets/images/dashboard/white/knd7.png","../../assets/images/dashboard/white/knd8.png","../../assets/images/dashboard/white/knd9.png","../../assets/images/dashboard/white/knd10.png","../../assets/images/dashboard/white/knd11.png","../../assets/images/dashboard/white/knd12.png","../../assets/images/dashboard/white/knd13.png","../../assets/images/dashboard/white/knd14.png","../../assets/images/dashboard/white/knd15.png","../../assets/images/dashboard/white/knd16.png","../../assets/images/dashboard/white/knd17.png","../../assets/images/dashboard/white/knd18.png"];currentImage="../../assets/images/dashboard/white/knd13.png";currentIndex=0;playSub=null;intervalMs=150;audioEnabled=!1;showAudioPrompt=!0;doorClosed=!0;isPlaying=!1;doorControls(){this.doorClosed=!this.doorClosed}openIG(){window.open("https://www.instagram.com/prod.kidnxtdoor/","_blank")}enableAudio(){this.audioEnabled=!0,this.showAudioPrompt=!1}playCarousel(){this.playSub&&!this.playSub.closed||(this.playSub=Bp(this.intervalMs).subscribe(()=>{this.currentIndex=(this.currentIndex+1)%this.images.length,this.currentImage=this.images[this.currentIndex],this.cdr.detectChanges()}))}stopCarousel(){this.playSub&&(this.playSub.unsubscribe(),this.playSub=null),this.currentIndex=0,this.currentImage="../../assets/images/dashboard/white/knd13.png"}controlMusic(){if(this.isPlaying=!this.isPlaying,this.isPlaying){let e=this.audioRef.nativeElement;e.src="../../assets/audio/investors.mp3",e.load(),e.play(),console.log(e.src)}else this.audioRef.nativeElement.pause()}navigatePage(e){this.router.navigate([e])}ngOnDestroy(){this.playSub&&this.playSub.unsubscribe()}static \u0275fac=function(n){return new(n||t)(Qe(Rr),Qe(zt))};static \u0275cmp=Nt({type:t,selectors:[["app-dashboard"]],viewQuery:function(n,r){if(n&1&&Km(kB,5),n&2){let i;Qm(i=Ym())&&(r.audioRef=i.first)}},decls:26,vars:5,consts:[["audioRef",""],["id","kidnxtdoor",3,"mouseenter","mouseleave","click"],[1,"space1"],[1,"space2"],["class","space3",4,"ngIf"],[1,"audio-player",3,"click"],["class","material-symbols-outlined",4,"ngIf"],["loop","",2,"display","none"],[1,"links"],[3,"click"],["id","intro",3,"mouseenter","mouseleave"],["alt","image for dashboard",1,"overlay-img",3,"src"],[1,"space3"],[1,"material-symbols-outlined"]],template:function(n,r){if(n&1){let i=Wo();L(0,"body")(1,"header")(2,"nav")(3,"p",1),de("mouseenter",function(){return k(i),P(r.doorControls())})("mouseleave",function(){return k(i),P(r.doorControls())})("click",function(){return k(i),P(r.openIG())}),L(4,"span",2),q(5,"Kid"),j(),L(6,"span",3),q(7,"nxt"),j(),Nr(8,PB,5,0,"span",4)(9,FB,5,0,"span",4),j(),L(10,"div",5),de("click",function(){return k(i),P(r.controlMusic())}),Nr(11,LB,2,0,"span",6)(12,VB,2,0,"span",6),j(),ce(13,"audio",7,0),L(15,"ul",8)(16,"li",9),de("click",function(){return k(i),P(r.navigatePage("/journey"))}),q(17,"Journey"),j(),L(18,"li",9),de("click",function(){return k(i),P(r.navigatePage("/about"))}),q(19,"About"),j()()()(),L(20,"main")(21,"section",10),de("mouseenter",function(){return k(i),P(r.playCarousel())})("mouseleave",function(){return k(i),P(r.stopCarousel())}),ce(22,"img",11),j()(),L(23,"footer")(24,"p"),q(25,"Laptop Music 2026"),j()()()}n&2&&(Ht(8),Rt("ngIf",r.doorClosed),Ht(),Rt("ngIf",!r.doorClosed),Ht(2),Rt("ngIf",!r.isPlaying),Ht(),Rt("ngIf",r.isPlaying),Ht(10),Rt("src",r.currentImage,Ya))},dependencies:[Or,sc],styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:35px;margin:15% 0;font-family:BBH Sans Bartle,sans-serif;font-weight:400;font-style:normal;letter-spacing:30px;color:#fff;z-index:3;text-shadow:2px 2px 4px rgba(0,0,0,.8),0px 0px 10px #fff,-1px -1px 2px rgba(0,0,0,.8)}#intro[_ngcontent-%COMP%]{height:72.5vh}header[_ngcontent-%COMP%]{font-family:BBH Sans Bartle,sans-serif;font-weight:900}.space1[_ngcontent-%COMP%]{letter-spacing:5px}.space2[_ngcontent-%COMP%]{letter-spacing:-1px}.space3[_ngcontent-%COMP%]{color:#717171;letter-spacing:-5px}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translateY(5px);letter-spacing:-5px}.audio-enable-btn[_ngcontent-%COMP%]{float:left;position:absolute;top:20px;right:20px;padding:.75rem 1.5rem;background-color:#000;color:#fff;border:2px solid #000;border-radius:8px;cursor:pointer;font-weight:700;z-index:1000;transition:all .3s ease}.audio-enable-btn[_ngcontent-%COMP%]:hover{background-color:#333;transform:scale(1.05)}#kidnxtdoor[_ngcontent-%COMP%]{cursor:pointer;transform:translateY(-3px)}"]})};function jB(t,e){t&1&&(ec(0),L(1,"div",23),q(2," loading :) "),j(),tc())}function BB(t,e){if(t&1){let n=Wo();L(0,"div",50),de("click",function(){k(n);let i=V(2);return P(i.videoModal(""))}),L(1,"video",51,0),ce(3,"source",52),j()()}if(t&2){let n=V(2);Ht(3),Rt("src",n.currVid,Ya)}}function UB(t,e){if(t&1){let n=Wo();ec(0),Nr(1,BB,4,1,"div",24),ce(2,"i",25),L(3,"h1")(4,"span",26)(5,"video",27,0),ce(7,"source",28),j(),L(8,"div",29),de("mouseenter",function(){k(n);let i=Y(6),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(6),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey1/J1.mp4"))}),q(9," J "),j()(),L(10,"span",26)(11,"video",27,1),ce(13,"source",30),j(),L(14,"div",29),de("mouseenter",function(){k(n);let i=Y(12),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(12),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey1/O1.mp4"))}),q(15," O "),j()(),L(16,"span",26)(17,"video",27,2),ce(19,"source",31),j(),L(20,"div",29),de("mouseenter",function(){k(n);let i=Y(18),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(18),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey1/U1.mp4"))}),q(21," U "),j()(),L(22,"span",26)(23,"video",27,3),ce(25,"source",32),j(),L(26,"div",29),de("mouseenter",function(){k(n);let i=Y(24),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(24),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey1/R1.mp4"))}),q(27," R "),j()(),L(28,"span",26)(29,"video",27,4),ce(31,"source",33),j(),L(32,"div",29),de("mouseenter",function(){k(n);let i=Y(30),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(30),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey1/N1.mp4"))}),q(33," N "),j()(),L(34,"span",26)(35,"video",27,5),ce(37,"source",34),j(),L(38,"div",29),de("mouseenter",function(){k(n);let i=Y(36),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(36),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey1/E1.mp4"))}),q(39," E "),j()(),L(40,"span",26)(41,"video",27,6),ce(43,"source",35),j(),L(44,"div",29),de("mouseenter",function(){k(n);let i=Y(42),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(42),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey1/Y1.mp4"))}),q(45," Y "),j()()(),L(46,"h1")(47,"span",26)(48,"video",27,7),ce(50,"source",36),j(),L(51,"div",29),de("mouseenter",function(){k(n);let i=Y(49),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(49),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey2/J2.mp4"))}),q(52," J "),j()(),L(53,"span",26)(54,"video",27,8),ce(56,"source",37),j(),L(57,"div",29),de("mouseenter",function(){k(n);let i=Y(55),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(55),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey2/O2.mp4"))}),q(58," O "),j()(),L(59,"span",26)(60,"video",27,9),ce(62,"source",38),j(),L(63,"div",29),de("mouseenter",function(){k(n);let i=Y(61),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(61),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey2/U2.mp4"))}),q(64," U "),j()(),L(65,"span",26)(66,"video",27,10),ce(68,"source",39),j(),L(69,"div",29),de("mouseenter",function(){k(n);let i=Y(67),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(67),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey2/R2.mp4"))}),q(70," R "),j()(),L(71,"span",26)(72,"video",27,11),ce(74,"source",40),j(),L(75,"div",29),de("mouseenter",function(){k(n);let i=Y(73),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(73),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey2/N2.mp4"))}),q(76," N "),j()(),L(77,"span",26)(78,"video",27,12),ce(80,"source",41),j(),L(81,"div",29),de("mouseenter",function(){k(n);let i=Y(79),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(79),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey2/E2.mp4"))}),q(82," E "),j()(),L(83,"span",26)(84,"video",27,13),ce(86,"source",42),j(),L(87,"div",29),de("mouseenter",function(){k(n);let i=Y(85),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(85),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey2/Y2.mp4"))}),q(88," Y "),j()()(),L(89,"h1")(90,"span",26)(91,"video",27,14),ce(93,"source",43),j(),L(94,"div",29),de("mouseenter",function(){k(n);let i=Y(92),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(92),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey3/J3.mp4"))}),q(95," J "),j()(),L(96,"span",26)(97,"video",27,15),ce(99,"source",44),j(),L(100,"div",29),de("mouseenter",function(){k(n);let i=Y(98),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(98),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey3/O3.mp4"))}),q(101," O "),j()(),L(102,"span",26)(103,"video",27,16),ce(105,"source",45),j(),L(106,"div",29),de("mouseenter",function(){k(n);let i=Y(104),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(104),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey3/U3.mp4"))}),q(107," U "),j()(),L(108,"span",26)(109,"video",27,17),ce(111,"source",46),j(),L(112,"div",29),de("mouseenter",function(){k(n);let i=Y(110),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(110),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey3/R3.mp4"))}),q(113," R "),j()(),L(114,"span",26)(115,"video",27,18),ce(117,"source",47),j(),L(118,"div",29),de("mouseenter",function(){k(n);let i=Y(116),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(116),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey3/N3.mp4"))}),q(119," N "),j()(),L(120,"span",26)(121,"video",27,19),ce(123,"source",48),j(),L(124,"div",29),de("mouseenter",function(){k(n);let i=Y(122),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(122),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey3/E3.mp4"))}),q(125," E "),j()(),L(126,"span",26)(127,"video",27,20),ce(129,"source",49),j(),L(130,"div",29),de("mouseenter",function(){k(n);let i=Y(128),o=V();return P(o.playVideo(i))})("mouseleave",function(){k(n);let i=Y(128),o=V();return P(o.stopVideo(i))})("click",function(){k(n);let i=V();return P(i.videoModal("../../assets/video/journey3/Y3.mp4"))}),q(131," Y "),j()()(),tc()}if(t&2){let n=V();Ht(),Rt("ngIf",n.openModal)}}var Vf=class t{constructor(e,n){this.router=e;this.cdr=n}openModal=!1;isLoading=!0;currVid="";ngOnInit(){this.preloadVideos()}preloadVideos(){let n=["../../assets/video/journey1/J1.mp4","../../assets/video/journey1/O1.mp4","../../assets/video/journey1/U1.mp4","../../assets/video/journey1/R1.mp4","../../assets/video/journey1/N1.mp4","../../assets/video/journey1/E1.mp4","../../assets/video/journey1/Y1.mp4","../../assets/video/journey2/J2.mp4"].map(r=>new Promise((i,o)=>{let s=document.createElement("video");s.onloadeddata=()=>i(r),s.onerror=()=>o(r),s.src=r,s.load()}));Promise.all(n).then(()=>{console.log(n.length+" videos loaded successfully."),this.isLoading=!1,this.cdr.detectChanges(),console.log(this.isLoading)}).catch(r=>{console.error("Error loading videos:",r),this.isLoading=!1})}goHome(){this.router.navigate([""])}playVideo(e){e.play()}stopVideo(e){e.pause()}videoModal(e){this.openModal=!this.openModal,this.currVid=e}static \u0275fac=function(n){return new(n||t)(Qe(zt),Qe(Rr))};static \u0275cmp=Nt({type:t,selectors:[["app-journey"]],decls:7,vars:2,consts:[["videoJ1",""],["videoO1",""],["videoU1",""],["videoR1",""],["videoN1",""],["videoE1",""],["videoY1",""],["videoJ2",""],["videoO2",""],["videoU2",""],["videoR2",""],["videoN2",""],["videoE2",""],["videoY2",""],["videoJ3",""],["videoO3",""],["videoU3",""],["videoR3",""],["videoN3",""],["videoE3",""],["videoY3",""],[3,"click"],[4,"ngIf"],[1,"loading-container"],["class","video-modal",3,"click",4,"ngIf"],[1,"fa-solid","fa-x"],[1,"video-container"],["muted","","loop","","playsinline","","width","320","height","240"],["src","../../assets/video/journey1/J1.mp4","type","video/mp4"],[1,"video-text",3,"mouseenter","mouseleave","click"],["src","../../assets/video/journey1/O1.mp4","type","video/mp4"],["src","../../assets/video/journey1/U1.mp4","type","video/mp4"],["src","../../assets/video/journey1/R1.mp4","type","video/mp4"],["src","../../assets/video/journey1/N1.mp4","type","video/mp4"],["src","../../assets/video/journey1/E1.mp4","type","video/mp4"],["src","../../assets/video/journey1/Y1.mp4","type","video/mp4"],["src","../../assets/video/journey2/J2.mp4","type","video/mp4"],["src","../../assets/video/journey2/O2.mp4","type","video/mp4"],["src","../../assets/video/journey2/U2.mp4","type","video/mp4"],["src","../../assets/video/journey2/R2.mp4","type","video/mp4"],["src","../../assets/video/journey2/N2.mp4","type","video/mp4"],["src","../../assets/video/journey2/E2.mp4","type","video/mp4"],["src","../../assets/video/journey2/Y2.mp4","type","video/mp4"],["src","../../assets/video/journey3/J3.mp4","type","video/mp4"],["src","../../assets/video/journey3/O3.mp4","type","video/mp4"],["src","../../assets/video/journey3/U3.mp4","type","video/mp4"],["src","../../assets/video/journey3/R3.mp4","type","video/mp4"],["src","../../assets/video/journey3/N3.mp4","type","video/mp4"],["src","../../assets/video/journey3/E3.mp4","type","video/mp4"],["src","../../assets/video/journey3/Y3.mp4","type","video/mp4"],[1,"video-modal",3,"click"],["autoplay","","playsinline","","width","320","height","240"],["type","video/mp4",3,"src"]],template:function(n,r){n&1&&(L(0,"header")(1,"nav")(2,"p",21),de("click",function(){return r.goHome()}),q(3,"> return"),j()()(),L(4,"main"),Nr(5,jB,3,0,"ng-container",22)(6,UB,132,1,"ng-container",22),j()),n&2&&(Ht(5),Rt("ngIf",r.isLoading),Ht(),Rt("ngIf",!r.isLoading))},dependencies:[Or,sc],styles:["*[_ngcontent-%COMP%]{font-family:BBH Sans Bartle,sans-serif}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}p[_ngcontent-%COMP%]:hover{cursor:help}body[_ngcontent-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{height:80px}main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden}h1[_ngcontent-%COMP%]{color:#000;font-size:8rem;overflow:hidden;height:100%;display:flex;align-items:stretch}.video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);min-width:100%;min-height:100%;width:auto;height:auto;object-fit:cover;z-index:-1}.video-text[_ngcontent-%COMP%]{height:100%;width:100%;background:#fff;color:#000;display:flex;align-items:center;justify-content:center;mix-blend-mode:screen}.video-text[_ngcontent-%COMP%]:hover{cursor:pointer}.video-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.video-modal[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:scale(2)}"]})};var jf=class t{constructor(e){this.router=e}goHome(){this.router.navigate([""])}static \u0275fac=function(n){return new(n||t)(Qe(zt))};static \u0275cmp=Nt({type:t,selectors:[["app-work"]],decls:4,vars:0,consts:[[3,"click"]],template:function(n,r){n&1&&(Tn(0,"header")(1,"nav")(2,"p",0),Mi("click",function(){return r.goHome()}),q(3,"> return"),Sn()()())},styles:["*[_ngcontent-%COMP%]{font-family:BBH Sans Bartle,sans-serif}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}p[_ngcontent-%COMP%]:hover{cursor:help}"]})};var $B=new z("",{factory:()=>tA}),tA="always";var HB=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mr({type:t});static \u0275inj=Wn({})}return t})();var nA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$B,useValue:n.callSetDisabledState??tA}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mr({type:t});static \u0275inj=Wn({imports:[HB]})}return t})();var iA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Pv;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qB=function(t){let e=iA(t);return oA.encodeByteArray(e,!0)},Fv=function(t){return qB(t).replace(/\./g,"")},sA=function(t){try{return oA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GB=()=>WB().__FIREBASE_DEFAULTS__,KB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&sA(t[1]);return e&&JSON.parse(e)},YB=()=>{try{return GB()||KB()||QB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var Lv=()=>{var t;return(t=YB())===null||t===void 0?void 0:t.config};var Bf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function cA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var JB="FirebaseError",qi=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}},jc=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ZB(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new qi(i,c,r)}};function ZB(t,e){return t.replace(XB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var XB=/\{\$([^}]+)}/g;function Uf(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(rA(o)&&rA(s)){if(!Uf(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function rA(t){return t!==null&&typeof t=="object"}var pae=14400*1e3;var Gi=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wi="[DEFAULT]";var Vv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Bf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tU(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function eU(t){return t===Wi?void 0:t}function tU(t){return t.instantiationMode==="EAGER"}var $f=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Bv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function nU(t){let e=t.getComponent();return e?.type==="VERSION"}var Uv="@firebase/app",uA="0.11.1";var rr=new qt("@firebase/app"),rU="@firebase/app-compat",iU="@firebase/analytics-compat",oU="@firebase/analytics",sU="@firebase/app-check-compat",aU="@firebase/app-check",cU="@firebase/auth",uU="@firebase/auth-compat",lU="@firebase/database",dU="@firebase/data-connect",fU="@firebase/database-compat",hU="@firebase/functions",pU="@firebase/functions-compat",gU="@firebase/installations",mU="@firebase/installations-compat",yU="@firebase/messaging",vU="@firebase/messaging-compat",_U="@firebase/performance",EU="@firebase/performance-compat",IU="@firebase/remote-config",wU="@firebase/remote-config-compat",bU="@firebase/storage",DU="@firebase/storage-compat",CU="@firebase/firestore",TU="@firebase/vertexai",SU="@firebase/firestore-compat",AU="firebase",MU="11.3.1";var $v="[DEFAULT]",NU={[Uv]:"fire-core",[rU]:"fire-core-compat",[oU]:"fire-analytics",[iU]:"fire-analytics-compat",[aU]:"fire-app-check",[sU]:"fire-app-check-compat",[cU]:"fire-auth",[uU]:"fire-auth-compat",[lU]:"fire-rtdb",[dU]:"fire-data-connect",[fU]:"fire-rtdb-compat",[hU]:"fire-fn",[pU]:"fire-fn-compat",[gU]:"fire-iid",[mU]:"fire-iid-compat",[yU]:"fire-fcm",[vU]:"fire-fcm-compat",[_U]:"fire-perf",[EU]:"fire-perf-compat",[IU]:"fire-rc",[wU]:"fire-rc-compat",[bU]:"fire-gcs",[DU]:"fire-gcs-compat",[CU]:"fire-fst",[SU]:"fire-fst-compat",[TU]:"fire-vertex","fire-js":"fire-js",[AU]:"fire-js-all"};var Hf=new Map,RU=new Map,Hv=new Map;function lA(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){let e=t.name;if(Hv.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(let n of Hf.values())lA(n,t);for(let n of RU.values())lA(n,t);return!0}function Is(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t==null?!1:t.settings!==void 0}var xU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new jc("app","Firebase",xU);var zv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}};var $r=MU;function OU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$v,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(n||(n=Lv()),!n)throw Ur.create("no-options");let o=Hf.get(i);if(o){if(Uf(n,o.options)&&Uf(r,o.config))return o;throw Ur.create("duplicate-app",{appName:i})}let s=new $f(i);for(let u of Hv.values())s.addComponent(u);let c=new zv(n,r,s);return Hf.set(i,c),c}function Uc(t=$v){let e=Hf.get(t);if(!e&&t===$v&&Lv())return OU();if(!e)throw Ur.create("no-app",{appName:t});return e}function gn(t,e,n){var r;let i=(r=NU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(c.join(" "));return}mn(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var kU="firebase-heartbeat-database",PU=1,Bc="firebase-heartbeat-store",jv=null;function pA(){return jv||(jv=cf(kU,PU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),jv}async function FU(t){try{let n=(await pA()).transaction(Bc),r=await n.objectStore(Bc).get(gA(t));return await n.done,r}catch(e){if(e instanceof qi)rr.warn(e.message);else{let n=Ur.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}}async function dA(t,e){try{let r=(await pA()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,gA(t)),await r.done}catch(n){if(n instanceof qi)rr.warn(n.message);else{let r=Ur.create("idb-set",{originalErrorMessage:n?.message});rr.warn(r.message)}}}function gA(t){return`${t.name}!${t.options.appId}`}var LU=1024,VU=30,qv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>VU){let s=BU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=fA(),{heartbeatsToSend:r,unsentEntries:i}=jU(this._heartbeatsCache.heartbeats),o=Fv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rr.warn(n),""}}};function fA(){return new Date().toISOString().substring(0,10)}function jU(t,e=LU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?cA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await FU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return dA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return dA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function hA(t){return Fv(JSON.stringify({version:2,heartbeats:t})).length}function BU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function UU(t){mn(new Gi("platform-logger",e=>new Bv(e),"PRIVATE")),mn(new Gi("heartbeat",e=>new qv(e),"PRIVATE")),gn(Uv,uA,t),gn(Uv,uA,"esm2017"),gn("fire-js","")}UU("");var $U=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($U(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Gv;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};var ws=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function yA(){try{return typeof indexedDB=="object"}catch{return!1}}var zU="FirebaseError",Kv=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}},$c=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qU(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Kv(i,c,r)}};function qU(t,e){return t.replace(WU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var WU=/\{\$([^}]+)}/g;var Mae=14400*1e3;var Hc=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var GU=new Map,KU={activated:!1,tokenObservers:[]},QU={initialized:!1,enabled:!1};function yn(t){return GU.get(t)||Object.assign({},KU)}function IA(){return QU}var YU="https://content-firebaseappcheck.googleapis.com/v1";var JU="exchangeDebugToken",vA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Uae=1440*60*1e3;var Jv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ws,this.pending.promise.catch(n=>{}),await ZU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ws,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function ZU(t){return new Promise(e=>{setTimeout(e,t)})}var XU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Hr=new $c("appCheck","AppCheck",XU);function wA(t){if(!yn(t).activated)throw Hr.create("use-before-activation",{appName:t.name})}async function bA({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Hr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Hr.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw Hr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function DA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${YU}/projects/${n}/apps/${r}:${JU}?key=${i}`,body:{debug_token:e}}}var e$="firebase-app-check-database",t$=1,Zv="firebase-app-check-store";var zf=null;function n$(){return zf||(zf=new Promise((t,e)=>{try{let n=indexedDB.open(e$,t$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Hr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zv,{keyPath:"compositeKey"})}}}catch(n){e(Hr.create("storage-open",{originalErrorMessage:n?.message}))}}),zf)}function r$(t,e){return i$(o$(t),e)}async function i$(t,e){let r=(await n$()).transaction(Zv,"readwrite"),o=r.objectStore(Zv).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Hr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function o$(t){return`${t.options.appId}-${t.name}`}var zc=new qt("@firebase/app-check");function Qv(t,e){return yA()?r$(t,e).catch(n=>{zc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CA(){return IA().enabled}async function TA(){let t=IA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var s$={error:"UNKNOWN_ERROR"};function a$(t){return mA.encodeString(JSON.stringify(t),!1)}async function Xv(t,e=!1,n=!1){let r=t.app;wA(r);let i=yn(r),o=i.token,s;if(o&&!qc(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(qc(l)?o=l:await Qv(r,void 0))}if(!e&&o&&qc(o))return{token:o.token};let c=!1;if(CA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=bA(DA(r,await TA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=await i.exchangeTokenPromise;return await Qv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zc.warn(l.message):n&&zc.error(l),Yv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await yn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zc.warn(l.message):n&&zc.error(l),s=l}let u;return o?s?qc(o)?u={token:o.token,internalError:s}:u=Yv(s):(u={token:o.token},i.token=o,await Qv(r,o)):u=Yv(s),c&&d$(r,u),u}async function c$(t){let e=t.app;wA(e);let{provider:n}=yn(e);if(CA()){let r=await TA(),{token:i}=await bA(DA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function u$(t,e,n,r){let{app:i}=t,o=yn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),_A(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_A(t))}function SA(t,e){let n=yn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _A(t){let{app:e}=t,n=yn(e),r=n.tokenRefresher;r||(r=l$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function l$(t){let{app:e}=t;return new Jv(async()=>{let n=yn(e),r;if(n.token?r=await Xv(t,!0):r=await Xv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=yn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vA.RETRIAL_MIN_WAIT,vA.RETRIAL_MAX_WAIT)}function d$(t,e){let n=yn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qc(t){return t.expireTimeMillis-Date.now()>0}function Yv(t){return{token:a$(s$),error:t}}var e_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=yn(this.app);for(let n of e)SA(this.app,n.next);return Promise.resolve()}};function f$(t,e){return new e_(t,e)}function h$(t){return{getToken:e=>Xv(t,e),getLimitedUseToken:()=>c$(t),addTokenListener:e=>u$(t,"INTERNAL",e),removeTokenListener:e=>SA(t.app,e)}}var p$="@firebase/app-check",g$="0.10.1";var m$="app-check",EA="app-check-internal";function y$(){mn(new Hc(m$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return f$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(EA).initialize()})),mn(new Hc(EA,t=>{let e=t.getProvider("app-check").getImmediate();return h$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),gn(p$,g$)}y$();var v$="app-check";var bs=class{constructor(){return Es(v$)}};var _$=["localhost","0.0.0.0","127.0.0.1"],Xae=typeof window<"u"&&_$.includes(window.location.hostname);var AA=()=>{};var E$=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I$=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},w$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new n_;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},n_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};var i_=function(t){try{return w$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function b$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var D$=()=>b$().__FIREBASE_DEFAULTS__,C$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&i_(t[1]);return e&&JSON.parse(e)},RA=()=>{try{return AA()||D$()||C$()||T$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xA=t=>{var e,n;return(n=(e=RA())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var o_=t=>{var e;return(e=RA())===null||e===void 0?void 0:e[`_${t}`]};function Gc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OA(t){return(await fetch(t,{credentials:"include"})).ok}var Wc={};function S$(){let t={prod:[],emulator:[]};for(let e of Object.keys(Wc))Wc[e]?t.emulator.push(e):t.prod.push(e);return t}function A$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var MA=!1;function kA(t,e){if(typeof window>"u"||typeof document>"u"||!Gc(window.location.host)||Wc[t]===e||Wc[t]||MA)return;Wc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=S$().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{MA=!0,s()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=A$(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),X=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let oe=m.element;c(oe),h(R,N);let Ce=l();u(X,U),oe.append(X,S,R,Ce),document.body.appendChild(oe)}o?(S.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){let t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}var M$="FirebaseError",Ki=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M$,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qi.prototype.create)}},Qi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?N$(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Ki(i,c,r)}};function N$(t,e){return t.replace(R$,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var R$=/\{\$([^}]+)}/g;function BA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kc(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(NA(o)&&NA(s)){if(!Kc(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function NA(t){return t!==null&&typeof t=="object"}function Qc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function UA(t,e){let n=new r_(t,e);return n.subscribe.bind(n)}var r_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=t_),i.error===void 0&&(i.error=t_),i.complete===void 0&&(i.complete=t_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function x$(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function t_(){}var ice=14400*1e3;function Yi(t){return t&&t._delegate?t._delegate:t}var Yc=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function nM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rM=nM,iM=new Qi("auth","Firebase",nM());var Yf=new qt("@firebase/auth");function O$(t,...e){Yf.logLevel<=ie.WARN&&Yf.warn(`Auth (${$r}): ${t}`,...e)}function Wf(t,...e){Yf.logLevel<=ie.ERROR&&Yf.error(`Auth (${$r}): ${t}`,...e)}function Wr(t,...e){throw C_(t,...e)}function Zi(t,...e){return C_(t,...e)}function oM(t,e,n){let r=Object.assign(Object.assign({},rM()),{[e]:n});return new Qi("auth","Firebase",r).create(e,{appName:t.name})}function Ji(t){return oM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iM.create(t,...e)}function K(t,e,...n){if(!t)throw C_(e,...n)}function ir(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wf(e),new Error(e)}function Gr(t,e){t||ir(e)}function u_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k$(){return $A()==="http:"||$A()==="https:"}function $A(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function P$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k$()||LA()||"connection"in navigator)?navigator.onLine:!0}function F$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=PA()||VA()}get(){return P$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function T_(t,e){Gr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Jf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var L$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var V$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j$=new Xi(3e4,6e4);function S_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ds(t,e,n,r,i={}){return sM(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=Qc(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return FA()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Gc(t.emulatorConfig.host)&&(l.credentials="include"),Jf.fetch()(await aM(t,t.config.apiHost,n,c),l)})}async function sM(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},L$),e);try{let i=new l_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw qf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw qf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw oM(t,h,l);Wr(t,h)}}catch(i){if(i instanceof Ki)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function B$(t,e,n,r,i={}){let o=await Ds(t,e,n,r,i);return"mfaPendingCredential"in o&&Wr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function aM(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?T_(t.config,i):`${t.config.apiScheme}://${i}`;return V$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var l_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zi(this.auth,"network-request-failed")),j$.get())})}};function qf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zi(t,e,r);return i.customData._tokenResponse=n,i}async function U$(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function Zf(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}function Jc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A_(t,e=!1){let n=Yi(t),r=await n.getIdToken(e),i=M_(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Jc(s_(i.auth_time)),issuedAtTime:Jc(s_(i.iat)),expirationTime:Jc(s_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function s_(t){return Number(t)*1e3}function M_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{let i=i_(n);return i?JSON.parse(i):(Wf("Failed to decode base64 JWT payload"),null)}catch(i){return Wf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HA(t){let e=M_(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ki&&$$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var d_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var eu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Xf(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Xc(t,Zf(n,{idToken:r}));K(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cM(o.providerUserInfo):[],c=H$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new eu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function N_(t){let e=Yi(t);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cM(t){return t.map(e=>{var{providerId:n}=e,r=cv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function z$(t,e){let n=await sM(t,{},async()=>{let r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await aM(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Gc(t.emulatorConfig.host)&&(u.credentials="include"),Jf.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q$(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",S_(t,e))}var Zc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=HA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await z$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ir("not implemented")}};function zr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=cv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A_(this,e)}reload(){return N_(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(Ji(this.auth));let e=await this.getIdToken();return await Xc(this,U$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,X=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:oe,emailVerified:Ce,isAnonymous:vn,providerData:Le,stsTokenManager:b}=n;K(oe&&b,e,"internal-error");let y=Zc.fromJSON(this.name,b);K(typeof oe=="string",e,"internal-error"),zr(p,e.name),zr(m,e.name),K(typeof Ce=="boolean",e,"internal-error"),K(typeof vn=="boolean",e,"internal-error"),zr(v,e.name),zr(S,e.name),zr(N,e.name),zr(R,e.name),zr(U,e.name),zr(X,e.name);let E=new t({uid:oe,auth:e,email:m,emailVerified:Ce,displayName:p,isAnonymous:vn,photoURL:S,phoneNumber:v,tenantId:N,stsTokenManager:y,createdAt:U,lastLoginAt:X});return Le&&Array.isArray(Le)&&(E.providerData=Le.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new Zc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xf(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?cM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Zc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var zA=new Map;function or(t){Gr(t instanceof Function,"Expected a class definition");let e=zA.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zA.set(t,e),e)}var W$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),f_=W$;function Gf(t,e,n){return`firebase:${t}:${e}:${n}`}var eh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Gf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Zf(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(or(f_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||or(f_),s=Gf(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await Zf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await qr._fromGetAccountInfoResponse(e,m,h)}else p=qr._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function qA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pM(e))return"Blackberry";if(gM(e))return"Webos";if(lM(e))return"Safari";if((e.includes("chrome/")||dM(e))&&!e.includes("edge/"))return"Chrome";if(hM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function uM(t=ct()){return/firefox\//i.test(t)}function lM(t=ct()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dM(t=ct()){return/crios\//i.test(t)}function fM(t=ct()){return/iemobile/i.test(t)}function hM(t=ct()){return/android/i.test(t)}function pM(t=ct()){return/blackberry/i.test(t)}function gM(t=ct()){return/webos/i.test(t)}function R_(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G$(t=ct()){var e;return R_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K$(){return jA()&&document.documentMode===10}function mM(t=ct()){return R_(t)||hM(t)||gM(t)||pM(t)||/windows phone/i.test(t)||fM(t)}function yM(t,e=[]){let n;switch(t){case"Browser":n=qA(ct());break;case"Worker":n=`${qA(ct())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$r}/${r}`}var h_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function Q$(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",S_(t,e))}var Y$=6,p_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Y$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var g_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new th(this),this.idTokenSubscription=new th(this),this.beforeStateQueue=new h_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await eh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Zf(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(Ji(this));let n=e?Yi(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await Q$(this),n=new p_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&or(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await eh.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&O$(`Error while retrieving App Check token: ${n.error}`),n?.token}};function x_(t){return Yi(t)}var th=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=UA(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var O_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J$(t){O_=t}function Z$(t){return O_.loadJS(t)}function X$(){return O_.gapiScript}function vM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function k_(t,e){let n=Is(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Kc(o,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function eH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function P_(t,e,n){let r=x_(t);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=_M(e),{host:s,port:c}=tH(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(Kc(l,r.config.emulator)&&Kc(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gc(s)?(OA(`${o}//${s}${u}`),kA("Auth",!0)):i||nH()}function _M(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tH(t){let e=_M(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:WA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:WA(s)}}}function WA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function nH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var nh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};async function a_(t,e){return B$(t,"POST","/v1/accounts:signInWithIdp",S_(t,e))}var rh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var m_=class extends rh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var tu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await qr._fromIdTokenResponse(e,r,i),s=GA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=GA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function GA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var y_=class t extends Ki{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function EM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?y_._fromErrorAndOperation(t,o,e,r):o})}async function rH(t,e,n=!1){let r=await Xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tu._forOperation(t,"link",r)}async function iH(t,e,n=!1){let{auth:r}=t;if(Kt(r.app))return Promise.reject(Ji(r));let i="reauthenticate";try{let o=await Xc(t,EM(r,i,e,t),n);K(o.idToken,r,"internal-error");let s=M_(o.idToken);K(s,r,"internal-error");let{sub:c}=s;return K(t.uid===c,r,"user-mismatch"),tu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wr(r,"user-mismatch"),o}}async function oH(t,e,n=!1){if(Kt(t.app))return Promise.reject(Ji(t));let r="signIn",i=await EM(t,r,e),o=await tu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function F_(t,e,n,r){return Yi(t).onIdTokenChanged(e,n,r)}function L_(t,e,n){return Yi(t).beforeAuthStateChanged(e,n)}var ih="__sak";var oh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var sH=1e3,aH=10,cH=(()=>{class t extends oh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);K$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,aH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},sH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),IM=cH;var uH=(()=>{class t extends oh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),V_=uH;function lH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var dH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(async h=>h(r.origin,s)),l=await lH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function wM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var v_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=wM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function kn(){return window}function fH(t){kn().location.href=t}function bM(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function hH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gH(){return bM()?self:null}var DM="firebaseLocalStorageDb",mH=1,sh="firebaseLocalStorage",CM="fbase_key",eo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ch(t,e){return t.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function yH(){let t=indexedDB.deleteDatabase(DM);return new eo(t).toPromise()}function __(){let t=indexedDB.open(DM,mH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(sh,{keyPath:CM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await yH(),e(await __()))})})}async function KA(t,e,n){let r=ch(t,!0).put({[CM]:e,value:n});return new eo(r).toPromise()}async function vH(t,e){let n=ch(t,!1).get(e),r=await new eo(n).toPromise();return r===void 0?null:r.value}function QA(t,e){let n=ch(t,!0).delete(e);return new eo(n).toPromise()}var _H=800,EH=3,IH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await __(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>EH)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dH._getInstance(gH()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await hH(),!this.activeServiceWorker)return;this.sender=new v_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await __();return await KA(n,ih,"1"),await QA(n,ih),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>KA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>vH(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>QA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=ch(o,!1).getAll();return new eo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),TM=IH;var mce=vM("rcb"),yce=new Xi(3e4,6e4);function wH(t,e){return e?or(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var nu=class extends nh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return a_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return a_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return a_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function bH(t){return oH(t.auth,new nu(t),t.bypassAuthState)}function DH(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),iH(n,new nu(t),t.bypassAuthState)}async function CH(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),rH(n,new nu(t),t.bypassAuthState)}var E_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bH;case"linkViaPopup":case"linkViaRedirect":return CH;case"reauthViaPopup":case"reauthViaRedirect":return DH;default:Wr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vce=new Xi(2e3,1e4);var TH="pendingRedirect",Kf=new Map,I_=class extends E_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{let r=await SH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function SH(t,e){let n=NH(e),r=MH(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function AH(t,e){Kf.set(t._key(),e)}function MH(t){return or(t._redirectPersistence)}function NH(t){return Gf(TH,t.config.apiKey,t.name)}async function RH(t,e,n=!1){if(Kt(t.app))return Promise.reject(Ji(t));let r=x_(t),i=wH(r,e),s=await new I_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var xH=600*1e3,w_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xH&&this.cachedEventUids.clear(),this.cachedEventUids.has(YA(e))}saveEventToCache(e){this.cachedEventUids.add(YA(e)),this.lastProcessedEventTime=Date.now()}};function YA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function OH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SM(t);default:return!1}}async function kH(t,e={}){return Ds(t,"GET","/v1/projects",e)}var PH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FH=/^https?/;async function LH(t){if(t.config.emulator)return;let{authorizedDomains:e}=await kH(t);for(let n of e)try{if(VH(n))return}catch{}Wr(t,"unauthorized-domain")}function VH(t){let e=u_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!FH.test(n))return!1;if(PH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jH=new Xi(3e4,6e4);function JA(){let t=kn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BH(t){return new Promise((e,n)=>{var r,i,o;function s(){JA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JA(),n(Zi(t,"network-request-failed"))},timeout:jH.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=kn().gapi)===null||o===void 0)&&o.load)s();else{let c=vM("iframefcb");return kn()[c]=()=>{gapi.load?s():n(Zi(t,"network-request-failed"))},Z$(`${X$()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Qf=null,e})}var Qf=null;function UH(t){return Qf=Qf||BH(t),Qf}var $H=new Xi(5e3,15e3),HH="__/auth/iframe",zH="emulator/auth/iframe",qH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GH(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?T_(e,zH):`https://${t.config.authDomain}/${HH}`,r={apiKey:e.apiKey,appName:t.name,v:$r},i=WH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qc(r).slice(1)}`}async function KH(t){let e=await UH(t),n=kn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:GH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Zi(t,"network-request-failed"),c=kn().setTimeout(()=>{o(s)},$H.get());function u(){kn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var QH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YH=500,JH=600,ZH="_blank",XH="http://localhost",ah=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function e4(t,e,n,r=YH,i=JH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},QH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ct().toLowerCase();n&&(c=dM(l)?ZH:n),uM(l)&&(e=e||XH,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(G$(l)&&c!=="_self")return t4(e||"",c),new ah(null);let p=window.open(e||"",c,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new ah(p)}function t4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var n4="__/auth/handler",r4="emulator/auth/handler",i4=encodeURIComponent("fac");async function ZA(t,e,n,r,i,o){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$r,eventId:i};if(e instanceof rh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",BA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof m_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=await t._getAppCheckToken(),l=u?`#${i4}=${encodeURIComponent(u)}`:"";return`${o4(t)}?${Qc(c).slice(1)}${l}`}function o4({config:t}){return t.emulator?T_(t,r4):`https://${t.authDomain}/${n4}`}var c_="webStorageSupport",b_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V_,this._completeRedirectFn=RH,this._overrideRedirectResult=AH}async _openPopup(e,n,r,i){var o;Gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await ZA(e,n,r,u_(),i);return e4(e,s,wM())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await ZA(e,n,r,u_(),i);return fH(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await KH(e),r=new w_(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(c_,{type:c_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[c_];s!==void 0&&n(!!s),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mM()||lM()||R_()}},AM=b_;var XA="@firebase/auth",eM="1.10.8";var D_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function s4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a4(t){mn(new Yc("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yM(t)},l=new g_(r,i,o,u);return eH(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new Yc("auth-internal",e=>{let n=x_(e.getProvider("auth").getImmediate());return(r=>new D_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(XA,eM,s4(t)),gn(XA,eM,"esm2017")}var c4=300,u4=o_("authIdTokenMaxAge")||c4,tM=null,l4=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u4)return;let i=n?.token;tM!==i&&(tM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j_(t=Uc()){let e=Is(t,"auth");if(e.isInitialized())return e.getImmediate();let n=k_(t,{popupRedirectResolver:AM,persistence:[TM,IM,V_]}),r=o_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=l4(o.toString());L_(n,s,()=>s(n.currentUser)),F_(n,c=>s(c))}}let i=xA("auth");return i&&P_(n,`http://${i}`),n}function d4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}J$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Zi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",d4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a4("Browser");var MM="auth",ru=class{constructor(e){return e}},iu=class{constructor(){return Es(MM)}};var B_=new at("angularfire2.auth-instances");function i3(t,e){let n=Vc(MM,t,e);return n&&new ru(n)}function o3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ru(r)}}var s3={provide:iu,deps:[[new Gt,B_]]},a3={provide:ru,useFactory:i3,deps:[[new Gt,B_],nr]};function NM(t,...e){return bt("angularfire",jr.full,"auth"),vs([a3,s3,{provide:B_,useFactory:o3(t),multi:!0,deps:[Wt,On,Br,zi,[new Gt,bs],...e]}])}var RM=tr(j_,!0);var xM=()=>{};var FM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c3=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},LM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new U_;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},U_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},u3=function(t){let e=FM(t);return LM.encodeByteArray(e,!0)},OM=function(t){return u3(t).replace(/\./g,"")},l3=function(t){try{return LM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var d3=()=>VM().__FIREBASE_DEFAULTS__,f3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&l3(t[1]);return e&&JSON.parse(e)},jM=()=>{try{return xM()||d3()||f3()||h3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p3=t=>{var e,n;return(n=(e=jM())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BM=t=>{let e=p3(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]};function uh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UM(t){return(await fetch(t,{credentials:"include"})).ok}function $M(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[OM(JSON.stringify(n)),OM(JSON.stringify(s)),""].join(".")}var ou={};function g3(){let t={prod:[],emulator:[]};for(let e of Object.keys(ou))ou[e]?t.emulator.push(e):t.prod.push(e);return t}function m3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var kM=!1;function HM(t,e){if(typeof window>"u"||typeof document>"u"||!uh(window.location.host)||ou[t]===e||ou[t]||kM)return;ou[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=g3().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{kM=!0,s()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=m3(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),X=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let oe=m.element;c(oe),h(R,N);let Ce=l();u(X,U),oe.append(X,S,R,Ce),document.body.appendChild(oe)}o?(S.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function zM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y3(){var t;let e=(t=jM())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qM(){return!y3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var v3="FirebaseError",su=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v3,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$_.prototype.create)}},$_=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_3(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new su(i,c,r)}};function _3(t,e){return t.replace(E3,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var E3=/\{\$([^}]+)}/g;function H_(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(PM(o)&&PM(s)){if(!H_(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function PM(t){return t!==null&&typeof t=="object"}var lue=14400*1e3;function Cs(t){return t&&t._delegate?t._delegate:t}var lh=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var WM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GM={};var dh,KM;(function(){var t;function e(b,y){function E(){}E.prototype=y.prototype,b.D=y.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(I,w,C){for(var _=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)_[jn-2]=arguments[jn];return y.prototype[w].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var w=0;16>w;++w)I[w]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(w=0;16>w;++w)I[w]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=b.g[0],E=b.g[1],w=b.g[2];var C=b.g[3],_=y+(C^E&(w^C))+I[0]+3614090360&4294967295;y=E+(_<<7&4294967295|_>>>25),_=C+(w^y&(E^w))+I[1]+3905402710&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(E^C&(y^E))+I[2]+606105819&4294967295,w=C+(_<<17&4294967295|_>>>15),_=E+(y^w&(C^y))+I[3]+3250441966&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(C^E&(w^C))+I[4]+4118548399&4294967295,y=E+(_<<7&4294967295|_>>>25),_=C+(w^y&(E^w))+I[5]+1200080426&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(E^C&(y^E))+I[6]+2821735955&4294967295,w=C+(_<<17&4294967295|_>>>15),_=E+(y^w&(C^y))+I[7]+4249261313&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(C^E&(w^C))+I[8]+1770035416&4294967295,y=E+(_<<7&4294967295|_>>>25),_=C+(w^y&(E^w))+I[9]+2336552879&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(E^C&(y^E))+I[10]+4294925233&4294967295,w=C+(_<<17&4294967295|_>>>15),_=E+(y^w&(C^y))+I[11]+2304563134&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(C^E&(w^C))+I[12]+1804603682&4294967295,y=E+(_<<7&4294967295|_>>>25),_=C+(w^y&(E^w))+I[13]+4254626195&4294967295,C=y+(_<<12&4294967295|_>>>20),_=w+(E^C&(y^E))+I[14]+2792965006&4294967295,w=C+(_<<17&4294967295|_>>>15),_=E+(y^w&(C^y))+I[15]+1236535329&4294967295,E=w+(_<<22&4294967295|_>>>10),_=y+(w^C&(E^w))+I[1]+4129170786&4294967295,y=E+(_<<5&4294967295|_>>>27),_=C+(E^w&(y^E))+I[6]+3225465664&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(C^y))+I[11]+643717713&4294967295,w=C+(_<<14&4294967295|_>>>18),_=E+(C^y&(w^C))+I[0]+3921069994&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^C&(E^w))+I[5]+3593408605&4294967295,y=E+(_<<5&4294967295|_>>>27),_=C+(E^w&(y^E))+I[10]+38016083&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(C^y))+I[15]+3634488961&4294967295,w=C+(_<<14&4294967295|_>>>18),_=E+(C^y&(w^C))+I[4]+3889429448&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^C&(E^w))+I[9]+568446438&4294967295,y=E+(_<<5&4294967295|_>>>27),_=C+(E^w&(y^E))+I[14]+3275163606&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(C^y))+I[3]+4107603335&4294967295,w=C+(_<<14&4294967295|_>>>18),_=E+(C^y&(w^C))+I[8]+1163531501&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(w^C&(E^w))+I[13]+2850285829&4294967295,y=E+(_<<5&4294967295|_>>>27),_=C+(E^w&(y^E))+I[2]+4243563512&4294967295,C=y+(_<<9&4294967295|_>>>23),_=w+(y^E&(C^y))+I[7]+1735328473&4294967295,w=C+(_<<14&4294967295|_>>>18),_=E+(C^y&(w^C))+I[12]+2368359562&4294967295,E=w+(_<<20&4294967295|_>>>12),_=y+(E^w^C)+I[5]+4294588738&4294967295,y=E+(_<<4&4294967295|_>>>28),_=C+(y^E^w)+I[8]+2272392833&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^E)+I[11]+1839030562&4294967295,w=C+(_<<16&4294967295|_>>>16),_=E+(w^C^y)+I[14]+4259657740&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^C)+I[1]+2763975236&4294967295,y=E+(_<<4&4294967295|_>>>28),_=C+(y^E^w)+I[4]+1272893353&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^E)+I[7]+4139469664&4294967295,w=C+(_<<16&4294967295|_>>>16),_=E+(w^C^y)+I[10]+3200236656&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^C)+I[13]+681279174&4294967295,y=E+(_<<4&4294967295|_>>>28),_=C+(y^E^w)+I[0]+3936430074&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^E)+I[3]+3572445317&4294967295,w=C+(_<<16&4294967295|_>>>16),_=E+(w^C^y)+I[6]+76029189&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(E^w^C)+I[9]+3654602809&4294967295,y=E+(_<<4&4294967295|_>>>28),_=C+(y^E^w)+I[12]+3873151461&4294967295,C=y+(_<<11&4294967295|_>>>21),_=w+(C^y^E)+I[15]+530742520&4294967295,w=C+(_<<16&4294967295|_>>>16),_=E+(w^C^y)+I[2]+3299628645&4294967295,E=w+(_<<23&4294967295|_>>>9),_=y+(w^(E|~C))+I[0]+4096336452&4294967295,y=E+(_<<6&4294967295|_>>>26),_=C+(E^(y|~w))+I[7]+1126891415&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~E))+I[14]+2878612391&4294967295,w=C+(_<<15&4294967295|_>>>17),_=E+(C^(w|~y))+I[5]+4237533241&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~C))+I[12]+1700485571&4294967295,y=E+(_<<6&4294967295|_>>>26),_=C+(E^(y|~w))+I[3]+2399980690&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~E))+I[10]+4293915773&4294967295,w=C+(_<<15&4294967295|_>>>17),_=E+(C^(w|~y))+I[1]+2240044497&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~C))+I[8]+1873313359&4294967295,y=E+(_<<6&4294967295|_>>>26),_=C+(E^(y|~w))+I[15]+4264355552&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~E))+I[6]+2734768916&4294967295,w=C+(_<<15&4294967295|_>>>17),_=E+(C^(w|~y))+I[13]+1309151649&4294967295,E=w+(_<<21&4294967295|_>>>11),_=y+(w^(E|~C))+I[4]+4149444226&4294967295,y=E+(_<<6&4294967295|_>>>26),_=C+(E^(y|~w))+I[11]+3174756917&4294967295,C=y+(_<<10&4294967295|_>>>22),_=w+(y^(C|~E))+I[2]+718787259&4294967295,w=C+(_<<15&4294967295|_>>>17),_=E+(C^(w|~y))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,b.g[2]=b.g[2]+w&4294967295,b.g[3]=b.g[3]+C&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var E=y-this.blockSize,I=this.B,w=this.h,C=0;C<y;){if(w==0)for(;C<=E;)i(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<y;)if(I[w++]=b.charCodeAt(C++),w==this.blockSize){i(this,I),w=0;break}}else for(;C<y;)if(I[w++]=b[C++],w==this.blockSize){i(this,I),w=0;break}}this.h=w,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var E=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=E&255,E/=256;for(this.u(b),b=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)b[E++]=this.g[y]>>>I&255;return b};function o(b,y){var E=c;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=y(b)}function s(b,y){this.h=y;for(var E=[],I=!0,w=b.length-1;0<=w;w--){var C=b[w]|0;I&&C==y||(E[w]=C,I=!1)}this.g=E}var c={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var y=[],E=1,I=0;b>=E;I++)y[I]=b/E|0,E*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return R(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),I=p,w=0;w<b.length;w+=8){var C=Math.min(8,b.length-w),_=parseInt(b.substring(w,w+C),y);8>C?(C=l(Math.pow(y,C)),I=I.j(C).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var b=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);b+=(0<=I?I:4294967296+I)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(N(this))return"-"+R(this).toString(b);for(var y=l(Math.pow(b,6)),E=this,I="";;){var w=Ce(E,y).g;E=U(E,w.j(y));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=w,S(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=U(this,b),N(b)?-1:S(b)?0:1};function R(b){for(var y=b.g.length,E=[],I=0;I<y;I++)E[I]=~b.g[I];return new s(E,~b.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0,w=0;w<=y;w++){var C=I+(this.i(w)&65535)+(b.i(w)&65535),_=(C>>>16)+(this.i(w)>>>16)+(b.i(w)>>>16);I=_>>>16,C&=65535,_&=65535,E[w]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(b,y){return b.add(R(y))}t.j=function(b){if(S(this)||S(b))return p;if(N(this))return N(b)?R(this).j(R(b)):R(R(this).j(b));if(N(b))return R(this.j(R(b)));if(0>this.l(v)&&0>b.l(v))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var w=0;w<b.g.length;w++){var C=this.i(I)>>>16,_=this.i(I)&65535,jn=b.i(w)>>>16,Qs=b.i(w)&65535;E[2*I+2*w]+=_*Qs,X(E,2*I+2*w),E[2*I+2*w+1]+=C*Qs,X(E,2*I+2*w+1),E[2*I+2*w+1]+=_*jn,X(E,2*I+2*w+1),E[2*I+2*w+2]+=C*jn,X(E,2*I+2*w+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function X(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function oe(b,y){this.g=b,this.h=y}function Ce(b,y){if(S(y))throw Error("division by zero");if(S(b))return new oe(p,p);if(N(b))return y=Ce(R(b),y),new oe(R(y.g),R(y.h));if(N(y))return y=Ce(b,R(y)),new oe(R(y.g),y.h);if(30<b.g.length){if(N(b)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=y;0>=I.l(b);)E=vn(E),I=vn(I);var w=Le(E,1),C=Le(I,1);for(I=Le(I,2),E=Le(E,2);!S(I);){var _=C.add(I);0>=_.l(b)&&(w=w.add(E),C=_),I=Le(I,1),E=Le(E,1)}return y=U(b,w.j(y)),new oe(w,y)}for(w=p;0<=b.l(y);){for(E=Math.max(1,Math.floor(b.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),_=C.j(y);N(_)||0<_.l(b);)E-=I,C=l(E),_=C.j(y);S(C)&&(C=m),w=w.add(C),b=U(b,_)}return new oe(w,b)}t.A=function(b){return Ce(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&b.i(I);return new s(E,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|b.i(I);return new s(E,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^b.i(I);return new s(E,this.h^b.h)};function vn(b){for(var y=b.g.length+1,E=[],I=0;I<y;I++)E[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(E,b.h)}function Le(b,y){var E=y>>5;y%=32;for(var I=b.g.length-E,w=[],C=0;C<I;C++)w[C]=0<y?b.i(C+E)>>>y|b.i(C+E+1)<<32-y:b.i(C+E);return new s(w,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KM=GM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,dh=GM.Integer=s}).apply(typeof WM<"u"?WM:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={};var z_,I3,Ts,q_,au,hh,W_,G_,K_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in f))break e;f=f[D]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,D={next:function(){if(!g&&f<a.length){var T=f++;return{value:d(T,a[T]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,D,T){for(var x=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)x[_e-2]=arguments[_e];return d.prototype[D].apply(g,x)}}function N(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=a.length||0,T=g.length||0;a.length=D+T;for(let x=0;x<T;x++)a[D+x]=g[x]}else a.push(g)}}class U{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(a){return/^[\s\xa0]*$/.test(a)}function oe(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ce(a){return Ce[" "](a),a}Ce[" "]=function(){};var vn=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Le(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function b(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function y(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)a[f]=g[f];for(let T=0;T<E.length;T++)f=E[T],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function w(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Kh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class jn{constructor(){this.h=this.g=null}add(d,f){let g=Qs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Qs=new U(()=>new tx,a=>a.reset());class tx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ys,Js=!1,Kh=new jn,LI=()=>{let a=c.Promise.resolve(void 0);Ys=()=>{a.then(nx)}};var nx=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){C(f)}var d=Qs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Js=!1};function dr(){this.s=this.s,this.C=this.C}dr.prototype.s=!1,dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var rx=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a})();function Zs(a,d){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(vn){e:{try{Ce(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ix[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zs.aa.h.call(this)}}S(Zs,Ye);var ix={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),ox=0;function sx(a,d,f,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++ox,this.da=this.fa=!1}function Su(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Au(a){this.src=a,this.g={},this.h=0}Au.prototype.add=function(a,d,f,g,D){var T=a.toString();a=this.g[T],a||(a=this.g[T]=[],this.h++);var x=Yh(a,d,g,D);return-1<x?(d=a[x],f||(d.fa=!1)):(d=new sx(d,this.src,T,!!g,D),d.fa=f,a.push(d)),d};function Qh(a,d){var f=d.type;if(f in a.g){var g=a.g[f],D=Array.prototype.indexOf.call(g,d,void 0),T;(T=0<=D)&&Array.prototype.splice.call(g,D,1),T&&(Su(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Yh(a,d,f,g){for(var D=0;D<a.length;++D){var T=a[D];if(!T.da&&T.listener==d&&T.capture==!!f&&T.ha==g)return D}return-1}var Jh="closure_lm_"+(1e6*Math.random()|0),Zh={};function VI(a,d,f,g,D){if(g&&g.once)return BI(a,d,f,g,D);if(Array.isArray(d)){for(var T=0;T<d.length;T++)VI(a,d[T],f,g,D);return null}return f=np(f),a&&a[Xs]?a.K(d,f,l(g)?!!g.capture:!!g,D):jI(a,d,f,!1,g,D)}function jI(a,d,f,g,D,T){if(!d)throw Error("Invalid event type");var x=l(D)?!!D.capture:!!D,_e=ep(a);if(_e||(a[Jh]=_e=new Au(a)),f=_e.add(d,f,g,x,T),f.proxy)return f;if(g=ax(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)rx||(D=x),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent($I(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ax(){function a(f){return d.call(a.src,a.listener,f)}let d=cx;return a}function BI(a,d,f,g,D){if(Array.isArray(d)){for(var T=0;T<d.length;T++)BI(a,d[T],f,g,D);return null}return f=np(f),a&&a[Xs]?a.L(d,f,l(g)?!!g.capture:!!g,D):jI(a,d,f,!0,g,D)}function UI(a,d,f,g,D){if(Array.isArray(d))for(var T=0;T<d.length;T++)UI(a,d[T],f,g,D);else g=l(g)?!!g.capture:!!g,f=np(f),a&&a[Xs]?(a=a.i,d=String(d).toString(),d in a.g&&(T=a.g[d],f=Yh(T,f,g,D),-1<f&&(Su(T[f]),Array.prototype.splice.call(T,f,1),T.length==0&&(delete a.g[d],a.h--)))):a&&(a=ep(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Yh(d,f,g,D)),(f=-1<a?d[a]:null)&&Xh(f))}function Xh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Xs])Qh(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent($I(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ep(d))?(Qh(f,a),f.h==0&&(f.src=null,d[Jh]=null)):Su(a)}}}function $I(a){return a in Zh?Zh[a]:Zh[a]="on"+a}function cx(a,d){if(a.da)a=!0;else{d=new Zs(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Xh(a),a=f.call(g,d)}return a}function ep(a){return a=a[Jh],a instanceof Au?a:null}var tp="__closure_events_fn_"+(1e9*Math.random()>>>0);function np(a){return typeof a=="function"?a:(a[tp]||(a[tp]=function(d){return a.handleEvent(d)}),a[tp])}function Je(){dr.call(this),this.i=new Au(this),this.M=this,this.F=null}S(Je,dr),Je.prototype[Xs]=!0,Je.prototype.removeEventListener=function(a,d,f,g){UI(this,a,d,f,g)};function ft(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ye(d,a);else if(d instanceof Ye)d.target=d.target||a;else{var D=d;d=new Ye(g,a),I(d,D)}if(D=!0,f)for(var T=f.length-1;0<=T;T--){var x=d.g=f[T];D=Mu(x,g,!0,d)&&D}if(x=d.g=a,D=Mu(x,g,!0,d)&&D,D=Mu(x,g,!1,d)&&D,f)for(T=0;T<f.length;T++)x=d.g=f[T],D=Mu(x,g,!1,d)&&D}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Su(f[g]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},Je.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function Mu(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,T=0;T<d.length;++T){var x=d[T];if(x&&!x.da&&x.capture==f){var _e=x.listener,We=x.ha||x.src;x.fa&&Qh(a.i,x),D=_e.call(We,g)!==!1&&D}}return D&&!g.defaultPrevented}function HI(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function zI(a){a.g=HI(()=>{a.g=null,a.i&&(a.i=!1,zI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class ux extends dr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(a){dr.call(this),this.h=a,this.g={}}S(ea,dr);var qI=[];function WI(a){Le(a.g,function(d,f){this.g.hasOwnProperty(f)&&Xh(d)},a),a.g={}}ea.prototype.N=function(){ea.aa.N.call(this),WI(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rp=c.JSON.stringify,lx=c.JSON.parse,dx=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ip(){}ip.prototype.h=null;function GI(a){return a.h||(a.h=a.i())}function KI(){}var ta={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function op(){Ye.call(this,"d")}S(op,Ye);function sp(){Ye.call(this,"c")}S(sp,Ye);var Xr={},QI=null;function Nu(){return QI=QI||new Je}Xr.La="serverreachability";function YI(a){Ye.call(this,Xr.La,a)}S(YI,Ye);function na(a){let d=Nu();ft(d,new YI(d))}Xr.STAT_EVENT="statevent";function JI(a,d){Ye.call(this,Xr.STAT_EVENT,a),this.stat=d}S(JI,Ye);function ht(a){let d=Nu();ft(d,new JI(d,a))}Xr.Ma="timingevent";function ZI(a,d){Ye.call(this,Xr.Ma,a),this.size=d}S(ZI,Ye);function ra(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function fx(a,d,f,g,D,T){a.info(function(){if(a.g)if(T)for(var x="",_e=T.split("&"),We=0;We<_e.length;We++){var he=_e[We].split("=");if(1<he.length){var Ze=he[0];he=he[1];var Xe=Ze.split("_");x=2<=Xe.length&&Xe[1]=="type"?x+(Ze+"="+he+"&"):x+(Ze+"=redacted&")}}else x=null;else x=T;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+x})}function hx(a,d,f,g,D,T,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+T+" "+x})}function yo(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+gx(a,f)+(g?" "+g:"")})}function px(a,d){a.info(function(){return"TIMEOUT: "+d})}ia.prototype.info=function(){};function gx(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var T=D[0];if(T!="noop"&&T!="stop"&&T!="close")for(var x=1;x<D.length;x++)D[x]=""}}}}return rp(f)}catch{return d}}var Ru={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},XI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ap;function xu(){}S(xu,ip),xu.prototype.g=function(){return new XMLHttpRequest},xu.prototype.i=function(){return{}},ap=new xu;function fr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ew}function ew(){this.i=null,this.g="",this.h=!1}var tw={},cp={};function up(a,d,f){a.L=1,a.v=Fu(Bn(d)),a.m=f,a.P=!0,nw(a,null)}function nw(a,d){a.F=Date.now(),Ou(a),a.A=Bn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),mw(f.i,"t",g),a.C=0,f=a.j.J,a.h=new ew,a.g=kw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new ux(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(qI[0]=D.toString()),D=qI);for(var T=0;T<D.length;T++){var x=VI(f,D[T],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),na(),fx(a.i,a.u,a.A,a.l,a.R,a.m)}fr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Un(a)==3?d.j():this.Y(a)},fr.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=Un(this.g);var d=this.g.Ba();let Eo=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||bw(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=Eo?na(3):na(2)),lp(this);var f=this.g.Z();this.X=f;t:if(rw(this)){var g=bw(this.g);a="";var D=g.length,T=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),oa(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(T&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,hx(this.i,this.u,this.A,this.l,this.R,Xe,f),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,We=this.g;if((_e=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(_e)){var he=_e;break t}}he=null}if(f=he)yo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dp(this,f);else{this.o=!1,this.s=3,ht(12),ei(this),oa(this);break e}}if(this.P){f=!0;let Yt;for(;!this.J&&this.C<x.length;)if(Yt=mx(this,x),Yt==cp){Xe==4&&(this.s=4,ht(14),f=!1),yo(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==tw){this.s=4,ht(15),yo(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else yo(this.i,this.l,Yt,null),dp(this,Yt);if(rw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||x.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)yo(this.i,this.l,x,"[Invalid Chunked Response]"),ei(this),oa(this);else if(0<x.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),yp(Ze),Ze.M=!0,ht(11))}}else yo(this.i,this.l,x,null),dp(this,x);Xe==4&&ei(this),this.o&&!this.J&&(Xe==4?Nw(this.j,this):(this.o=!1,Ou(this)))}else Ox(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),ei(this),oa(this)}}}catch{}finally{}};function rw(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function mx(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?cp:(f=Number(d.substring(f,g)),isNaN(f)?tw:(g+=1,g+f>d.length?cp:(d=d.slice(g,g+f),a.C=g+f,d)))}fr.prototype.cancel=function(){this.J=!0,ei(this)};function Ou(a){a.S=Date.now()+a.I,iw(a,a.I)}function iw(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ra(m(a.ba,a),d)}function lp(a){a.B&&(c.clearTimeout(a.B),a.B=null)}fr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(px(this.i,this.A),this.L!=2&&(na(),ht(17)),ei(this),this.s=2,oa(this)):iw(this,this.S-a)};function oa(a){a.j.G==0||a.J||Nw(a.j,a)}function ei(a){lp(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,WI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function dp(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||fp(f.h,a))){if(!a.K&&fp(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Uu(f),ju(f);else break e;mp(f),ht(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=ra(m(f.Za,f),6e3));if(1>=aw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ni(f,11)}else if((a.K||f.g==a)&&Uu(f),!X(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let he=D[d];if(f.T=he[0],he=he[1],f.G==2)if(he[0]=="c"){f.K=he[1],f.ia=he[2];let Ze=he[3];Ze!=null&&(f.la=Ze,f.j.info("VER="+f.la));let Xe=he[4];Xe!=null&&(f.Aa=Xe,f.j.info("SVER="+f.Aa));let Eo=he[5];Eo!=null&&typeof Eo=="number"&&0<Eo&&(g=1.5*Eo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Yt=a.g;if(Yt){let Hu=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hu){var T=g.h;T.g||Hu.indexOf("spdy")==-1&&Hu.indexOf("quic")==-1&&Hu.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(hp(T,T.h),T.h=null))}if(g.D){let vp=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;vp&&(g.ya=vp,we(g.I,g.D,vp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=a;if(g.qa=Ow(g,g.J?g.ia:null,g.W),x.K){cw(g.h,x);var _e=x,We=g.L;We&&(_e.I=We),_e.B&&(lp(_e),Ou(_e)),g.g=x}else Aw(g);0<f.i.length&&Bu(f)}else he[0]!="stop"&&he[0]!="close"||ni(f,7);else f.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?ni(f,7):gp(f):he[0]!="noop"&&f.l&&f.l.ta(he),f.v=0)}}na(4)}catch{}}var yx=class{constructor(a,d){this.g=a,this.map=d}};function ow(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sw(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function aw(a){return a.h?1:a.g?a.g.size:0}function fp(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function hp(a,d){a.g?a.g.add(d):a.h=d}function cw(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ow.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function uw(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return N(a.i)}function vx(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function _x(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function lw(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=_x(a),g=vx(a),D=g.length,T=0;T<D;T++)d.call(void 0,g[T],f&&f[T],a)}var dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ex(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),D=null;if(0<=g){var T=a[f].substring(0,g);D=a[f].substring(g+1)}else T=a[f];d(T,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ti(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ti){this.h=a.h,ku(this,a.j),this.o=a.o,this.g=a.g,Pu(this,a.s),this.l=a.l;var d=a.i,f=new ca;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),fw(this,f),this.m=a.m}else a&&(d=String(a).match(dw))?(this.h=!1,ku(this,d[1]||"",!0),this.o=sa(d[2]||""),this.g=sa(d[3]||"",!0),Pu(this,d[4]),this.l=sa(d[5]||"",!0),fw(this,d[6]||"",!0),this.m=sa(d[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}ti.prototype.toString=function(){var a=[],d=this.j;d&&a.push(aa(d,hw,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(aa(d,hw,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(aa(f,f.charAt(0)=="/"?bx:wx,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",aa(f,Cx)),a.join("")};function Bn(a){return new ti(a)}function ku(a,d,f){a.j=f?sa(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Pu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function fw(a,d,f){d instanceof ca?(a.i=d,Tx(a.i,a.h)):(f||(d=aa(d,Dx)),a.i=new ca(d,a.h))}function we(a,d,f){a.i.set(d,f)}function Fu(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function sa(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function aa(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,Ix),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ix(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var hw=/[#\/\?@]/g,wx=/[#\?:]/g,bx=/[#\?]/g,Dx=/[#\?@]/g,Cx=/#/g;function ca(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function hr(a){a.g||(a.g=new Map,a.h=0,a.i&&Ex(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ca.prototype,t.add=function(a,d){hr(this),this.i=null,a=vo(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function pw(a,d){hr(a),d=vo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function gw(a,d){return hr(a),d=vo(a,d),a.g.has(d)}t.forEach=function(a,d){hr(this),this.g.forEach(function(f,g){f.forEach(function(D){a.call(d,D,g,this)},this)},this)},t.na=function(){hr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=a[g];for(let T=0;T<D.length;T++)f.push(d[g])}return f},t.V=function(a){hr(this);let d=[];if(typeof a=="string")gw(this,a)&&(d=d.concat(this.g.get(vo(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return hr(this),this.i=null,a=vo(this,a),gw(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function mw(a,d,f){pw(a,d),0<f.length&&(a.i=null,a.g.set(vo(a,d),N(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let T=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var D=T;x[g]!==""&&(D+="="+encodeURIComponent(String(x[g]))),a.push(D)}}return this.i=a.join("&")};function vo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Tx(a,d){d&&!a.j&&(hr(a),a.i=null,a.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(pw(this,g),mw(this,D,f))},a)),a.j=d}function Sx(a,d){let f=new ia;if(c.Image){let g=new Image;g.onload=v(pr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(pr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(pr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(pr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function Ax(a,d){let f=new ia,g=new AbortController,D=setTimeout(()=>{g.abort(),pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(T=>{clearTimeout(D),T.ok?pr(f,"TestPingServer: ok",!0,d):pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),pr(f,"TestPingServer: error",!1,d)})}function pr(a,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function Mx(){this.g=new dx}function Nx(a,d,f){let g=f||"";try{lw(a,function(D,T){let x=D;l(D)&&(x=rp(D)),d.push(g+T+"="+encodeURIComponent(x))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ua(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ua,ip),ua.prototype.g=function(){return new Lu(this.l,this.j)},ua.prototype.i=(function(a){return function(){return a}})({});function Lu(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Lu,Je),t=Lu.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,da(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yw(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function yw(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?la(this):da(this),this.readyState==3&&yw(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,la(this))},t.Qa=function(a){this.g&&(this.response=a,la(this))},t.ga=function(){this.g&&la(this)};function la(a){a.readyState=4,a.l=null,a.j=null,a.v=null,da(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function da(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function vw(a){let d="";return Le(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function pp(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=vw(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):we(a,d,f))}function Te(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Te,Je);var Rx=/^https?$/i,xx=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ap.g(),this.v=this.o?GI(this.o):GI(ap),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(T){_w(this,T);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let T of g.keys())f.set(T,g.get(T));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(T=>T.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xx,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,x]of f)this.g.setRequestHeader(T,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ww(this),this.u=!0,this.g.send(a),this.u=!1}catch(T){_w(this,T)}};function _w(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Ew(a),Vu(a)}function Ew(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ft(this,"complete"),ft(this,"abort"),Vu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Iw(this):this.bb())},t.bb=function(){Iw(this)};function Iw(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Un(a)!=4||a.Z()!=2)){if(a.u&&Un(a)==4)HI(a.Ea,0,a);else if(ft(a,"readystatechange"),Un(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var D=String(a.D).match(dw)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!Rx.test(D?D.toLowerCase():"")}f=g}if(f)ft(a,"complete"),ft(a,"success");else{a.m=6;try{var T=2<Un(a)?a.g.statusText:""}catch{T=""}a.l=T+" ["+a.Z()+"]",Ew(a)}}finally{Vu(a)}}}}function Vu(a,d){if(a.g){ww(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ft(a,"ready");try{f.onreadystatechange=g}catch{}}}function ww(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Un(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),lx(d)}};function bw(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Ox(a){let d={};a=(a.g&&2<=Un(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(X(a[g]))continue;var f=w(a[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let T=d[D]||[];d[D]=T,T.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Dw(a){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,a),this.cb=fa("retryDelaySeedMs",1e4,a),this.Wa=fa("forwardChannelMaxRetries",2,a),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ow(a&&a.concurrentRequestLimit),this.Da=new Mx,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dw.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){ht(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Ow(this,null,this.W),Bu(this)};function gp(a){if(Cw(a),a.G==3){var d=a.U++,f=Bn(a.I);if(we(f,"SID",a.K),we(f,"RID",d),we(f,"TYPE","terminate"),ha(a,f),d=new fr(a,a.j,d),d.L=2,d.v=Fu(Bn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=kw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ou(d)}xw(a)}function ju(a){a.g&&(yp(a),a.g.cancel(),a.g=null)}function Cw(a){ju(a),a.u&&(c.clearTimeout(a.u),a.u=null),Uu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Bu(a){if(!sw(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ys||LI(),Js||(Ys(),Js=!0),Kh.add(d,a),a.B=0}}function kx(a,d){return aw(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ra(m(a.Ga,a,d),Rw(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new fr(this,this.j,a),T=this.o;if(this.S&&(T?(T=y(T),I(T,this.S)):T=this.S),this.m!==null||this.O||(D.H=T,T=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Sw(this,D,d),f=Bn(this.I),we(f,"RID",a),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),ha(this,f),T&&(this.O?d="headers="+encodeURIComponent(String(vw(T)))+"&"+d:this.m&&pp(f,this.m,T)),hp(this.h,D),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),D.T=!0,up(D,f,null)):up(D,f,d),this.G=2}}else this.G==3&&(a?Tw(this,a):this.i.length==0||sw(this.h)||Tw(this))};function Tw(a,d){var f;d?f=d.l:f=a.U++;let g=Bn(a.I);we(g,"SID",a.K),we(g,"RID",f),we(g,"AID",a.T),ha(a,g),a.m&&a.o&&pp(g,a.m,a.o),f=new fr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Sw(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),hp(a.h,f),up(f,g,d)}function ha(a,d){a.H&&Le(a.H,function(f,g){we(d,g,f)}),a.l&&lw({},function(f,g){we(d,g,f)})}function Sw(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let T=-1;for(;;){let x=["count="+f];T==-1?0<f?(T=D[0].g,x.push("ofs="+T)):T=0:x.push("ofs="+T);let _e=!0;for(let We=0;We<f;We++){let he=D[We].g,Ze=D[We].map;if(he-=T,0>he)T=Math.max(0,D[We].g-100),_e=!1;else try{Nx(Ze,x,"req"+he+"_")}catch{g&&g(Ze)}}if(_e){g=x.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function Aw(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ys||LI(),Js||(Ys(),Js=!0),Kh.add(d,a),a.v=0}}function mp(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ra(m(a.Fa,a),Rw(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Mw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ra(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),ju(this),Mw(this))};function yp(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Mw(a){a.g=new fr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Bn(a.qa);we(d,"RID","rpc"),we(d,"SID",a.K),we(d,"AID",a.T),we(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(d,"TO",a.ja),we(d,"TYPE","xmlhttp"),ha(a,d),a.m&&a.o&&pp(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Fu(Bn(d)),f.m=null,f.P=!0,nw(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ju(this),mp(this),ht(19))};function Uu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Nw(a,d){var f=null;if(a.g==d){Uu(a),yp(a),a.g=null;var g=2}else if(fp(a.h,d))f=d.D,cw(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=Nu(),ft(g,new ZI(g,f)),Bu(a)}else Aw(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&kx(a,d)||g==2&&mp(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),D){case 1:ni(a,5);break;case 4:ni(a,10);break;case 3:ni(a,6);break;default:ni(a,2)}}}function Rw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function ni(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let D=!g;g=new ti(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ku(g,"https"),Fu(g),D?Sx(g.toString(),f):Ax(g.toString(),f)}else ht(2);a.G=0,a.l&&a.l.sa(d),xw(a),Cw(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function xw(a){if(a.G=0,a.ka=[],a.l){let d=uw(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function Ow(a,d,f){var g=f instanceof ti?Bn(f):new ti(f);if(g.g!="")d&&(g.g=d+"."+g.g),Pu(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var T=new ti(null);g&&ku(T,g),d&&(T.g=d),D&&Pu(T,D),f&&(T.l=f),g=T}return f=a.D,d=a.ya,f&&d&&we(g,f,d),we(g,"VER",a.la),ha(a,g),g}function kw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Te(new ua({eb:f})):new Te(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pw(){}t=Pw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $u(){}$u.prototype.g=function(a,d){return new Ct(a,d)};function Ct(a,d){Je.call(this),this.g=new Dw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!X(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new _o(this)}S(Ct,Je),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){gp(this.g)},Ct.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=rp(a),a=f);d.i.push(new yx(d.Ya++,a)),d.G==3&&Bu(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,gp(this.g),delete this.g,Ct.aa.N.call(this)};function Fw(a){op.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(Fw,op);function Lw(){sp.call(this),this.status=1}S(Lw,sp);function _o(a){this.g=a}S(_o,Pw),_o.prototype.ua=function(){ft(this.g,"a")},_o.prototype.ta=function(a){ft(this.g,new Fw(a))},_o.prototype.sa=function(a){ft(this.g,new Lw)},_o.prototype.ra=function(){ft(this.g,"b")},$u.prototype.createWebChannel=$u.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,K_=sr.createWebChannelTransport=function(){return new $u},G_=sr.getStatEventTarget=function(){return Nu()},W_=sr.Event=Xr,hh=sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ru.NO_ERROR=0,Ru.TIMEOUT=8,Ru.HTTP_ERROR=6,au=sr.ErrorCode=Ru,XI.COMPLETE="complete",q_=sr.EventType=XI,KI.EventType=ta,ta.OPEN="a",ta.CLOSE="b",ta.ERROR="c",ta.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Ts=sr.WebChannel=KI,I3=sr.FetchXmlHttpFactory=ua,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,z_=sr.XhrIo=Te}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});var QM="@firebase/firestore",YM="4.8.0";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var Gs="11.10.0";var ao=new qt("@firebase/firestore");function Ss(){return ao.logLevel}function B(t,...e){if(ao.logLevel<=ie.DEBUG){let n=e.map(II);ao.debug(`Firestore (${Gs}): ${t}`,...n)}}function co(t,...e){if(ao.logLevel<=ie.ERROR){let n=e.map(II);ao.error(`Firestore (${Gs}): ${t}`,...n)}}function ks(t,...e){if(ao.logLevel<=ie.WARN){let n=e.map(II);ao.warn(`Firestore (${Gs}): ${t}`,...n)}}function II(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RN(t,r,n)}function RN(t,e,n){let r=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw co(r),new Error(r)}function Ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||RN(e,i,r)}function Ie(t,e){return t}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends su{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ar=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Eh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Z_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ze.UNAUTHENTICATED))}shutdown(){}},X_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},eE=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ar,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ar)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new Eh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new ze(e)}},tE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},nE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new tE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ih=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ih(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ih(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function w3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function b3(){return new TextEncoder}var pu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=w3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function fe(t,e){return t<e?-1:t>e?1:0}function iE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return fe(r,i);{let o=b3(),s=D3(o.encode(JM(t,n)),o.encode(JM(e,n)));return s!==0?s:fe(r,i)}}n+=r>65535?2:1}return fe(t.length,e.length)}function JM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function D3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return fe(t[n],e[n]);return fe(t.length,e.length)}function Ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ZM="__name__",wh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return fe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):iE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dh.fromString(e.substring(4,e.length-2))}},Me=class t extends wh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ft=class t extends wh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZM}static keyField(){return new t([ZM])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new $(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new $(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new $(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};function xN(t,e,n){if(!n)throw new $(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T3(t,e,n,r){if(e===!0&&r===!0)throw new $(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XM(t){if(!re.isDocumentKey(t))throw new $(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eN(t){if(re.isDocumentKey(t))throw new $(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ON(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function kN(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=wI(t);throw new $(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Oe(t,e){let n={typeString:t};return e&&(n.value=e),n}function wu(t,e){if(!ON(t))throw new $(A.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new $(A.INVALID_ARGUMENT,n);return!0}var tN=-62135596800,nN=1e6,Fe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tN)throw new $(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nN}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-tN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Oe("string",Fe._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};var Se=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Fe(0,0))}static max(){return new t(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gu=-1,oE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};oE.UNKNOWN_ID=-1;function S3(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new uo(i,re.empty(),e)}function A3(t){return new uo(t.readTime,t.key,gu)}var uo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Se.min(),re.empty(),gu)}static max(){return new t(Se.max(),re.empty(),gu)}};function M3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}var N3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function bI(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==N3)throw t;B("LocalStore","Unexpectedly lost primary lease")}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function R3(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bu(t){return t.name==="IndexedDbTransactionError"}var PN=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),DI=-1;function CI(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function x3(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var FN="";function O3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rN(e)),e=k3(t.get(n),e);return rN(e)}function k3(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case FN:n+="";break;default:n+=o}}return n}function rN(t){return t+FN+""}var P3="remoteDocuments",LN="owner";var VN="mutationQueues";var jN="mutations";var BN="documentMutations",F3="remoteDocumentsV14";var UN="remoteDocumentGlobal";var $N="targets";var HN="targetDocuments";var zN="targetGlobal",qN="collectionParents";var WN="clientMetadata";var GN="bundles";var KN="namedQueries";var L3="indexConfiguration";var V3="indexState";var j3="indexEntries";var QN="documentOverlays";var B3="globals";var U3=[VN,jN,BN,P3,$N,LN,zN,HN,WN,UN,qN,GN,KN],Aue=[...U3,QN],$3=[VN,jN,BN,F3,$N,LN,zN,HN,WN,UN,qN,GN,KN,QN],H3=$3,z3=[...H3,L3,V3,j3];var Mue=[...z3,B3];function iN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Vt=class t{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ms(this.root,e,this.comparator,!0)}},Ms=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bh(this.data.getIterator())}getIteratorFrom(e){return new bh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},bh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Fn=class t{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(Ft.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var aE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var cr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aE("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};cr.EMPTY_BYTE_STRING=new cr("");var q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(Ae(!!t,39018),typeof t=="string"){let e=0,n=q3.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lo(t){return typeof t=="string"?cr.fromBase64String(t):cr.fromUint8Array(t)}var JN="server_timestamp",ZN="__type__",XN="__previous_value__",eR="__local_write_time__";function TI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZN])===null||n===void 0?void 0:n.stringValue)===JN}function SI(t){let e=t.mapValue.fields[XN];return TI(e)?SI(e):e}function Dh(t){let e=Qr(t.mapValue.fields[eR].timestampValue);return new Fe(e.seconds,e.nanos)}var cE=class{constructor(e,n,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Ch="(default)",uE=class t{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var AI="__type__",tR="__max__",ph={mapValue:{fields:{__type__:{stringValue:tR}}}},MI="__vector__",yu="value";function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TI(t)?4:rR(t)?9007199254740991:nR(t)?10:11:te(28295,{value:t})}function Vn(t,e){if(t===e)return!0;let n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Qr(i.timestampValue),c=Qr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return lo(i.bytesValue).isEqual(lo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return xe(i.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return xe(i.integerValue)===xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=xe(i.doubleValue),c=xe(o.doubleValue);return s===c?mu(s)===mu(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return Ps(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(iN(s)!==iN(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Vn(s[u],c[u])))return!1;return!0})(t,e);default:return te(52216,{left:t})}}function vu(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function Fs(t,e){if(t===e)return 0;let n=fo(t),r=fo(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=xe(o.integerValue||o.doubleValue),u=xe(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return oN(t.timestampValue,e.timestampValue);case 4:return oN(Dh(t),Dh(e));case 5:return iE(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=lo(o),u=lo(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=fe(c[l],u[l]);if(h!==0)return h}return fe(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=fe(xe(o.latitude),xe(s.latitude));return c!==0?c:fe(xe(o.longitude),xe(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return sN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},v=(c=p[yu])===null||c===void 0?void 0:c.arrayValue,S=(u=m[yu])===null||u===void 0?void 0:u.arrayValue,N=fe(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:sN(v,S)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===ph.mapValue&&s===ph.mapValue)return 0;if(o===ph.mapValue)return 1;if(s===ph.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=iE(u[p],h[p]);if(m!==0)return m;let v=Fs(c[u[p]],l[h[p]]);if(v!==0)return v}return fe(u.length,h.length)})(t.mapValue,e.mapValue);default:throw te(23264,{le:n})}}function oN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);let n=Qr(t),r=Qr(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function sN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Fs(n[i],r[i]);if(o)return o}return fe(n.length,r.length)}function Ls(t){return lE(t)}function lE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Qr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return lo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=lE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${lE(n.fields[s])}`;return i+"}"})(t.mapValue):te(61005,{value:t})}function yh(t){switch(fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=SI(t);return e?16+yh(e):16;case 5:return 2*t.stringValue.length;case 6:return lo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+yh(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ks(r.fields,(o,s)=>{i+=o.length+yh(s)}),i})(t.mapValue);default:throw te(13486,{value:t})}}function dE(t){return!!t&&"integerValue"in t}function NI(t){return!!t&&"arrayValue"in t}function vh(t){return!!t&&"mapValue"in t}function nR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AI])===null||n===void 0?void 0:n.stringValue)===MI}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}var Rue={mapValue:{fields:{[AI]:{stringValue:MI},[yu]:{arrayValue:{}}}}};var Pn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=uu(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(uu(this.value))}};function iR(t){let e=[];return Ks(t.fields,(n,r)=>{let i=new Ft([n]);if(vh(r)){let o=iR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}var Vs=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var js=class{constructor(e,n){this.position=e,this.inclusive=n}};function aN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=Fs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}var Bs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function W3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Th=class{},qe=class t extends Th{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hE(e,n,r):n==="array-contains"?new mE(e,r):n==="in"?new yE(e,r):n==="not-in"?new vE(e,r):n==="array-contains-any"?new _E(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pE(e,r):new gE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fs(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yr=class t extends Th{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return oR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function oR(t){return t.op==="and"}function sR(t){return G3(t)&&oR(t)}function G3(t){for(let e of t.filters)if(e instanceof Yr)return!1;return!0}function fE(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Ls(t.value);if(sR(t))return t.filters.map(e=>fE(e)).join(",");{let e=t.filters.map(n=>fE(n)).join(",");return`${t.op}(${e})`}}function aR(t,e){return t instanceof qe?(function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)})(t,e):t instanceof Yr?(function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&aR(s,i.filters[c]),!0):!1})(t,e):void te(19439)}function cR(t){return t instanceof qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`})(t):t instanceof Yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(cR).join(" ,")+"}"})(t):"Filter"}var hE=class extends qe{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},pE=class extends qe{constructor(e,n){super(e,"in",n),this.keys=uR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gE=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=uR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function uR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}var mE=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return NI(n)&&vu(n.arrayValue,this.value)}},yE=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}},vE=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}},_E=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!NI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vu(this.value.arrayValue,r))}};var EE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function uN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new EE(t,e,n,r,i,o,s)}function RI(t){let e=Ie(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),CI(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ls(r)).join(",")),e.Pe=n}return e.Pe}function xI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cN(t.startAt,e.startAt)&&cN(t.endAt,e.endAt)}var Us=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function K3(t,e,n,r,i,o,s,c){return new Us(t,e,n,r,i,o,s,c)}function Q3(t){return new Us(t)}function lN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y3(t){return t.collectionGroup!==null}function lu(t){let e=Ie(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new dt(Ft.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Bs(o,r))}),n.has(Ft.keyField().canonicalString())||e.Te.push(new Bs(Ft.keyField(),r))}return e.Te}function no(t){let e=Ie(t);return e.Ie||(e.Ie=J3(e,lu(t))),e.Ie}function J3(t,e){if(t.limitType==="F")return uN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Bs(i.field,o)});let n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;return uN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function IE(t,e,n){return new Us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lR(t,e){return xI(no(t),no(e))&&t.limitType===e.limitType}function dR(t){return`${RI(no(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cR(i)).join(", ")}]`),CI(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ls(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ls(i)).join(",")),`Target(${r})`})(no(t))}; limitType=${t.limitType})`}function OI(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=aN(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,lu(r),i)||r.endAt&&!(function(s,c,u){let l=aN(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,lu(r),i))})(t,e)}function Z3(t){return(e,n)=>{let r=!1;for(let i of lu(t)){let o=X3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function X3(t,e,n){let r=t.field.isKeyField()?re.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Fs(u,l):te(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}var ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return YN(this.inner)}size(){return this.innerSize}};var e6=new Vt(re.comparator);function Sh(){return e6}var fR=new Vt(re.comparator);function gh(...t){let e=fR;for(let n of t)e=e.insert(n.key,n);return e}function hR(t){let e=fR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function to(){return du()}function pR(){return du()}function du(){return new ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var t6=new Vt(re.comparator),n6=new dt(re.comparator);function lt(...t){let e=n6;for(let n of t)e=e.add(n);return e}var r6=new dt(fe);function i6(){return r6}function kI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function gR(t){return{integerValue:""+t}}function o6(t,e){return x3(e)?gR(e):kI(t,e)}var $s=class{constructor(){this._=void 0}};function s6(t,e,n){return t instanceof Hs?(function(i,o){let s={fields:{[ZN]:{stringValue:JN},[eR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&TI(o)&&(o=SI(o)),o&&(s.fields[XN]=o),{mapValue:s}})(n,e):t instanceof ho?yR(t,e):t instanceof po?vR(t,e):(function(i,o){let s=mR(i,o),c=dN(s)+dN(i.Ee);return dE(s)&&dE(i.Ee)?gR(c):kI(i.serializer,c)})(t,e)}function a6(t,e,n){return t instanceof ho?yR(t,e):t instanceof po?vR(t,e):n}function mR(t,e){return t instanceof zs?(function(r){return dE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Hs=class extends $s{},ho=class extends $s{constructor(e){super(),this.elements=e}};function yR(t,e){let n=_R(e);for(let r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}var po=class extends $s{constructor(e){super(),this.elements=e}};function vR(t,e){let n=_R(e);for(let r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}var zs=class extends $s{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function dN(t){return xe(t.integerValue||t.doubleValue)}function _R(t){return NI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c6(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ho&&i instanceof ho||r instanceof po&&i instanceof po?Ps(r.elements,i.elements,Vn):r instanceof zs&&i instanceof zs?Vn(r.Ee,i.Ee):r instanceof Hs&&i instanceof Hs})(t.transform,e.transform)}var wE=class{constructor(e,n){this.version=e,this.transformResults=n}},ro=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var qs=class{};function ER(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ah(t.key,ro.none()):new go(t.key,t.data,ro.none());{let n=t.data,r=Pn.empty(),i=new dt(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new lr(t.key,r,new Fn(i.toArray()),ro.none())}}function u6(t,e,n){t instanceof go?(function(i,o,s){let c=i.value.clone(),u=hN(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof lr?(function(i,o,s){if(!_h(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=hN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(IR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,r){return t instanceof go?(function(o,s,c,u){if(!_h(o.precondition,s))return c;let l=o.value.clone(),h=pN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof lr?(function(o,s,c,u){if(!_h(o.precondition,s))return c;let l=pN(o.fieldTransforms,u,s),h=s.data;return h.setAll(IR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,c){return _h(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function l6(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=mR(r.transform,i||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function fN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ps(r,i,(o,s)=>c6(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var go=class extends qs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},lr=class extends qs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function IR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function hN(t,e,n){let r=new Map;Ae(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,a6(s,c,n[i]))}return r}function pN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,s6(o,s,e))}return r}var Ah=class extends qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bE=class extends qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var DE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&u6(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=pR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=ER(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(n,r)=>fN(n,r))&&Ps(this.baseMutations,e.baseMutations,(n,r)=>fN(n,r))}},CE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return t6})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var TE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ne,ue;function d6(t){switch(t){case A.OK:return te(64938);case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function f6(t){if(t===void 0)return co("GRPC error has no .code"),A.UNKNOWN;switch(t){case Ne.OK:return A.OK;case Ne.CANCELLED:return A.CANCELLED;case Ne.UNKNOWN:return A.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return A.INTERNAL;case Ne.UNAVAILABLE:return A.UNAVAILABLE;case Ne.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Ne.NOT_FOUND:return A.NOT_FOUND;case Ne.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Ne.ABORTED:return A.ABORTED;case Ne.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Ne.DATA_LOSS:return A.DATA_LOSS;default:return te(39323,{code:t})}}(ue=Ne||(Ne={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var xue=new dh([4294967295,4294967295],0);var SE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function AE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p6(t,e){return AE(t,e.toTimestamp())}function Rs(t){return Ae(!!t,49232),Se.fromTimestamp((function(n){let r=Qr(n);return new Fe(r.seconds,r.nanos)})(t))}function wR(t,e){return ME(t,e).canonicalString()}function ME(t,e){let n=(function(i){return new Me(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function g6(t){let e=Me.fromString(t);return Ae(b6(e),10190,{key:e.toString()}),e}function NE(t,e){return wR(t.databaseId,e.path)}function m6(t){let e=g6(t);return e.length===4?Me.emptyPath():v6(e)}function y6(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v6(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gN(t,e,n){return{name:NE(t,e),fields:n.value.mapValue.fields}}function _6(t,e){let n;if(e instanceof go)n={update:gN(t,e.key,e.value)};else if(e instanceof Ah)n={delete:NE(t,e.key)};else if(e instanceof lr)n={update:gN(t,e.key,e.data),updateMask:w6(e.fieldMask)};else{if(!(e instanceof bE))return te(16599,{Rt:e.type});n={verify:NE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof Hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ho)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zs)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw te(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:p6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te(27497)})(t,e.precondition)),n}function E6(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Rs(i.updateTime):Rs(o);return s.isEqual(Se.min())&&(s=Rs(o)),new wE(s,i.transformResults||[])})(n,e))):[]}function I6(t){let e=m6(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=bR(p);return m instanceof Yr&&sR(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Bs(As(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,CI(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,v=p.values||[];return new js(v,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,v=p.values||[];return new js(v,m)})(n.endAt)),K3(e,i,s,o,c,"F",u,l)}function bR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=As(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=As(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=As(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=As(n.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qe.create(As(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yr.create(n.compositeFilter.filters.map(r=>bR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}})(n.compositeFilter.op))})(t):te(30097,{filter:t})}function As(t){return Ft.fromServerFormat(t.fieldPath)}function w6(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function b6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var RE=class{constructor(e){this.gt=e}};function D6(t){let e=I6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IE(e,e.limit,"L"):e}var Mh=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),mu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Qr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(lo(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?rR(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):nR(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):te(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=yu,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(xe(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),re.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Mh.Ut=new Mh;var xE=class{constructor(){this.Dn=new OE}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(uo.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},OE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Me.comparator)).toArray()}};var Oue=new Uint8Array(0);var mN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DR=41943040,Qt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(DR,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var _u=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var yN="LruGarbageCollector",C6=1048576;function vN([t,e],[n,r]){let i=fe(t,n);return i===0?fe(e,r):i}var kE=class{constructor(e){this.Tr=e,this.buffer=new dt(vN),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();vN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},PE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(yN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bu(n)?B(yN,"Ignoring IndexedDB error during garbage collection: ",n):await bI(n)}await this.Rr(3e5)})}},FE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(PN.ue);let r=new kE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(mN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mN):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ss()<=ie.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function T6(t,e){return new FE(t,e)}var LE=class{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var VE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var jE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fu(r.mutation,i,Fn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){let i=to();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=gh();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=to();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Sh(),s=du(),c=(function(){return du()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof lr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),fu(h.mutation,l,h.mutation.getFieldMask(),Fe.now())):s.set(l.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new VE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=du(),i=new Vt((s,c)=>s-c),o=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Fn.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||lt()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=pR();h.forEach(m=>{if(!o.has(m)){let v=ER(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(to()),c=gu,u=o;return s.next(l=>M.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,lt())).next(h=>({batchId:c,changes:hR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=gh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=gh();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=(function(p,m){return new Us(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Vs.newInvalidDocument(h)))});let c=gh();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&fu(h.mutation,l,Fn.empty(),Fe.now()),OI(n,l)&&(c=c.insert(u,l))}),c})}};var BE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Rs(i.createTime)}})(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:D6(i.bundledQuery),readTime:Rs(i.readTime)}})(n)),M.resolve()}};var UE=class{constructor(){this.overlays=new Vt(re.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=to();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=to(),o=n.length+1,s=new re(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=to(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=to(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return M.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new TE(n,r));let o=this.kr.get(n);o===void 0&&(o=lt(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var $E=class{constructor(){this.sessionToken=cr.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var Eu=class{constructor(){this.qr=new dt(Re.Qr),this.$r=new dt(Re.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Re(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Re(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new re(new Me([])),r=new Re(n,e),i=new Re(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new re(new Me([])),r=new Re(n,e),i=new Re(n,e+1),o=lt();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Re(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Re=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return re.comparator(e.key,n.key)||fe(e.Hr,n.Hr)}static Ur(e,n){return fe(e.Hr,n.Hr)||re.comparator(e.key,n.key)}};var HE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new dt(Re.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new DE(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Re(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?DI:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Re(n,0),i=new Re(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(fe);return n.forEach(i=>{let o=new Re(i,0),s=new Re(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new Re(new re(o),0),c=new dt(fe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{let o=new Re(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Re(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var zE=class{constructor(e){this.ni=e,this.docs=(function(){return new Vt(re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Vs.newInvalidDocument(n))}getEntries(e,n){let r=Sh();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vs.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Sh(),s=n.path,c=new re(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||M3(A3(h),r)<=0||(i.has(h.key)||OI(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){te(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qE(this)}getSize(e){return M.resolve(this.size)}},qE=class extends LE{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var WE=class{constructor(e){this.persistence=e,this.ii=new ur(n=>RI(n),xI),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new Eu,this.targetCount=0,this._i=_u.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new _u(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}};var Nh=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new PN(0),this.ci=!1,this.ci=!0,this.li=new $E,this.referenceDelegate=e(this),this.hi=new WE(this),this.indexManager=new xE,this.remoteDocumentCache=(function(i){return new zE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new RE(n),this.Ti=new BE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new HE(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new GE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},GE=class extends sE{constructor(e){super(),this.currentSequenceNumber=e}},KE=class t{constructor(e){this.persistence=e,this.Ai=new Eu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=re.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Rh=class t{constructor(e,n){this.persistence=e,this.gi=new ur(r=>O3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=T6(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,Se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var QE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=lt(),i=lt();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var YE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var JE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return qM()?8:R3(zM())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new YE;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ss()<=ie.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Ss()<=ie.DEBUG&&B("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ss()<=ie.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(n))):M.resolve())}ps(e,n){if(lN(n))return M.resolve(null);let r=no(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=IE(n,null,"F"),r=no(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=lt(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,IE(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return lN(n)||i.isEqual(Se.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(Ss()<=ie.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.vs(e,s,n,S3(i,gu)).next(c=>c))})}bs(e,n){let r=new dt(Z3(e));return n.forEach((i,o)=>{OI(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Ss()<=ie.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",cu(n)),this.gs.getDocumentsMatchingQuery(e,n,uo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var S6="LocalStore";var ZE=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Vt(fe),this.Ms=new ur(o=>RI(o),xI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function A6(t,e,n,r){return new ZE(t,e,n,r)}async function CR(t,e){let n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=lt();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})}function M6(t,e){let n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,h){let p=l.batch,m=p.keys(),v=M.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(N=>{let R=l.docVersions.get(S);Ae(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=lt();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function N6(t){let e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function R6(t,e){let n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=DI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var xh=class{constructor(){this.activeTargetIds=i6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var XE=class{constructor(){this.Fo=new xh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new xh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var eI=class{xo(e){}shutdown(){}};var _N="ConnectivityMonitor",Oh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(_N,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(_N,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var mh=null;function tI(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}var Q_="RestConnection",x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=tI(),c=this.Go(e,n.toUriEncodedString());B(Q_,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=uh(l);return this.jo(e,c,u,r,h).then(p=>(B(Q_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ks(Q_,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=x6[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var rI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ut="WebChannelConnection",iI=class extends nI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=tI();return new Promise((c,u)=>{let l=new z_;l.setWithCredentials(!0),l.listenOnce(q_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case au.NO_ERROR:let p=l.getResponseJson();B(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case au.TIMEOUT:B(ut,`RPC '${e}' ${s} timed out`),u(new $(A.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:let m=l.getStatus();if(B(ut,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let S=v?.error;if(S&&S.status&&S.message){let N=(function(U){let X=U.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(X)>=0?X:A.UNKNOWN})(S.status);u(new $(N,S.message))}else u(new $(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(A.UNAVAILABLE,"Connection failed."));break;default:te(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(ut,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(ut,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=tI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K_(),c=G_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,v=!1,S=new rI({Ho:R=>{v?B(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(B(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(ut,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,U,X)=>{R.listen(U,oe=>{try{X(oe)}catch(Ce){setTimeout(()=>{throw Ce},0)}})};return N(p,Ts.EventType.OPEN,()=>{v||(B(ut,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),N(p,Ts.EventType.CLOSE,()=>{v||(v=!0,B(ut,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),N(p,Ts.EventType.ERROR,R=>{v||(v=!0,ks(ut,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new $(A.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ts.EventType.MESSAGE,R=>{var U;if(!v){let X=R.data[0];Ae(!!X,16349);let oe=X,Ce=oe?.error||((U=oe[0])===null||U===void 0?void 0:U.error);if(Ce){B(ut,`RPC '${e}' stream ${i} received error:`,Ce);let vn=Ce.status,Le=(function(E){let I=Ne[E];if(I!==void 0)return f6(I)})(vn),b=Ce.message;Le===void 0&&(Le=A.INTERNAL,b="Unknown error status: "+vn+" with message "+Ce.message),v=!0,S.__(new $(Le,b)),p.close()}else B(ut,`RPC '${e}' stream ${i} received:`,X),S.a_(X)}}),N(c,W_.STAT_EVENT,R=>{R.stat===hh.PROXY?B(ut,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===hh.NOPROXY&&B(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Y_(){return typeof document<"u"?document:null}function Uh(t){return new SE(t,!0)}var kh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var EN="PersistentStream",oI=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new kh(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(co(n.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new $(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return B(EN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(B(EN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var sI=class extends oI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=E6(e.writeResults,e.commitTime),r=Rs(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=y6(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>_6(this.serializer,r))};this.k_(n)}};var aI=class{},cI=class extends aI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(A.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,ME(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(A.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,ME(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(A.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},uI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(co(n),this._a=!1):B("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Du="RemoteStore",lI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Tu(this)&&(B(Du,"Restarting streams for network reachability change."),await(async function(u){let l=Ie(u);l.Ia.add(4),await Cu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await $h(l)})(this))})}),this.Aa=new uI(r,i)}};async function $h(t){if(Tu(t))for(let e of t.da)await e(!0)}async function Cu(t){for(let e of t.da)await e(!1)}function Tu(t){return Ie(t).Ia.size===0}async function TR(t,e,n){if(!bu(e))throw e;t.Ia.add(1),await Cu(t),t.Aa.set("Offline"),n||(n=()=>N6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B(Du,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await $h(t)})}function SR(t,e){return e().catch(n=>TR(t,n,e))}async function Hh(t){let e=Ie(t),n=Jr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:DI;for(;O6(e);)try{let i=await R6(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,k6(e,i)}catch(i){await TR(e,i)}AR(e)&&MR(e)}function O6(t){return Tu(t)&&t.Pa.length<10}function k6(t,e){t.Pa.push(e);let n=Jr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function AR(t){return Tu(t)&&!Jr(t).M_()&&t.Pa.length>0}function MR(t){Jr(t).start()}async function P6(t){Jr(t).na()}async function F6(t){let e=Jr(t);for(let n of t.Pa)e.X_(n.mutations)}async function L6(t,e,n){let r=t.Pa.shift(),i=CE.from(r,e,n);await SR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hh(t)}async function V6(t,e){e&&Jr(t).Z_&&await(async function(r,i){if((function(s){return d6(s)&&s!==A.ABORTED})(i.code)){let o=r.Pa.shift();Jr(r).N_(),await SR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hh(r)}})(t,e),AR(t)&&MR(t)}async function IN(t,e){let n=Ie(t);n.asyncQueue.verifyOperationInProgress(),B(Du,"RemoteStore received new credentials");let r=Tu(n);n.Ia.add(3),await Cu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await $h(n)}async function j6(t,e){let n=Ie(t);e?(n.Ia.delete(2),await $h(n)):e||(n.Ia.add(2),await Cu(n),n.Aa.set("Unknown"))}function Jr(t){return t.ma||(t.ma=(function(n,r,i){let o=Ie(n);return o.ia(),new sI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:P6.bind(null,t),n_:V6.bind(null,t),ea:F6.bind(null,t),ta:L6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Hh(t)):(await t.ma.stop(),t.Pa.length>0&&(B(Du,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var dI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NR(t,e){if(co("AsyncQueue",`${e}: ${t}`),bu(t))return new $(A.UNAVAILABLE,`${e}: ${t}`);throw t}var fI=class{constructor(){this.queries=wN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Ie(n),o=i.queries;i.queries=wN(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new $(A.ABORTED,"Firestore shutting down"))}};function wN(){return new ur(t=>dR(t),lR)}function B6(t){t.Da.forEach(e=>{e.next()})}var bN,DN;(DN=bN||(bN={})).Fa="default",DN.Cache="cache";var U6="SyncEngine";var hI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ur(c=>dR(c),lR),this.Tu=new Map,this.Iu=new Set,this.du=new Vt(re.comparator),this.Eu=new Map,this.Au=new Eu,this.Ru={},this.Vu=new Map,this.mu=_u.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function $6(t,e,n){let r=W6(t);try{let i=await(function(s,c){let u=Ie(s),l=Fe.now(),h=c.reduce((v,S)=>v.add(S.key),lt()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Sh(),N=lt();return u.Os.getEntries(v,h).next(R=>{S=R,S.forEach((U,X)=>{X.isValidDocument()||(N=N.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let U=[];for(let X of c){let oe=l6(X,p.get(X.key).overlayedDocument);oe!=null&&U.push(new lr(X.key,oe,iR(oe.value.mapValue),ro.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,U,c)}).next(R=>{m=R;let U=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,R.batchId,U)})}).then(()=>({batchId:m.batchId,changes:hR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Vt(fe)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await zh(r,i.changes),await Hh(r.remoteStore)}catch(i){let o=NR(i,"Failed to persist write");n.reject(o)}}function CN(t,e,n){let r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=Ie(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&B6(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H6(t,e){let n=Ie(t),r=e.batch.batchId;try{let i=await M6(n.localStore,e);xR(n,r,null),RR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zh(n,i)}catch(i){await bI(i)}}async function z6(t,e,n){let r=Ie(t);try{let i=await(function(s,c){let u=Ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Ae(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);xR(r,e,n),RR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zh(r,i)}catch(i){await bI(i)}}function RR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function xR(t,e,n){let r=Ie(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}async function zh(t,e,n){let r=Ie(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=QE.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=Ie(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>M.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!bu(p))throw p;B(S6,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.Fs.get(m),S=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,N)}}})(r.localStore,o))}async function q6(t,e){let n=Ie(t);if(!n.currentUser.isEqual(e)){B(U6,"User change. New user:",e.toKey());let r=await CR(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new $(A.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zh(n,r.Bs)}}function W6(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}var OR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Uh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return A6(this.persistence,new JE,n.initialUser,this.serializer)}Du(n){return new Nh(KE.Vi,this.serializer)}bu(n){return new XE}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),pI=class extends OR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ae(this.persistence.referenceDelegate instanceof Rh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new PE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Nh(r=>Rh.Vi(r,n),this.serializer)}};var G6=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q6.bind(null,this.syncEngine),await j6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new fI})()}createDatastore(n){let r=Uh(n.databaseInfo.databaseId),i=(function(s){return new iI(s)})(n.databaseInfo);return(function(s,c,u,l){return new cI(s,c,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new lI(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>CN(this.syncEngine,r,0),(function(){return Oh.C()?new Oh:new eI})())}createSyncEngine(n,r){return(function(o,s,c,u,l,h,p){let m=new hI(o,s,c,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=Ie(o);B(Du,"RemoteStore shutting down."),s.Ia.add(5),await Cu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var Zr="FirestoreClient",gI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=pu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{B(Zr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B(Zr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=NR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function J_(t,e){t.asyncQueue.verifyOperationInProgress(),B(Zr,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ks("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ks("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function TN(t,e){t.asyncQueue.verifyOperationInProgress();let n=await K6(t);B(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>IN(e.remoteStore,i)),t._onlineComponents=e}async function K6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(Zr,"Using user provided OfflineComponentProvider");try{await J_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===A.FAILED_PRECONDITION||i.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),await J_(t,new OR)}}else B(Zr,"Using default OfflineComponentProvider"),await J_(t,new pI(void 0));return t._offlineComponents}async function Q6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(Zr,"Using user provided OnlineComponentProvider"),await TN(t,t._uninitializedComponentsProvider._online)):(B(Zr,"Using default OnlineComponentProvider"),await TN(t,new G6))),t._onlineComponents}function Y6(t){return Q6(t).then(e=>e.syncEngine)}function kR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var SN=new Map;var PR="firestore.googleapis.com",AN=!0,Ph=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PR,this.ssl=AN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:AN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C6)throw new $(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ws=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ph({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ph(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Z_;switch(r.type){case"firstParty":return new nE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=SN.get(n);r&&(B("ComponentProvider","Removing Datastore"),SN.delete(n),r.terminate())})(this),Promise.resolve()}};function FR(t,e,n,r={}){var i;t=kN(t,Ws);let o=uh(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(UM(`https://${u}`),HM("Firestore",!0)),s.host!==PR&&s.host!==u&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!H_(l,c)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ze.MOCK_USER;else{h=$M(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ze(m)}t._authCredentials=new X_(new Eh(h,p))}}var mI=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wu(n,t._jsonSchema))return new t(e,r||null,new re(Me.fromString(n.referencePath)))}};Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Oe("string",Lt._jsonSchemaVersion),referencePath:Oe("string")};var Kr=class t extends mI{constructor(e,n,r){super(e,n,Q3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function LR(t,e,...n){if(t=Cs(t),xN("collection","path",e),t instanceof Ws){let r=Me.fromString(e,...n);return eN(r),new Kr(t,null,r)}{if(!(t instanceof Lt||t instanceof Kr))throw new $(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return eN(r),new Kr(t.firestore,null,r)}}function VR(t,e,...n){if(t=Cs(t),arguments.length===1&&(e=pu.newId()),xN("doc","path",e),t instanceof Ws){let r=Me.fromString(e,...n);return XM(r),new Lt(t,null,new re(r))}{if(!(t instanceof Lt||t instanceof Kr))throw new $(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return XM(r),new Lt(t.firestore,t instanceof Kr?t.converter:null,new re(r))}}var MN="AsyncQueue",Fh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new kh(this,"async_queue_retry"),this.oc=()=>{let r=Y_();r&&B(MN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Y_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Y_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new ar;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!bu(e))throw e;B(MN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,co("INTERNAL UNHANDLED ERROR: ",NN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=dI.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&te(47125,{hc:NN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function NN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Lh=class extends Ws{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Fh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Fh(e),this._firestoreClient=void 0,await e}}};function jR(t,e){let n=typeof t=="object"?t:Uc(),r=typeof t=="string"?t:e||Ch,i=Is(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=BM("firestore");o&&FR(i,...o)}return i}function J6(t){if(t._terminated)throw new $(A.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z6(t),t._firestoreClient}function Z6(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,l,h){return new cE(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new gI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var io=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(cr.fromBase64String(e))}catch(n){throw new $(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};io._jsonSchemaVersion="firestore/bytes/1.0",io._jsonSchema={type:Oe("string",io._jsonSchemaVersion),bytes:Oe("string")};var Iu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vh=class{constructor(e){this._methodName=e}};var oo=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(wu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};oo._jsonSchemaVersion="firestore/geoPoint/1.0",oo._jsonSchema={type:Oe("string",oo._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};var so=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new $(A.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};so._jsonSchemaVersion="firestore/vectorValue/1.0",so._jsonSchema={type:Oe("string",so._jsonSchemaVersion),vectorValues:Oe("object")};var X6=/^__.*__$/,yI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new go(e,this.data,n,this.fieldTransforms)}};function BR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ec:t})}}var vI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return jh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(BR(this.Ec)&&X6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},_I=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}Dc(e,n,r,i=!1){return new vI({Ec:e,methodName:n,bc:r,path:Ft.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function e8(t){let e=t._freezeSettings(),n=Uh(t._databaseId);return new _I(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t8(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);zR("Data must be an object, but it was:",s,r);let c=$R(r,s),u,l;if(o.merge)u=new Fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=n8(e,p,n);if(!s.contains(m))throw new $(A.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);i8(h,m)||h.push(m)}u=new Fn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new yI(new Pn(c),u,l)}function UR(t,e){if(HR(t=Cs(t)))return zR("Unsupported field value:",e,t),$R(t,e);if(t instanceof Vh)return(function(r,i){if(!BR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=UR(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Cs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Fe.fromDate(r);return{timestampValue:AE(i.serializer,o)}}if(r instanceof Fe){let o=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:AE(i.serializer,o)}}if(r instanceof oo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof io)return{bytesValue:h6(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof so)return(function(s,c){return{mapValue:{fields:{[AI]:{stringValue:MI},[yu]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return kI(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${wI(r)}`)})(t,e)}function $R(t,e){let n={};return YN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{let o=UR(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof oo||t instanceof io||t instanceof Lt||t instanceof Vh||t instanceof so)}function zR(t,e,n){if(!HR(n)||!ON(n)){let r=wI(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function n8(t,e,n){if((e=Cs(e))instanceof Iu)return e._internalPath;if(typeof e=="string")return qR(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}var r8=new RegExp("[~\\*/\\[\\]]");function qR(t,e,n){if(e.search(r8)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(A.INVALID_ARGUMENT,c+t+u)}function i8(t,e){return t.some(n=>n.isEqual(e))}var Bh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(WR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},EI=class extends Bh{data(){return super.data()}};function WR(t,e){return typeof e=="string"?qR(t,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}function o8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ns=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xs=class t extends Bh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(WR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(A.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",xs._jsonSchema={type:Oe("string",xs._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};var Os=class extends xs{data(e={}){return super.data(e)}},hu=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ns(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Os(this._firestore,this._userDataWriter,r.key,r,new Ns(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ns(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ns(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:s8(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(A.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function s8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}hu._jsonSchemaVersion="firestore/querySnapshot/1.0",hu._jsonSchema={type:Oe("string",hu._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};function GR(t,e){let n=kN(t.firestore,Lh),r=VR(t),i=o8(t.converter,e);return a8(n,[t8(e8(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function a8(t,e){return(function(r,i){let o=new ar;return r.asyncQueue.enqueueAndForget(async()=>$6(await Y6(r),i,o)),o.promise})(J6(t),e)}(function(e,n=!0){(function(i){Gs=i})($r),mn(new lh("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Lh(new eE(r.getProvider("auth-internal")),new rE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uE(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),gn(QM,YM,e),gn(QM,YM,"esm2017")})();var mo=class{constructor(e){return e}},KR="firestore",PI=class{constructor(){return Es(KR)}};var FI=new at("angularfire2.firestore-instances");function c8(t,e){let n=Vc(KR,t,e);return n&&new mo(n)}function u8(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mo(r)}}var l8={provide:PI,deps:[[new Gt,FI]]},d8={provide:mo,useFactory:c8,deps:[[new Gt,FI],nr]};function QR(t,...e){return bt("angularfire",jr.full,"fst"),vs([d8,l8,{provide:FI,useFactory:u8(t),multi:!0,deps:[Wt,On,Br,zi,[new Gt,iu],[new Gt,bs],...e]}])}var YR=tr(GR,!0,2);var JR=tr(LR,!0,2);var ZR=tr(jR,!0);var qh=class t{constructor(e){this.firestore=e}async sendInformation(e,n){try{console.log("Firestore instance:",this.firestore),console.log("Firestore type:",typeof this.firestore),console.log("Firestore constructor:",this.firestore?.constructor?.name);let r=JR(this.firestore,"signups"),o=await YR(r,{email:e,wants:n,timestamp:new Date});return console.log("Document written with ID: ",o.id),o}catch(r){throw console.error("Error adding document: ",r),r}}static \u0275fac=function(n){return new(n||t)(ee(mo))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var Wh=class t{constructor(e,n){this.router=e;this.infoService=n}isSignUpOpen=!1;email="";wants="";goHome(){this.router.navigate([""])}toggleDiscord(){window.open("https://discord.gg/zq7mPqDSyP","_blank")}signUpOption(){this.isSignUpOpen=!this.isSignUpOpen}async sendInformation(){if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.email)){alert("Please enter a valid email address.");return}if(this.wants.trim()===""){alert("Please specify what you would like to sign up for.");return}try{await this.infoService.sendInformation(this.email,this.wants),alert(`Thank you for signing up! I'll send "${this.wants}" to ${this.email}.`),this.email="",this.wants="",this.isSignUpOpen=!1}catch(n){alert("Error submitting your information. Please try again."),console.error(n)}}static \u0275fac=function(n){return new(n||t)(Qe(zt),Qe(qh))};static \u0275cmp=Nt({type:t,selectors:[["app-about"]],decls:16,vars:0,consts:[[3,"click"],[1,"loading-container"],[2,"color","rgba(154, 69, 228, 0.677)"],[2,"color","rgb(107, 6, 195)"],[1,"signup-wrapper"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(Tn(0,"header")(1,"nav")(2,"p",0),Mi("click",function(){return r.goHome()}),q(3,"> return"),Sn()()(),Tn(4,"main")(5,"div",1),q(6,"All"),Tn(7,"span",2),q(8,"about"),Sn(),q(9,"making"),Tn(10,"span",3),q(11,"beautiful"),Sn(),q(12,"music"),Sn(),Tn(13,"div",4)(14,"button",5),Mi("click",function(){return r.toggleDiscord()}),q(15," > Join the discord < "),Sn()()())},dependencies:[Or,nA],styles:["*[_ngcontent-%COMP%]{font-family:BBH Sans Bartle,sans-serif}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}p[_ngcontent-%COMP%]:hover{cursor:help}"]})};var XR=[{path:"",component:Lf},{path:"journey",component:Vf},{path:"work",component:jf},{path:"about",component:Wh},{path:"**",redirectTo:""}];var ude=Ov(kv.firebase),ex={providers:[Gg(),xy(XR),eA(()=>Ov(kv.firebase)),QR(()=>ZR()),NM(()=>RM())]};var Gh=class t{title=Kn("kidnxtdoordotcom");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Nt({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[["src","../assets/images/background.png","alt",""],["rel","preconnect","href",zo`https://fonts.googleapis.com`],["rel","preconnect","href",zo`https://fonts.gstatic.com`,"crossorigin",""],["href",zo`https://fonts.googleapis.com/css2?family=BBH+Sans+Bartle&display=swap`,"rel","stylesheet"],["rel","stylesheet","href",zo`https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200`]],template:function(n,r){n&1&&(ce(0,"img",0),L(1,"head"),ce(2,"link",1)(3,"link",2)(4,"link",3)(5,"link",4),j(),ce(6,"router-outlet"))},dependencies:[Tc],styles:["img[_ngcontent-%COMP%]{position:absolute;display:inline;bottom:0;right:0;z-index:-2;width:100%;height:100%;overflow:hidden}"]})};uy(Gh,ex).catch(t=>console.error(t));
